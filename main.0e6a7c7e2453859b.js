(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{2106:(Sn,Lt,de)=>{"use strict";var g=de(8367),Ae=de(2461),$=de(655),je=de(492),nt=de(4003);function it(ce){return ce&&"object"==typeof ce&&"default"in ce?ce:{default:ce}}var yt,Qe=it(g),ke=((yt={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",yt["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",yt["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",yt["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",yt["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",yt["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",yt["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",yt["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",yt["recaptcha-error"]="ReCAPTCHA error.",yt),fe=new je.ErrorFactory("appCheck","AppCheck",ke),Ee=new Map,ve={activated:!1,tokenObservers:[]},ae={enabled:!1};function ye(ce){return Ee.get(ce)||ve}function qe(ce,ge){Ee.set(ce,ge)}function he(){return ae}var Me="https://content-firebaseappcheck.googleapis.com/v1beta",bt=function(){function ce(ge,$e,ct,Et,Bt){if(this.operation=ge,this.retryPolicy=$e,this.getWaitDuration=ct,this.lowerBound=Et,this.upperBound=Bt,this.pending=null,this.nextErrorWaitInterval=Et,Et>Bt)throw new Error("Proactive refresh lower bound greater than upper bound!")}return ce.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},ce.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},ce.prototype.isRunning=function(){return!!this.pending},ce.prototype.process=function(ge){return $.__awaiter(this,void 0,void 0,function(){var $e;return $.__generator(this,function(ct){switch(ct.label){case 0:this.stop(),ct.label=1;case 1:return ct.trys.push([1,6,,7]),this.pending=new je.Deferred,[4,Pe(this.getNextRun(ge))];case 2:return ct.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return ct.sent(),this.pending=new je.Deferred,[4,this.operation()];case 4:return ct.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return ct.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return $e=ct.sent(),this.retryPolicy($e)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},ce.prototype.getNextRun=function(ge){if(ge)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var $e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),$e},ce}();function Pe(ce){return new Promise(function(ge){setTimeout(ge,ce)})}function Ke(){return self.grecaptcha}function Pt(ce){if(!ye(ce).activated)throw fe.create("use-before-activation",{appName:ce.name})}function Ft(ce){return je.base64.encodeString(JSON.stringify(ce),!1)}function We(ce,ge){var $e=ce.url,ct=ce.body;return $.__awaiter(this,void 0,void 0,function(){var Et,Bt,sn,kn,Xn,jn,Ar,ai,vi,rn;return $.__generator(this,function(Ii){switch(Ii.label){case 0:Et={"Content-Type":"application/json"},(Bt=ge.getImmediate({optional:!0}))&&(Et["X-Firebase-Client"]=Bt.getPlatformInfoString()),sn={method:"POST",body:JSON.stringify(ct),headers:Et},Ii.label=1;case 1:return Ii.trys.push([1,3,,4]),[4,fetch($e,sn)];case 2:return kn=Ii.sent(),[3,4];case 3:throw Xn=Ii.sent(),fe.create("fetch-network-error",{originalErrorMessage:Xn.message});case 4:if(200!==kn.status)throw fe.create("fetch-status-error",{httpStatus:kn.status});Ii.label=5;case 5:return Ii.trys.push([5,7,,8]),[4,kn.json()];case 6:return jn=Ii.sent(),[3,8];case 7:throw Ar=Ii.sent(),fe.create("fetch-parse-error",{originalErrorMessage:Ar.message});case 8:if(!(ai=jn.ttl.match(/^([\d.]+)(s)$/))||!ai[2]||isNaN(Number(ai[1])))throw fe.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+jn.ttl});return vi=1e3*Number(ai[1]),rn=Date.now(),[2,{token:jn.attestationToken,expireTimeMillis:rn+vi,issuedAtTimeMillis:rn}]}})})}function Ge(ce,ge){var $e=ce.options;return{url:Me+"/projects/"+$e.projectId+"/apps/"+$e.appId+":exchangeRecaptchaToken?key="+$e.apiKey,body:{recaptcha_token:ge}}}function Re(ce,ge){var $e=ce.options;return{url:Me+"/projects/"+$e.projectId+"/apps/"+$e.appId+":exchangeDebugToken?key="+$e.apiKey,body:{debug_token:ge}}}var Ye="firebase-app-check-store",Gt="debug-token",Yt=null;function pt(){return Yt||(Yt=new Promise(function(ce,ge){try{var $e=indexedDB.open("firebase-app-check-database",1);$e.onsuccess=function(ct){ce(ct.target.result)},$e.onerror=function(ct){var Et;ge(fe.create("storage-open",{originalErrorMessage:null===(Et=ct.target.error)||void 0===Et?void 0:Et.message}))},$e.onupgradeneeded=function(ct){0===ct.oldVersion&&ct.target.result.createObjectStore(Ye,{keyPath:"compositeKey"})}}catch(ct){ge(fe.create("storage-open",{originalErrorMessage:ct.message}))}}))}function ot(ce){return vt(Vt(ce))}function ft(ce,ge){return $.__awaiter(this,void 0,void 0,function(){var $e,ct,Et,Bt;return $.__generator(this,function(sn){switch(sn.label){case 0:return[4,pt()];case 1:return $e=sn.sent(),ct=$e.transaction(Ye,"readwrite"),Et=ct.objectStore(Ye),Bt=Et.put({compositeKey:ce,value:ge}),[2,new Promise(function(kn,Xn){Bt.onsuccess=function(jn){kn()},ct.onerror=function(jn){var Ar;Xn(fe.create("storage-set",{originalErrorMessage:null===(Ar=jn.target.error)||void 0===Ar?void 0:Ar.message}))}})]}})})}function vt(ce){return $.__awaiter(this,void 0,void 0,function(){var ge,$e,ct,Et;return $.__generator(this,function(Bt){switch(Bt.label){case 0:return[4,pt()];case 1:return ge=Bt.sent(),$e=ge.transaction(Ye,"readonly"),ct=$e.objectStore(Ye),Et=ct.get(ce),[2,new Promise(function(sn,kn){Et.onsuccess=function(Xn){var jn=Xn.target.result;sn(jn?jn.value:void 0)},$e.onerror=function(Xn){var jn;kn(fe.create("storage-get",{originalErrorMessage:null===(jn=Xn.target.error)||void 0===jn?void 0:jn.message}))}})]}})})}function Vt(ce){return ce.options.appId+"-"+ce.name}var Xe=new nt.Logger("@firebase/app-check");function Zt(ce,ge){return je.isIndexedDBAvailable()?function ht(ce,ge){return ft(Vt(ce),ge)}(ce,ge).catch(function($e){Xe.warn("Failed to write token to indexeddb. Error: "+$e)}):Promise.resolve()}function Un(){return $.__awaiter(this,void 0,void 0,function(){var ce;return $.__generator(this,function(ge){if((ce=he()).enabled&&ce.token)return[2,ce.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")})})}var Pn={error:"UNKNOWN_ERROR"};function _n(ce,ge,$e){return void 0===$e&&($e=!1),$.__awaiter(this,void 0,void 0,function(){var ct,Et,Bt,sn,kn,Xn,jn,Ar,ai,vi;return $.__generator(this,function(rn){switch(rn.label){case 0:return Pt(ce),ct=ye(ce),Bt=void 0,(Et=ct.token)?[3,2]:[4,ct.cachedTokenPromise];case 1:(sn=rn.sent())&&or(sn)&&(Et=sn,qe(ce,$.__assign($.__assign({},ct),{token:Et})),Dr(ce,{token:Et.token})),rn.label=2;case 2:return!$e&&Et&&or(Et)?[2,{token:Et.token}]:function In(){return he().enabled}()?(Xn=We,jn=Re,Ar=[ce],[4,Un()]):[3,6];case 3:return[4,Xn.apply(void 0,[jn.apply(void 0,Ar.concat([rn.sent()])),ge])];case 4:return kn=rn.sent(),[4,Zt(ce,kn)];case 5:return rn.sent(),qe(ce,$.__assign($.__assign({},ct),{token:kn})),[2,{token:kn.token}];case 6:return rn.trys.push([6,8,,9]),[4,ct.provider.getToken()];case 7:return Et=rn.sent(),[3,9];case 8:return ai=rn.sent(),Xe.error(ai),Bt=ai,[3,9];case 9:return Et?[3,10]:(vi=function Hr(ce){return{token:Ft(Pn),error:ce}}(Bt),[3,12]);case 10:return vi={token:Et.token},qe(ce,$.__assign($.__assign({},ct),{token:Et})),[4,Zt(ce,Et)];case 11:rn.sent(),rn.label=12;case 12:return Dr(ce,vi),[2,vi]}})})}function rr(ce,ge,$e,ct,Et){var Bt=ye(ce),sn={next:ct,error:Et,type:$e},kn=$.__assign($.__assign({},Bt),{tokenObservers:$.__spreadArray($.__spreadArray([],Bt.tokenObservers),[sn])});if(!kn.tokenRefresher){var Xn=function lr(ce,ge){var $e=this;return new bt(function(){return $.__awaiter($e,void 0,void 0,function(){var Et;return $.__generator(this,function(Bt){switch(Bt.label){case 0:return ye(ce).token?[3,2]:[4,_n(ce,ge)];case 1:return Et=Bt.sent(),[3,4];case 2:return[4,_n(ce,ge,!0)];case 3:Et=Bt.sent(),Bt.label=4;case 4:if(Et.error)throw Et.error;return[2]}})})},function(){return!0},function(){var ct=ye(ce);if(ct.token){var Et=ct.token.issuedAtTimeMillis+.5*(ct.token.expireTimeMillis-ct.token.issuedAtTimeMillis)+3e5;return Et=Math.min(Et,ct.token.expireTimeMillis-3e5),Math.max(0,Et-Date.now())}return 0},3e4,96e4)}(ce,ge);kn.tokenRefresher=Xn}if(!kn.tokenRefresher.isRunning()&&Bt.isTokenAutoRefreshEnabled&&kn.tokenRefresher.start(),Bt.token&&or(Bt.token)){var jn=Bt.token;Promise.resolve().then(function(){return ct({token:jn.token})}).catch(function(){})}else null==Bt.token&&Bt.cachedTokenPromise.then(function(Ar){Ar&&or(Ar)&&ct({token:Ar.token})}).catch(function(){});qe(ce,kn)}function Kn(ce,ge){var $e=ye(ce),ct=$e.tokenObservers.filter(function(Et){return Et.next!==ge});0===ct.length&&$e.tokenRefresher&&$e.tokenRefresher.isRunning()&&$e.tokenRefresher.stop(),qe(ce,$.__assign($.__assign({},$e),{tokenObservers:ct}))}function Dr(ce,ge){for(var ct=0,Et=ye(ce).tokenObservers;ct<Et.length;ct++){var Bt=Et[ct];try{"EXTERNAL"===Bt.type&&null!=ge.error?Bt.error(ge.error):Bt.next(ge)}catch(sn){}}}function or(ce){return ce.expireTimeMillis-Date.now()>0}function mi(ce){return $.__awaiter(this,void 0,void 0,function(){var $e;return $.__generator(this,function(ct){switch(ct.label){case 0:return Pt(ce),[4,ye(ce).reCAPTCHAState.initialized.promise];case 1:return $e=ct.sent(),[2,new Promise(function(Et,Bt){var sn=ye(ce).reCAPTCHAState;$e.ready(function(){Et($e.execute(sn.widgetId,{action:"fire_app_check"}))})})]}})})}function gn(ce,ge,$e,ct){var Et=$e.render(ct,{sitekey:ge,size:"invisible"}),Bt=ye(ce);qe(ce,$.__assign($.__assign({},Bt),{reCAPTCHAState:$.__assign($.__assign({},Bt.reCAPTCHAState),{widgetId:Et})}))}var Wn=function(){function ce(ge){this._siteKey=ge}return ce.prototype.getToken=function(){return $.__awaiter(this,void 0,void 0,function(){var ge;return $.__generator(this,function($e){switch($e.label){case 0:if(!this._app||!this._platformLoggerProvider)throw fe.create("use-before-activation",{appName:""});$e.label=1;case 1:return $e.trys.push([1,3,,4]),[4,mi(this._app)];case 2:return ge=$e.sent(),[3,4];case 3:throw $e.sent(),fe.create("recaptcha-error");case 4:return[2,We(Ge(this._app,ge),this._platformLoggerProvider)]}})})},ce.prototype.initialize=function(ge,$e){this._app=ge,this._platformLoggerProvider=$e,function Ci(ce,ge){var $e=ye(ce),ct=new je.Deferred;qe(ce,$.__assign($.__assign({},$e),{reCAPTCHAState:{initialized:ct}}));var Et="fire_app_check_"+ce.name,Bt=document.createElement("div");Bt.id=Et,Bt.style.display="none",document.body.appendChild(Bt);var sn=Ke();return sn?sn.ready(function(){gn(ce,ge,sn,Et),ct.resolve(sn)}):function An(ce){var ge=document.createElement("script");ge.src="https://www.google.com/recaptcha/api.js",ge.onload=ce,document.head.appendChild(ge)}(function(){var kn=Ke();if(!kn)throw new Error("no recaptcha");kn.ready(function(){gn(ce,ge,kn,Et),ct.resolve(kn)})}),ct.promise}(ge,this._siteKey).catch(function(){})},ce}(),wt=function(){function ce(ge){this._customProviderOptions=ge}return ce.prototype.getToken=function(){return $.__awaiter(this,void 0,void 0,function(){var ge,$e,ct;return $.__generator(this,function(Et){switch(Et.label){case 0:if(!this._app)throw fe.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return ge=Et.sent(),$e=je.issuedAtTime(ge.token),ct=null!==$e&&$e<Date.now()&&$e>0?1e3*$e:Date.now(),[2,$.__assign($.__assign({},ge),{issuedAtTimeMillis:ct})]}})})},ce.prototype.initialize=function(ge){this._app=ge},ce}();function Wi(ce,ge){return{app:ce,activate:function($e,ct){return function Mn(ce,ge,$e,ct){var Et=ye(ce);if(Et.activated)throw fe.create("already-activated",{appName:ce.name});var Bt=$.__assign($.__assign({},Et),{activated:!0});Bt.cachedTokenPromise=function mn(ce){return $.__awaiter(this,void 0,void 0,function(){var ge,$e;return $.__generator(this,function(ct){switch(ct.label){case 0:if(!je.isIndexedDBAvailable())return[3,5];ge=void 0,ct.label=1;case 1:return ct.trys.push([1,3,,4]),[4,ot(ce)];case 2:return ge=ct.sent(),[3,4];case 3:return $e=ct.sent(),Xe.warn("Failed to read token from indexeddb. Error: "+$e),[3,4];case 4:return[2,ge];case 5:return[2,void 0]}})})}(ce).then(function(sn){return sn&&or(sn)&&qe(ce,$.__assign($.__assign({},ye(ce)),{token:sn})),sn}),Bt.provider="string"==typeof ge?new Wn(ge):ge instanceof Wn||ge instanceof wt?ge:new wt({getToken:ge.getToken}),Bt.isTokenAutoRefreshEnabled=void 0===ct?ce.automaticDataCollectionEnabled:ct,qe(ce,Bt),Bt.provider.initialize(ce,$e)}(ce,$e,ge,ct)},setTokenAutoRefreshEnabled:function($e){return function Gi(ce,ge){var $e=ye(ce);$e.tokenRefresher&&(!0===ge?$e.tokenRefresher.start():$e.tokenRefresher.stop()),qe(ce,$.__assign($.__assign({},$e),{isTokenAutoRefreshEnabled:ge}))}(ce,$e)},getToken:function($e){return function Zr(ce,ge,$e){return $.__awaiter(this,void 0,void 0,function(){var ct;return $.__generator(this,function(Et){switch(Et.label){case 0:return[4,_n(ce,ge,$e)];case 1:if((ct=Et.sent()).error)throw ct.error;return[2,{token:ct.token}]}})})}(ce,ge,$e)},onTokenChanged:function($e,ct,Et){return function ur(ce,ge,$e,ct,Et){var Bt,sn=function(){};return Bt=null!=$e.next?$e.next.bind($e):$e,null!=$e.error?sn=$e.error.bind($e):ct&&(sn=ct),rr(ce,ge,"EXTERNAL",Bt,sn),function(){return Kn(ce,Bt)}}(ce,ge,$e,ct)},INTERNAL:{delete:function(){for(var ct=0,Et=ye(ce).tokenObservers;ct<Et.length;ct++)Kn(ce,Et[ct].next);return Promise.resolve()}}}}var De="app-check-internal";(function tt(ce){ce.INTERNAL.registerComponent(new Ae.Component("appCheck",function(ge){return Wi(ge.getProvider("app").getImmediate(),ge.getProvider("platform-logger"))},"PUBLIC").setServiceProps({ReCaptchaV3Provider:Wn,CustomProvider:wt}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(ge,$e,ct){ge.getProvider(De).initialize()})),ce.INTERNAL.registerComponent(new Ae.Component(De,function(ge){return function er(ce,ge){return{getToken:function($e){return _n(ce,ge,$e)},addTokenListener:function($e){return rr(ce,ge,"INTERNAL",$e)},removeTokenListener:function($e){return Kn(ce,$e)}}}(ge.getProvider("app").getImmediate(),ge.getProvider("platform-logger"))},"PUBLIC").setInstantiationMode("EXPLICIT")),ce.registerVersion("@firebase/app-check","0.3.2")})(Qe.default),function nr(){var ce=je.getGlobal();if("string"==typeof ce.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===ce.FIREBASE_APPCHECK_DEBUG_TOKEN){var ge=he();ge.enabled=!0;var $e=new je.Deferred;ge.token=$e,$e.resolve("string"==typeof ce.FIREBASE_APPCHECK_DEBUG_TOKEN?ce.FIREBASE_APPCHECK_DEBUG_TOKEN:function Vn(){return $.__awaiter(this,void 0,void 0,function(){var ce,ge;return $.__generator(this,function($e){switch($e.label){case 0:ce=void 0,$e.label=1;case 1:return $e.trys.push([1,3,,4]),[4,vt(Gt)];case 2:return ce=$e.sent(),[3,4];case 3:return $e.sent(),[3,4];case 4:return ce?[2,ce]:(ge=function at(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(ce){var ge=16*Math.random()|0;return("x"===ce?ge:3&ge|8).toString(16)})}(),function st(ce){return ft(Gt,ce)}(ge).catch(function(ct){return Xe.warn("Failed to persist debug token to indexeddb. Error: "+ct)}),console.log("AppCheck debug token: "+ge+". You will need to whitelist it in the Firebase console for it to work"),[2,ge])}})})}())}}()},8367:(Sn,Lt,de)=>{"use strict";de.r(Lt),de.d(Lt,{default:()=>ht,firebase:()=>ot});var nt,Pe,g=de(655),Ae=de(492),$=de(2461),je=de(4003),it=((nt={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",nt["bad-app-name"]="Illegal App name: '{$appName}",nt["duplicate-app"]="Firebase App named '{$appName}' already exists",nt["app-deleted"]="Firebase App named '{$appName}' already deleted",nt["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",nt["invalid-log-argument"]="First argument to `onLog` must be null or a function.",nt),Qe=new Ae.ErrorFactory("app","Firebase",it),yt="@firebase/app",Ke="[DEFAULT]",Pt=((Pe={})[yt]="fire-core",Pe["@firebase/analytics"]="fire-analytics",Pe["@firebase/app-check"]="fire-app-check",Pe["@firebase/auth"]="fire-auth",Pe["@firebase/database"]="fire-rtdb",Pe["@firebase/functions"]="fire-fn",Pe["@firebase/installations"]="fire-iid",Pe["@firebase/messaging"]="fire-fcm",Pe["@firebase/performance"]="fire-perf",Pe["@firebase/remote-config"]="fire-rc",Pe["@firebase/storage"]="fire-gcs",Pe["@firebase/firestore"]="fire-fst",Pe["fire-js"]="fire-js",Pe["firebase-wrapper"]="fire-js-all",Pe),at=new je.Logger("@firebase/app"),Ft=function(){function st(Je,ft,vt){var Vt=this;this.firebase_=vt,this.isDeleted_=!1,this.name_=ft.name,this.automaticDataCollectionEnabled_=ft.automaticDataCollectionEnabled||!1,this.options_=(0,Ae.deepCopy)(Je),this.container=new $.ComponentContainer(ft.name),this._addComponent(new $.Component("app",function(){return Vt},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(Xe){return Vt._addComponent(Xe)})}return Object.defineProperty(st.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Je){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Je},enumerable:!1,configurable:!0}),Object.defineProperty(st.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(st.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),st.prototype.delete=function(){var Je=this;return new Promise(function(ft){Je.checkDestroyed_(),ft()}).then(function(){return Je.firebase_.INTERNAL.removeApp(Je.name_),Promise.all(Je.container.getProviders().map(function(ft){return ft.delete()}))}).then(function(){Je.isDeleted_=!0})},st.prototype._getService=function(Je,ft){var vt;void 0===ft&&(ft=Ke),this.checkDestroyed_();var Vt=this.container.getProvider(Je);return!Vt.isInitialized()&&"EXPLICIT"===(null===(vt=Vt.getComponent())||void 0===vt?void 0:vt.instantiationMode)&&Vt.initialize(),Vt.getImmediate({identifier:ft})},st.prototype._removeServiceInstance=function(Je,ft){void 0===ft&&(ft=Ke),this.container.getProvider(Je).clearInstance(ft)},st.prototype._addComponent=function(Je){try{this.container.addComponent(Je)}catch(ft){at.debug("Component "+Je.name+" failed to register with FirebaseApp "+this.name,ft)}},st.prototype._addOrOverwriteComponent=function(Je){this.container.addOrOverwriteComponent(Je)},st.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},st.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Qe.create("app-deleted",{appName:this.name_})},st}();Ft.prototype.name&&Ft.prototype.options||Ft.prototype.delete||console.log("dc");var Ie=function Re(){var st=function Ge(st){var Je={},ft=new Map,vt={__esModule:!0,initializeApp:function mn(Pn,_n){void 0===_n&&(_n={}),("object"!=typeof _n||null===_n)&&(_n={name:_n});var Kn=_n;void 0===Kn.name&&(Kn.name=Ke);var lr=Kn.name;if("string"!=typeof lr||!lr)throw Qe.create("bad-app-name",{appName:String(lr)});if((0,Ae.contains)(Je,lr))throw Qe.create("duplicate-app",{appName:lr});var Dr=new st(Pn,Kn,vt);return Je[lr]=Dr,Dr},app:Xe,registerVersion:function In(Pn,_n,rr){var Kn,lr=null!==(Kn=Pt[Pn])&&void 0!==Kn?Kn:Pn;rr&&(lr+="-"+rr);var Dr=lr.match(/\s|\//),or=_n.match(/\s|\//);if(Dr||or){var Hr=['Unable to register library "'+lr+'" with version "'+_n+'":'];return Dr&&Hr.push('library name "'+lr+'" contains illegal characters (whitespace or "/")'),Dr&&or&&Hr.push("and"),or&&Hr.push('version name "'+_n+'" contains illegal characters (whitespace or "/")'),void at.warn(Hr.join(" "))}Vn(new $.Component(lr+"-version",function(){return{library:lr,version:_n}},"VERSION"))},setLogLevel:je.setLogLevel,onLog:function Un(Pn,_n){if(null!==Pn&&"function"!=typeof Pn)throw Qe.create("invalid-log-argument");(0,je.setUserLogHandler)(Pn,_n)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:Vn,removeApp:function Vt(Pn){delete Je[Pn]},components:ft,useAsService:function nr(Pn,_n){return"serverAuth"===_n?null:_n}}};function Xe(Pn){if(!(0,Ae.contains)(Je,Pn=Pn||Ke))throw Qe.create("no-app",{appName:Pn});return Je[Pn]}function Vn(Pn){var _n=Pn.name;if(ft.has(_n))return at.debug("There were multiple attempts to register component "+_n+"."),"PUBLIC"===Pn.type?vt[_n]:null;if(ft.set(_n,Pn),"PUBLIC"===Pn.type){var rr=function(or){if(void 0===or&&(or=Xe()),"function"!=typeof or[_n])throw Qe.create("invalid-app-argument",{appName:_n});return or[_n]()};void 0!==Pn.serviceProps&&(0,Ae.deepExtend)(rr,Pn.serviceProps),vt[_n]=rr,st.prototype[_n]=function(){for(var or=[],Hr=0;Hr<arguments.length;Hr++)or[Hr]=arguments[Hr];return this._getService.bind(this,_n).apply(this,Pn.multipleInstances?or:[])}}for(var Kn=0,lr=Object.keys(Je);Kn<lr.length;Kn++)Je[lr[Kn]]._addComponent(Pn);return"PUBLIC"===Pn.type?vt[_n]:null}return vt.default=vt,Object.defineProperty(vt,"apps",{get:function Zt(){return Object.keys(Je).map(function(Pn){return Je[Pn]})}}),Xe.App=st,vt}(Ft);return st.INTERNAL=(0,g.__assign)((0,g.__assign)({},st.INTERNAL),{createFirebaseNamespace:Re,extendNamespace:function Je(ft){(0,Ae.deepExtend)(st,ft)},createSubscribe:Ae.createSubscribe,ErrorFactory:Ae.ErrorFactory,deepExtend:Ae.deepExtend}),st}(),Ue=function(){function st(Je){this.container=Je}return st.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(ft){if(function Ye(st){var Je=st.getComponent();return"VERSION"===(null==Je?void 0:Je.type)}(ft)){var vt=ft.getImmediate();return vt.library+"/"+vt.version}return null}).filter(function(ft){return ft}).join(" ")},st}();if((0,Ae.isBrowser)()&&void 0!==self.firebase){at.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Yt=self.firebase.SDK_VERSION;Yt&&Yt.indexOf("LITE")>=0&&at.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var pt=Ie.initializeApp;Ie.initializeApp=function(){for(var st=[],Je=0;Je<arguments.length;Je++)st[Je]=arguments[Je];return(0,Ae.isNode)()&&at.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),pt.apply(void 0,st)};var ot=Ie;!function Gt(st,Je){st.INTERNAL.registerComponent(new $.Component("platform-logger",function(ft){return new Ue(ft)},"PRIVATE")),st.registerVersion(yt,"0.6.30",Je),st.registerVersion("fire-js","")}(ot);const ht=ot},2461:(Sn,Lt,de)=>{"use strict";de.r(Lt),de.d(Lt,{Component:()=>$,ComponentContainer:()=>yt,Provider:()=>nt});var g=de(655),Ae=de(492),$=function(){function ke(fe,Ee,ve){this.name=fe,this.instanceFactory=Ee,this.type=ve,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ke.prototype.setInstantiationMode=function(fe){return this.instantiationMode=fe,this},ke.prototype.setMultipleInstances=function(fe){return this.multipleInstances=fe,this},ke.prototype.setServiceProps=function(fe){return this.serviceProps=fe,this},ke.prototype.setInstanceCreatedCallback=function(fe){return this.onInstanceCreated=fe,this},ke}(),je="[DEFAULT]",nt=function(){function ke(fe,Ee){this.name=fe,this.container=Ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ke.prototype.get=function(fe){var Ee=this.normalizeInstanceIdentifier(fe);if(!this.instancesDeferred.has(Ee)){var ve=new Ae.Deferred;if(this.instancesDeferred.set(Ee,ve),this.isInitialized(Ee)||this.shouldAutoInitialize())try{var ae=this.getOrInitializeService({instanceIdentifier:Ee});ae&&ve.resolve(ae)}catch(ye){}}return this.instancesDeferred.get(Ee).promise},ke.prototype.getImmediate=function(fe){var Ee,ve=this.normalizeInstanceIdentifier(null==fe?void 0:fe.identifier),ae=null!==(Ee=null==fe?void 0:fe.optional)&&void 0!==Ee&&Ee;if(!this.isInitialized(ve)&&!this.shouldAutoInitialize()){if(ae)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:ve})}catch(ye){if(ae)return null;throw ye}},ke.prototype.getComponent=function(){return this.component},ke.prototype.setComponent=function(fe){var Ee,ve;if(fe.name!==this.name)throw Error("Mismatching Component "+fe.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=fe,this.shouldAutoInitialize()){if(function Qe(ke){return"EAGER"===ke.instantiationMode}(fe))try{this.getOrInitializeService({instanceIdentifier:je})}catch(et){}try{for(var ae=(0,g.__values)(this.instancesDeferred.entries()),ye=ae.next();!ye.done;ye=ae.next()){var qe=(0,g.__read)(ye.value,2),Me=qe[1],Ve=this.normalizeInstanceIdentifier(qe[0]);try{var rt=this.getOrInitializeService({instanceIdentifier:Ve});Me.resolve(rt)}catch(et){}}}catch(et){Ee={error:et}}finally{try{ye&&!ye.done&&(ve=ae.return)&&ve.call(ae)}finally{if(Ee)throw Ee.error}}}},ke.prototype.clearInstance=function(fe){void 0===fe&&(fe=je),this.instancesDeferred.delete(fe),this.instancesOptions.delete(fe),this.instances.delete(fe)},ke.prototype.delete=function(){return(0,g.__awaiter)(this,void 0,void 0,function(){var fe;return(0,g.__generator)(this,function(Ee){switch(Ee.label){case 0:return fe=Array.from(this.instances.values()),[4,Promise.all((0,g.__spreadArray)((0,g.__spreadArray)([],(0,g.__read)(fe.filter(function(ve){return"INTERNAL"in ve}).map(function(ve){return ve.INTERNAL.delete()}))),(0,g.__read)(fe.filter(function(ve){return"_delete"in ve}).map(function(ve){return ve._delete()}))))];case 1:return Ee.sent(),[2]}})})},ke.prototype.isComponentSet=function(){return null!=this.component},ke.prototype.isInitialized=function(fe){return void 0===fe&&(fe=je),this.instances.has(fe)},ke.prototype.getOptions=function(fe){return void 0===fe&&(fe=je),this.instancesOptions.get(fe)||{}},ke.prototype.initialize=function(fe){var Ee,ve;void 0===fe&&(fe={});var ae=fe.options,ye=void 0===ae?{}:ae,qe=this.normalizeInstanceIdentifier(fe.instanceIdentifier);if(this.isInitialized(qe))throw Error(this.name+"("+qe+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var he=this.getOrInitializeService({instanceIdentifier:qe,options:ye});try{for(var Me=(0,g.__values)(this.instancesDeferred.entries()),Ve=Me.next();!Ve.done;Ve=Me.next()){var rt=(0,g.__read)(Ve.value,2),bt=rt[1];qe===this.normalizeInstanceIdentifier(rt[0])&&bt.resolve(he)}}catch(Ke){Ee={error:Ke}}finally{try{Ve&&!Ve.done&&(ve=Me.return)&&ve.call(Me)}finally{if(Ee)throw Ee.error}}return he},ke.prototype.onInit=function(fe,Ee){var ve,ae=this.normalizeInstanceIdentifier(Ee),ye=null!==(ve=this.onInitCallbacks.get(ae))&&void 0!==ve?ve:new Set;ye.add(fe),this.onInitCallbacks.set(ae,ye);var qe=this.instances.get(ae);return qe&&fe(qe,ae),function(){ye.delete(fe)}},ke.prototype.invokeOnInitCallbacks=function(fe,Ee){var ve,ae,ye=this.onInitCallbacks.get(Ee);if(ye)try{for(var qe=(0,g.__values)(ye),he=qe.next();!he.done;he=qe.next()){var Me=he.value;try{Me(fe,Ee)}catch(Ve){}}}catch(Ve){ve={error:Ve}}finally{try{he&&!he.done&&(ae=qe.return)&&ae.call(qe)}finally{if(ve)throw ve.error}}},ke.prototype.getOrInitializeService=function(fe){var Ee=fe.instanceIdentifier,ve=fe.options,ae=void 0===ve?{}:ve,ye=this.instances.get(Ee);if(!ye&&this.component&&(ye=this.component.instanceFactory(this.container,{instanceIdentifier:it(Ee),options:ae}),this.instances.set(Ee,ye),this.instancesOptions.set(Ee,ae),this.invokeOnInitCallbacks(ye,Ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ee,ye)}catch(qe){}return ye||null},ke.prototype.normalizeInstanceIdentifier=function(fe){return void 0===fe&&(fe=je),this.component?this.component.multipleInstances?fe:je:fe},ke.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},ke}();function it(ke){return ke===je?void 0:ke}var yt=function(){function ke(fe){this.name=fe,this.providers=new Map}return ke.prototype.addComponent=function(fe){var Ee=this.getProvider(fe.name);if(Ee.isComponentSet())throw new Error("Component "+fe.name+" has already been registered with "+this.name);Ee.setComponent(fe)},ke.prototype.addOrOverwriteComponent=function(fe){this.getProvider(fe.name).isComponentSet()&&this.providers.delete(fe.name),this.addComponent(fe)},ke.prototype.getProvider=function(fe){if(this.providers.has(fe))return this.providers.get(fe);var Ee=new nt(fe,this);return this.providers.set(fe,Ee),Ee},ke.prototype.getProviders=function(){return Array.from(this.providers.values())},ke}()},6089:(Sn,Lt,de)=>{"use strict";var g=de(8367),Ae=de(2461),$=de(492),je=de(655),nt=de(4003);Sn=de.hmd(Sn);var yt="";function ke(f){yt=f}var f,fe=function(){function f(l){this.domStorage_=l,this.prefix_="firebase:"}return f.prototype.set=function(l,p){null==p?this.domStorage_.removeItem(this.prefixedName_(l)):this.domStorage_.setItem(this.prefixedName_(l),(0,$.stringify)(p))},f.prototype.get=function(l){var p=this.domStorage_.getItem(this.prefixedName_(l));return null==p?null:(0,$.jsonEval)(p)},f.prototype.remove=function(l){this.domStorage_.removeItem(this.prefixedName_(l))},f.prototype.prefixedName_=function(l){return this.prefix_+l},f.prototype.toString=function(){return this.domStorage_.toString()},f}(),Ee=function(){function f(){this.cache_={},this.isInMemoryStorage=!0}return f.prototype.set=function(l,p){null==p?delete this.cache_[l]:this.cache_[l]=p},f.prototype.get=function(l){return(0,$.contains)(this.cache_,l)?this.cache_[l]:null},f.prototype.remove=function(l){delete this.cache_[l]},f}(),ve=function(f){try{if("undefined"!=typeof window&&void 0!==window[f]){var l=window[f];return l.setItem("firebase:sentinel","cache"),l.removeItem("firebase:sentinel"),new fe(l)}}catch(p){}return new Ee},ae=ve("localStorage"),ye=ve("sessionStorage"),qe=new nt.Logger("@firebase/database"),he=(f=1,function(){return f++}),Me=function(f){var l=(0,$.stringToByteArray)(f),p=new $.Sha1;p.update(l);var y=p.digest();return $.base64.encodeByteArray(y)},Ve=function(){for(var f=[],l=0;l<arguments.length;l++)f[l]=arguments[l];for(var p="",y=0;y<f.length;y++){var D=f[y];Array.isArray(D)||D&&"object"==typeof D&&"number"==typeof D.length?p+=Ve.apply(null,D):p+="object"==typeof D?(0,$.stringify)(D):D,p+=" "}return p},rt=null,et=!0,bt=function(f,l){(0,$.assert)(!l||!0===f||!1===f,"Can't turn on custom loggers persistently."),!0===f?(qe.logLevel=nt.LogLevel.VERBOSE,rt=qe.log.bind(qe),l&&ye.set("logging_enabled",!0)):"function"==typeof f?rt=f:(rt=null,ye.remove("logging_enabled"))},Pe=function(){for(var f=[],l=0;l<arguments.length;l++)f[l]=arguments[l];if(!0===et&&(et=!1,null===rt&&!0===ye.get("logging_enabled")&&bt(!0)),rt){var p=Ve.apply(null,f);rt(p)}},Ke=function(f){return function(){for(var l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];Pe.apply(void 0,(0,je.__spreadArray)([f],(0,je.__read)(l)))}},Pt=function(){for(var f=[],l=0;l<arguments.length;l++)f[l]=arguments[l];var p="FIREBASE INTERNAL ERROR: "+Ve.apply(void 0,(0,je.__spreadArray)([],(0,je.__read)(f)));qe.error(p)},at=function(){for(var f=[],l=0;l<arguments.length;l++)f[l]=arguments[l];var p="FIREBASE FATAL ERROR: "+Ve.apply(void 0,(0,je.__spreadArray)([],(0,je.__read)(f)));throw qe.error(p),new Error(p)},Ft=function(){for(var f=[],l=0;l<arguments.length;l++)f[l]=arguments[l];var p="FIREBASE WARNING: "+Ve.apply(void 0,(0,je.__spreadArray)([],(0,je.__read)(f)));qe.warn(p)},Ge=function(f){return"number"==typeof f&&(f!=f||f===Number.POSITIVE_INFINITY||f===Number.NEGATIVE_INFINITY)},Ie="[MIN_NAME]",Ue="[MAX_NAME]",Ye=function(f,l){if(f===l)return 0;if(f===Ie||l===Ue)return-1;if(l===Ie||f===Ue)return 1;var p=Zt(f),y=Zt(l);return null!==p?null!==y?p-y==0?f.length-l.length:p-y:-1:null!==y?1:f<l?-1:1},Gt=function(f,l){return f===l?0:f<l?-1:1},Yt=function(f,l){if(l&&f in l)return l[f];throw new Error("Missing required key ("+f+") in object: "+(0,$.stringify)(l))},pt=function(f){if("object"!=typeof f||null===f)return(0,$.stringify)(f);var l=[];for(var p in f)l.push(p);l.sort();for(var y="{",D=0;D<l.length;D++)0!==D&&(y+=","),y+=(0,$.stringify)(l[D]),y+=":",y+=pt(f[l[D]]);return y+"}"},ot=function(f,l){var p=f.length;if(p<=l)return[f];for(var y=[],D=0;D<p;D+=l)y.push(f.substring(D,D+l>p?p:D+l));return y};function ht(f,l){for(var p in f)f.hasOwnProperty(p)&&l(p,f[p])}var st=function(f){(0,$.assert)(!Ge(f),"Invalid JSON number");var D,k,H,re,le,y=1023;0===f?(k=0,H=0,D=1/f==-1/0?1:0):(D=f<0,(f=Math.abs(f))>=Math.pow(2,1-y)?(k=(re=Math.min(Math.floor(Math.log(f)/Math.LN2),y))+y,H=Math.round(f*Math.pow(2,52-re)-Math.pow(2,52))):(k=0,H=Math.round(f/Math.pow(2,-1074))));var be=[];for(le=52;le;le-=1)be.push(H%2?1:0),H=Math.floor(H/2);for(le=11;le;le-=1)be.push(k%2?1:0),k=Math.floor(k/2);be.push(D?1:0),be.reverse();var Te=be.join(""),gt="";for(le=0;le<64;le+=8){var kt=parseInt(Te.substr(le,8),2).toString(16);1===kt.length&&(kt="0"+kt),gt+=kt}return gt.toLowerCase()},Vt=new RegExp("^-?(0*)\\d{1,10}$"),Xe=-2147483648,mn=2147483647,Zt=function(f){if(Vt.test(f)){var l=Number(f);if(l>=Xe&&l<=mn)return l}return null},Vn=function(f){try{f()}catch(l){setTimeout(function(){throw Ft("Exception was thrown by user callback.",l.stack||""),l},Math.floor(0))}},Un=function(f,l){var p=setTimeout(f,l);return"object"==typeof p&&p.unref&&p.unref(),p},nr=function(){function f(l,p){var y=this;this.appName_=l,this.appCheckProvider=p,this.appCheck=null==p?void 0:p.getImmediate({optional:!0}),this.appCheck||null==p||p.get().then(function(D){return y.appCheck=D})}return f.prototype.getToken=function(l){var p=this;return this.appCheck?this.appCheck.getToken(l):new Promise(function(y,D){setTimeout(function(){p.appCheck?p.getToken(l).then(y,D):y(null)},0)})},f.prototype.addTokenChangeListener=function(l){var p;null===(p=this.appCheckProvider)||void 0===p||p.get().then(function(y){return y.addTokenListener(l)})},f.prototype.notifyForInvalidToken=function(){Ft('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},f}(),Pn=function(){function f(l,p,y){var D=this;this.appName_=l,this.firebaseOptions_=p,this.authProvider_=y,this.auth_=null,this.auth_=y.getImmediate({optional:!0}),this.auth_||y.onInit(function(k){return D.auth_=k})}return f.prototype.getToken=function(l){var p=this;return this.auth_?this.auth_.getToken(l).catch(function(y){return y&&"auth/token-not-initialized"===y.code?(Pe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(y)}):new Promise(function(y,D){setTimeout(function(){p.auth_?p.getToken(l).then(y,D):y(null)},0)})},f.prototype.addTokenChangeListener=function(l){this.auth_?this.auth_.addAuthTokenListener(l):this.authProvider_.get().then(function(p){return p.addAuthTokenListener(l)})},f.prototype.removeTokenChangeListener=function(l){this.authProvider_.get().then(function(p){return p.removeAuthTokenListener(l)})},f.prototype.notifyForInvalidToken=function(){var l='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';Ft(l+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},f}(),_n=function(){function f(l){this.accessToken=l}return f.prototype.getToken=function(l){return Promise.resolve({accessToken:this.accessToken})},f.prototype.addTokenChangeListener=function(l){l(this.accessToken)},f.prototype.removeTokenChangeListener=function(l){},f.prototype.notifyForInvalidToken=function(){},f.OWNER="owner",f}(),Hr=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,gn="websocket",An="long_polling",Wn=function(){function f(l,p,y,D,k,H,re){void 0===k&&(k=!1),void 0===H&&(H=""),void 0===re&&(re=!1),this.secure=p,this.namespace=y,this.webSocketOnly=D,this.nodeAdmin=k,this.persistenceKey=H,this.includeNamespaceInQueryParams=re,this._host=l.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ae.get("host:"+l)||this._host}return f.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},f.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(f.prototype,"host",{get:function(){return this._host},set:function(l){l!==this.internalHost&&(this.internalHost=l,this.isCacheableHost()&&ae.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),f.prototype.toString=function(){var l=this.toURLString();return this.persistenceKey&&(l+="<"+this.persistenceKey+">"),l},f.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},f}();function Mn(f,l,p){var y;if((0,$.assert)("string"==typeof l,"typeof type must == string"),(0,$.assert)("object"==typeof p,"typeof params must == object"),l===gn)y=(f.secure?"wss://":"ws://")+f.internalHost+"/.ws?";else{if(l!==An)throw new Error("Unknown connection type: "+l);y=(f.secure?"https://":"http://")+f.internalHost+"/.lp?"}(function wt(f){return f.host!==f.internalHost||f.isCustomHost()||f.includeNamespaceInQueryParams})(f)&&(p.ns=f.namespace);var D=[];return ht(p,function(k,H){D.push(k+"="+H)}),y+D.join("&")}var Gi=function(){function f(){this.counters_={}}return f.prototype.incrementCounter=function(l,p){void 0===p&&(p=1),(0,$.contains)(this.counters_,l)||(this.counters_[l]=0),this.counters_[l]+=p},f.prototype.get=function(){return(0,$.deepCopy)(this.counters_)},f}(),Zr={},ur={};function Wi(f){var l=f.toString();return Zr[l]||(Zr[l]=new Gi),Zr[l]}var Yr=function(){function f(l){this.onMessage_=l,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return f.prototype.closeAfter=function(l,p){this.closeAfterResponse=l,this.onClose=p,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},f.prototype.handleResponse=function(l,p){var y=this;this.pendingResponses[l]=p;for(var D=function(){var re=k.pendingResponses[k.currentResponseNum];delete k.pendingResponses[k.currentResponseNum];for(var le=function(Te){re[Te]&&Vn(function(){y.onMessage_(re[Te])})},be=0;be<re.length;++be)le(be);if(k.currentResponseNum===k.closeAfterResponse)return k.onClose&&(k.onClose(),k.onClose=null),"break";k.currentResponseNum++},k=this;this.pendingResponses[this.currentResponseNum]&&"break"!==D(););},f}(),rn=function(){function f(l,p,y,D,k,H,re){var le=this;this.connId=l,this.repoInfo=p,this.applicationId=y,this.appCheckToken=D,this.authToken=k,this.transportSessionId=H,this.lastSessionId=re,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ke(l),this.stats_=Wi(p),this.urlFn=function(be){return le.appCheckToken&&(be.ac=le.appCheckToken),Mn(p,An,be)}}return f.prototype.open=function(l,p){var y=this;this.curSegmentNum=0,this.onDisconnect_=p,this.myPacketOrderer=new Yr(l),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){y.log_("Timed out trying to connect."),y.onClosed_(),y.connectTimeoutTimer_=null},Math.floor(3e4)),function(f){if((0,$.isNodeSdk)()||"complete"===document.readyState)f();else{var l=!1,p=function(){document.body?l||(l=!0,f()):setTimeout(p,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",p,!1),window.addEventListener("load",p,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&p()}),window.attachEvent("onload",p))}}(function(){if(!y.isClosed_){y.scriptTagHolder=new Ii(function(){for(var H=[],re=0;re<arguments.length;re++)H[re]=arguments[re];var le=(0,je.__read)(H,5),be=le[0],Te=le[1],gt=le[2];if(y.incrementIncomingBytes_(H),y.scriptTagHolder)if(y.connectTimeoutTimer_&&(clearTimeout(y.connectTimeoutTimer_),y.connectTimeoutTimer_=null),y.everConnected_=!0,"start"===be)y.id=Te,y.password=gt;else{if("close"!==be)throw new Error("Unrecognized command received: "+be);Te?(y.scriptTagHolder.sendNewPolls=!1,y.myPacketOrderer.closeAfter(Te,function(){y.onClosed_()})):y.onClosed_()}},function(){for(var H=[],re=0;re<arguments.length;re++)H[re]=arguments[re];var le=(0,je.__read)(H,2),be=le[0],Te=le[1];y.incrementIncomingBytes_(H),y.myPacketOrderer.handleResponse(be,Te)},function(){y.onClosed_()},y.urlFn);var D={start:"t"};D.ser=Math.floor(1e8*Math.random()),y.scriptTagHolder.uniqueCallbackIdentifier&&(D.cb=y.scriptTagHolder.uniqueCallbackIdentifier),D.v="5",y.transportSessionId&&(D.s=y.transportSessionId),y.lastSessionId&&(D.ls=y.lastSessionId),y.applicationId&&(D.p=y.applicationId),y.appCheckToken&&(D.ac=y.appCheckToken),"undefined"!=typeof location&&location.hostname&&Hr.test(location.hostname)&&(D.r="f");var k=y.urlFn(D);y.log_("Connecting via long-poll to "+k),y.scriptTagHolder.addTag(k,function(){})}})},f.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},f.forceAllow=function(){f.forceAllow_=!0},f.forceDisallow=function(){f.forceDisallow_=!0},f.isAvailable=function(){return!((0,$.isNodeSdk)()||!f.forceAllow_&&(f.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},f.prototype.markConnectionHealthy=function(){},f.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},f.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},f.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},f.prototype.send=function(l){var p=(0,$.stringify)(l);this.bytesSent+=p.length,this.stats_.incrementCounter("bytes_sent",p.length);for(var y=(0,$.base64Encode)(p),D=ot(y,1840),k=0;k<D.length;k++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,D.length,D[k]),this.curSegmentNum++},f.prototype.addDisconnectPingFrame=function(l,p){if(!(0,$.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var y={dframe:"t"};y.id=l,y.pw=p,this.myDisconnFrame.src=this.urlFn(y),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},f.prototype.incrementIncomingBytes_=function(l){var p=(0,$.stringify)(l).length;this.bytesReceived+=p,this.stats_.incrementCounter("bytes_received",p)},f}(),Ii=function(){function f(l,p,y,D){if(this.onDisconnect=y,this.urlFn=D,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,$.isNodeSdk)())this.commandCB=l,this.onMessageCB=p;else{this.uniqueCallbackIdentifier=he(),window["pLPCommand"+this.uniqueCallbackIdentifier]=l,window["pRTLPCB"+this.uniqueCallbackIdentifier]=p,this.myIFrame=f.createIFrame_();var k="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(k='<script>document.domain="'+document.domain+'";<\/script>');var re="<html><body>"+k+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(re),this.myIFrame.doc.close()}catch(le){Pe("frame writing exception"),le.stack&&Pe(le.stack),Pe(le)}}}return f.createIFrame_=function(){var l=document.createElement("iframe");if(l.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(l);try{l.contentWindow.document||Pe("No IE domain setting required")}catch(D){var y=document.domain;l.src="javascript:void((function(){document.open();document.domain='"+y+"';document.close();})())"}return l.contentDocument?l.doc=l.contentDocument:l.contentWindow?l.doc=l.contentWindow.document:l.document&&(l.doc=l.document),l},f.prototype.close=function(){var l=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==l.myIFrame&&(document.body.removeChild(l.myIFrame),l.myIFrame=null)},Math.floor(0)));var p=this.onDisconnect;p&&(this.onDisconnect=null,p())},f.prototype.startLongPoll=function(l,p){for(this.myID=l,this.myPW=p,this.alive=!0;this.newRequest_(););},f.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var l={};l.id=this.myID,l.pw=this.myPW,l.ser=this.currentSerial;for(var p=this.urlFn(l),y="",D=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+y.length<=1870;){var H=this.pendingSegs.shift();y=y+"&seg"+D+"="+H.seg+"&ts"+D+"="+H.ts+"&d"+D+"="+H.d,D++}return this.addLongPollTag_(p+=y,this.currentSerial),!0}return!1},f.prototype.enqueueSegment=function(l,p,y){this.pendingSegs.push({seg:l,ts:p,d:y}),this.alive&&this.newRequest_()},f.prototype.addLongPollTag_=function(l,p){var y=this;this.outstandingRequests.add(p);var D=function(){y.outstandingRequests.delete(p),y.newRequest_()},k=setTimeout(D,Math.floor(25e3));this.addTag(l,function(){clearTimeout(k),D()})},f.prototype.addTag=function(l,p){var y=this;(0,$.isNodeSdk)()?this.doNodeLongPoll(l,p):setTimeout(function(){try{if(!y.sendNewPolls)return;var D=y.myIFrame.doc.createElement("script");D.type="text/javascript",D.async=!0,D.src=l,D.onload=D.onreadystatechange=function(){var k=D.readyState;(!k||"loaded"===k||"complete"===k)&&(D.onload=D.onreadystatechange=null,D.parentNode&&D.parentNode.removeChild(D),p())},D.onerror=function(){Pe("Long-poll script failed to load: "+l),y.sendNewPolls=!1,y.close()},y.myIFrame.doc.body.appendChild(D)}catch(k){}},Math.floor(1))},f}(),hr=null;"undefined"!=typeof MozWebSocket?hr=MozWebSocket:"undefined"!=typeof WebSocket&&(hr=WebSocket);var yi=function(){function f(l,p,y,D,k,H,re){this.connId=l,this.applicationId=y,this.appCheckToken=D,this.authToken=k,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ke(this.connId),this.stats_=Wi(p),this.connURL=f.connectionURL_(p,H,re,D),this.nodeAdmin=p.nodeAdmin}return f.connectionURL_=function(l,p,y,D){var k={v:"5"};return!(0,$.isNodeSdk)()&&"undefined"!=typeof location&&location.hostname&&Hr.test(location.hostname)&&(k.r="f"),p&&(k.s=p),y&&(k.ls=y),D&&(k.ac=D),Mn(l,gn,k)},f.prototype.open=function(l,p){var y=this;this.onDisconnect=p,this.onMessage=l,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ae.set("previous_websocket_failure",!0);try{if((0,$.isNodeSdk)()){var k={headers:{"User-Agent":"Firebase/5/"+yt+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(k.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(k.headers["X-Firebase-AppCheck"]=this.appCheckToken);var H=process.env,re=0===this.connURL.indexOf("wss://")?H.HTTPS_PROXY||H.https_proxy:H.HTTP_PROXY||H.http_proxy;re&&(k.proxy={origin:re}),this.mySock=new hr(this.connURL,[],k)}else this.mySock=new hr(this.connURL,[],k={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(be){this.log_("Error instantiating WebSocket.");var le=be.message||be.data;return le&&this.log_(le),void this.onClosed_()}this.mySock.onopen=function(){y.log_("Websocket connected."),y.everConnected_=!0},this.mySock.onclose=function(){y.log_("Websocket connection was disconnected."),y.mySock=null,y.onClosed_()},this.mySock.onmessage=function(be){y.handleIncomingFrame(be)},this.mySock.onerror=function(be){y.log_("WebSocket error.  Closing connection.");var Te=be.message||be.data;Te&&y.log_(Te),y.onClosed_()}},f.prototype.start=function(){},f.forceDisallow=function(){f.forceDisallow_=!0},f.isAvailable=function(){var l=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var y=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);y&&y.length>1&&parseFloat(y[1])<4.4&&(l=!0)}return!l&&null!==hr&&!f.forceDisallow_},f.previouslyFailed=function(){return ae.isInMemoryStorage||!0===ae.get("previous_websocket_failure")},f.prototype.markConnectionHealthy=function(){ae.remove("previous_websocket_failure")},f.prototype.appendFrame_=function(l){if(this.frames.push(l),this.frames.length===this.totalFrames){var p=this.frames.join("");this.frames=null;var y=(0,$.jsonEval)(p);this.onMessage(y)}},f.prototype.handleNewFrameCount_=function(l){this.totalFrames=l,this.frames=[]},f.prototype.extractFrameCount_=function(l){if((0,$.assert)(null===this.frames,"We already have a frame buffer"),l.length<=6){var p=Number(l);if(!isNaN(p))return this.handleNewFrameCount_(p),null}return this.handleNewFrameCount_(1),l},f.prototype.handleIncomingFrame=function(l){if(null!==this.mySock){var p=l.data;if(this.bytesReceived+=p.length,this.stats_.incrementCounter("bytes_received",p.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(p);else{var y=this.extractFrameCount_(p);null!==y&&this.appendFrame_(y)}}},f.prototype.send=function(l){this.resetKeepAlive();var p=(0,$.stringify)(l);this.bytesSent+=p.length,this.stats_.incrementCounter("bytes_sent",p.length);var y=ot(p,16384);y.length>1&&this.sendString_(String(y.length));for(var D=0;D<y.length;D++)this.sendString_(y[D])},f.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},f.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},f.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},f.prototype.resetKeepAlive=function(){var l=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){l.mySock&&l.sendString_("0"),l.resetKeepAlive()},Math.floor(45e3))},f.prototype.sendString_=function(l){try{this.mySock.send(l)}catch(p){this.log_("Exception thrown from WebSocket.send():",p.message||p.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},f.responsesRequiredToBeHealthy=2,f.healthyTimeout=3e4,f}(),oo=function(){function f(l){this.initTransports_(l)}return Object.defineProperty(f,"ALL_TRANSPORTS",{get:function(){return[rn,yi]},enumerable:!1,configurable:!0}),f.prototype.initTransports_=function(l){var p,y,D=yi&&yi.isAvailable(),k=D&&!yi.previouslyFailed();if(l.webSocketOnly&&(D||Ft("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),k=!0),k)this.transports_=[yi];else{var H=this.transports_=[];try{for(var re=(0,je.__values)(f.ALL_TRANSPORTS),le=re.next();!le.done;le=re.next()){var be=le.value;be&&be.isAvailable()&&H.push(be)}}catch(Te){p={error:Te}}finally{try{le&&!le.done&&(y=re.return)&&y.call(re)}finally{if(p)throw p.error}}}},f.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},f.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},f}(),Qt=function(){function f(l,p,y,D,k,H,re,le,be,Te){this.id=l,this.repoInfo_=p,this.applicationId_=y,this.appCheckToken_=D,this.authToken_=k,this.onMessage_=H,this.onReady_=re,this.onDisconnect_=le,this.onKill_=be,this.lastSessionId=Te,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ke("c:"+this.id+":"),this.transportManager_=new oo(p),this.log_("Connection created"),this.start_()}return f.prototype.start_=function(){var l=this,p=this.transportManager_.initialTransport();this.conn_=new p(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=p.responsesRequiredToBeHealthy||0;var y=this.connReceiver_(this.conn_),D=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){l.conn_&&l.conn_.open(y,D)},Math.floor(0));var k=p.healthyTimeout||0;k>0&&(this.healthyTimeout_=Un(function(){l.healthyTimeout_=null,l.isHealthy_||(l.conn_&&l.conn_.bytesReceived>102400?(l.log_("Connection exceeded healthy timeout but has received "+l.conn_.bytesReceived+" bytes.  Marking connection healthy."),l.isHealthy_=!0,l.conn_.markConnectionHealthy()):l.conn_&&l.conn_.bytesSent>10240?l.log_("Connection exceeded healthy timeout but has sent "+l.conn_.bytesSent+" bytes.  Leaving connection alive."):(l.log_("Closing unhealthy connection after timeout."),l.close()))},Math.floor(k)))},f.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},f.prototype.disconnReceiver_=function(l){var p=this;return function(y){l===p.conn_?p.onConnectionLost_(y):l===p.secondaryConn_?(p.log_("Secondary connection lost."),p.onSecondaryConnectionLost_()):p.log_("closing an old connection")}},f.prototype.connReceiver_=function(l){var p=this;return function(y){2!==p.state_&&(l===p.rx_?p.onPrimaryMessageReceived_(y):l===p.secondaryConn_?p.onSecondaryMessageReceived_(y):p.log_("message on old connection"))}},f.prototype.sendRequest=function(l){this.sendData_({t:"d",d:l})},f.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},f.prototype.onSecondaryControl_=function(l){if("t"in l){var p=l.t;"a"===p?this.upgradeIfSecondaryHealthy_():"r"===p?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===p&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},f.prototype.onSecondaryMessageReceived_=function(l){var p=Yt("t",l),y=Yt("d",l);if("c"===p)this.onSecondaryControl_(y);else{if("d"!==p)throw new Error("Unknown protocol layer: "+p);this.pendingDataMessages.push(y)}},f.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},f.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},f.prototype.onPrimaryMessageReceived_=function(l){var p=Yt("t",l),y=Yt("d",l);"c"===p?this.onControl_(y):"d"===p&&this.onDataMessage_(y)},f.prototype.onDataMessage_=function(l){this.onPrimaryResponse_(),this.onMessage_(l)},f.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},f.prototype.onControl_=function(l){var p=Yt("t",l);if("d"in l){var y=l.d;if("h"===p)this.onHandshake_(y);else if("n"===p){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var D=0;D<this.pendingDataMessages.length;++D)this.onDataMessage_(this.pendingDataMessages[D]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===p?this.onConnectionShutdown_(y):"r"===p?this.onReset_(y):"e"===p?Pt("Server Error: "+y):"o"===p?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Pt("Unknown control packet command: "+p)}},f.prototype.onHandshake_=function(l){var p=l.ts,y=l.v,D=l.h;this.sessionId=l.s,this.repoInfo_.host=D,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,p),"5"!==y&&Ft("Protocol version mismatch detected"),this.tryStartUpgrade_())},f.prototype.tryStartUpgrade_=function(){var l=this.transportManager_.upgradeTransport();l&&this.startUpgrade_(l)},f.prototype.startUpgrade_=function(l){var p=this;this.secondaryConn_=new l(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=l.responsesRequiredToBeHealthy||0;var y=this.connReceiver_(this.secondaryConn_),D=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(y,D),Un(function(){p.secondaryConn_&&(p.log_("Timed out trying to upgrade."),p.secondaryConn_.close())},Math.floor(6e4))},f.prototype.onReset_=function(l){this.log_("Reset packet received.  New host: "+l),this.repoInfo_.host=l,1===this.state_?this.close():(this.closeConnections_(),this.start_())},f.prototype.onConnectionEstablished_=function(l,p){var y=this;this.log_("Realtime connection established."),this.conn_=l,this.state_=1,this.onReady_&&(this.onReady_(p,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Un(function(){y.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},f.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},f.prototype.onSecondaryConnectionLost_=function(){var l=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===l||this.rx_===l)&&this.close()},f.prototype.onConnectionLost_=function(l){this.conn_=null,l||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ae.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},f.prototype.onConnectionShutdown_=function(l){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(l),this.onKill_=null),this.onDisconnect_=null,this.close()},f.prototype.sendData_=function(l){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(l)},f.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},f.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},f}(),yn=function(){function f(){}return f.prototype.put=function(l,p,y,D){},f.prototype.merge=function(l,p,y,D){},f.prototype.refreshAuthToken=function(l){},f.prototype.refreshAppCheckToken=function(l){},f.prototype.onDisconnectPut=function(l,p,y){},f.prototype.onDisconnectMerge=function(l,p,y){},f.prototype.onDisconnectCancel=function(l,p){},f.prototype.reportStats=function(l){},f}(),sr=function(){function f(l){this.allowedEvents_=l,this.listeners_={},(0,$.assert)(Array.isArray(l)&&l.length>0,"Requires a non-empty array")}return f.prototype.trigger=function(l){for(var p=[],y=1;y<arguments.length;y++)p[y-1]=arguments[y];if(Array.isArray(this.listeners_[l]))for(var D=(0,je.__spreadArray)([],(0,je.__read)(this.listeners_[l])),k=0;k<D.length;k++)D[k].callback.apply(D[k].context,p)},f.prototype.on=function(l,p,y){this.validateEventType_(l),this.listeners_[l]=this.listeners_[l]||[],this.listeners_[l].push({callback:p,context:y});var D=this.getInitialEvent(l);D&&p.apply(y,D)},f.prototype.off=function(l,p,y){this.validateEventType_(l);for(var D=this.listeners_[l]||[],k=0;k<D.length;k++)if(D[k].callback===p&&(!y||y===D[k].context))return void D.splice(k,1)},f.prototype.validateEventType_=function(l){(0,$.assert)(this.allowedEvents_.find(function(p){return p===l}),"Unknown event: "+l)},f}(),ni=function(f){function l(){var p=f.call(this,["online"])||this;return p.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,$.isMobileCordova)()&&(window.addEventListener("online",function(){p.online_||(p.online_=!0,p.trigger("online",!0))},!1),window.addEventListener("offline",function(){p.online_&&(p.online_=!1,p.trigger("online",!1))},!1)),p}return(0,je.__extends)(l,f),l.getInstance=function(){return new l},l.prototype.getInitialEvent=function(p){return(0,$.assert)("online"===p,"Unknown event type: "+p),[this.online_]},l.prototype.currentlyOnline=function(){return this.online_},l}(sr),Fn=function(){function f(l,p){if(void 0===p){this.pieces_=l.split("/");for(var y=0,D=0;D<this.pieces_.length;D++)this.pieces_[D].length>0&&(this.pieces_[y]=this.pieces_[D],y++);this.pieces_.length=y,this.pieceNum_=0}else this.pieces_=l,this.pieceNum_=p}return f.prototype.toString=function(){for(var l="",p=this.pieceNum_;p<this.pieces_.length;p++)""!==this.pieces_[p]&&(l+="/"+this.pieces_[p]);return l||"/"},f}();function $t(){return new Fn("")}function Rn(f){return f.pieceNum_>=f.pieces_.length?null:f.pieces_[f.pieceNum_]}function _i(f){return f.pieces_.length-f.pieceNum_}function X(f){var l=f.pieceNum_;return l<f.pieces_.length&&l++,new Fn(f.pieces_,l)}function me(f){return f.pieceNum_<f.pieces_.length?f.pieces_[f.pieces_.length-1]:null}function we(f,l){return void 0===l&&(l=0),f.pieces_.slice(f.pieceNum_+l)}function Ne(f){if(f.pieceNum_>=f.pieces_.length)return null;for(var l=[],p=f.pieceNum_;p<f.pieces_.length-1;p++)l.push(f.pieces_[p]);return new Fn(l,0)}function Oe(f,l){for(var p=[],y=f.pieceNum_;y<f.pieces_.length;y++)p.push(f.pieces_[y]);if(l instanceof Fn)for(y=l.pieceNum_;y<l.pieces_.length;y++)p.push(l.pieces_[y]);else{var D=l.split("/");for(y=0;y<D.length;y++)D[y].length>0&&p.push(D[y])}return new Fn(p,0)}function Ze(f){return f.pieceNum_>=f.pieces_.length}function It(f,l){var p=Rn(f),y=Rn(l);if(null===p)return l;if(p===y)return It(X(f),X(l));throw new Error("INTERNAL ERROR: innerPath ("+l+") is not within outerPath ("+f+")")}function St(f,l){for(var p=we(f,0),y=we(l,0),D=0;D<p.length&&D<y.length;D++){var k=Ye(p[D],y[D]);if(0!==k)return k}return p.length===y.length?0:p.length<y.length?-1:1}function At(f,l){if(_i(f)!==_i(l))return!1;for(var p=f.pieceNum_,y=l.pieceNum_;p<=f.pieces_.length;p++,y++)if(f.pieces_[p]!==l.pieces_[y])return!1;return!0}function tn(f,l){var p=f.pieceNum_,y=l.pieceNum_;if(_i(f)>_i(l))return!1;for(;p<f.pieces_.length;){if(f.pieces_[p]!==l.pieces_[y])return!1;++p,++y}return!0}var wn=function f(l,p){this.errorPrefix_=p,this.parts_=we(l,0),this.byteLength_=Math.max(1,this.parts_.length);for(var y=0;y<this.parts_.length;y++)this.byteLength_+=(0,$.stringLength)(this.parts_[y]);ri(this)};function ri(f){if(f.byteLength_>768)throw new Error(f.errorPrefix_+"has a key path longer than 768 bytes ("+f.byteLength_+").");if(f.parts_.length>32)throw new Error(f.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Jr(f))}function Jr(f){return 0===f.parts_.length?"":"in property '"+f.parts_.join(".")+"'"}var gs,Qi,ki=function(f){function l(){var y,D,p=f.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(D="visibilitychange",y="hidden"):void 0!==document.mozHidden?(D="mozvisibilitychange",y="mozHidden"):void 0!==document.msHidden?(D="msvisibilitychange",y="msHidden"):void 0!==document.webkitHidden&&(D="webkitvisibilitychange",y="webkitHidden")),p.visible_=!0,D&&document.addEventListener(D,function(){var k=!document[y];k!==p.visible_&&(p.visible_=k,p.trigger("visible",k))},!1),p}return(0,je.__extends)(l,f),l.getInstance=function(){return new l},l.prototype.getInitialEvent=function(p){return(0,$.assert)("visible"===p,"Unknown event type: "+p),[this.visible_]},l}(sr),qr=1e3,Co=function(f){function l(p,y,D,k,H,re,le,be){var Te=f.call(this)||this;if(Te.repoInfo_=p,Te.applicationId_=y,Te.onDataUpdate_=D,Te.onConnectStatus_=k,Te.onServerInfoUpdate_=H,Te.authTokenProvider_=re,Te.appCheckTokenProvider_=le,Te.authOverride_=be,Te.id=l.nextPersistentConnectionId_++,Te.log_=Ke("p:"+Te.id+":"),Te.interruptReasons_={},Te.listens=new Map,Te.outstandingPuts_=[],Te.outstandingGets_=[],Te.outstandingPutCount_=0,Te.outstandingGetCount_=0,Te.onDisconnectRequestQueue_=[],Te.connected_=!1,Te.reconnectDelay_=qr,Te.maxReconnectDelay_=3e5,Te.securityDebugCallback_=null,Te.lastSessionId=null,Te.establishConnectionTimer_=null,Te.visible_=!1,Te.requestCBHash_={},Te.requestNumber_=0,Te.realtime_=null,Te.authToken_=null,Te.appCheckToken_=null,Te.forceTokenRefresh_=!1,Te.invalidAuthTokenCount_=0,Te.invalidAppCheckTokenCount_=0,Te.firstConnection_=!0,Te.lastConnectionAttemptTime_=null,Te.lastConnectionEstablishedTime_=null,be&&!(0,$.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return ki.getInstance().on("visible",Te.onVisible_,Te),-1===p.host.indexOf("fblocal")&&ni.getInstance().on("online",Te.onOnline_,Te),Te}return(0,je.__extends)(l,f),l.prototype.sendRequest=function(p,y,D){var k=++this.requestNumber_,H={r:k,a:p,b:y};this.log_((0,$.stringify)(H)),(0,$.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(H),D&&(this.requestCBHash_[k]=D)},l.prototype.get=function(p){var y=this;this.initConnection_();var D=new $.Deferred,k={p:p._path.toString(),q:p._queryObject},H={action:"g",request:k,onComplete:function(le){var be=le.d;"ok"===le.s?(y.onDataUpdate_(k.p,be,!1,null),D.resolve(be)):D.reject(be)}};this.outstandingGets_.push(H),this.outstandingGetCount_++;var re=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var le=y.outstandingGets_[re];void 0===le||H!==le||(delete y.outstandingGets_[re],y.outstandingGetCount_--,0===y.outstandingGetCount_&&(y.outstandingGets_=[]),y.log_("get "+re+" timed out on connection"),D.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(re),D.promise},l.prototype.listen=function(p,y,D,k){this.initConnection_();var H=p._queryIdentifier,re=p._path.toString();this.log_("Listen called for "+re+" "+H),this.listens.has(re)||this.listens.set(re,new Map),(0,$.assert)(p._queryParams.isDefault()||!p._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,$.assert)(!this.listens.get(re).has(H),"listen() called twice for same path/queryId.");var le={onComplete:k,hashFn:y,query:p,tag:D};this.listens.get(re).set(H,le),this.connected_&&this.sendListen_(le)},l.prototype.sendGet_=function(p){var y=this,D=this.outstandingGets_[p];this.sendRequest("g",D.request,function(k){delete y.outstandingGets_[p],y.outstandingGetCount_--,0===y.outstandingGetCount_&&(y.outstandingGets_=[]),D.onComplete&&D.onComplete(k)})},l.prototype.sendListen_=function(p){var y=this,D=p.query,k=D._path.toString(),H=D._queryIdentifier;this.log_("Listen on "+k+" for "+H);var re={p:k};p.tag&&(re.q=D._queryObject,re.t=p.tag),re.h=p.hashFn(),this.sendRequest("q",re,function(be){var Te=be.d,gt=be.s;l.warnOnListenWarnings_(Te,D),(y.listens.get(k)&&y.listens.get(k).get(H))===p&&(y.log_("listen response",be),"ok"!==gt&&y.removeListen_(k,H),p.onComplete&&p.onComplete(gt,Te))})},l.warnOnListenWarnings_=function(p,y){if(p&&"object"==typeof p&&(0,$.contains)(p,"w")){var D=(0,$.safeGet)(p,"w");if(Array.isArray(D)&&~D.indexOf("no_index")){var k='".indexOn": "'+y._queryParams.getIndex().toString()+'"',H=y._path.toString();Ft("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+k+" at "+H+" to your security rules for better performance.")}}},l.prototype.refreshAuthToken=function(p){this.authToken_=p,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(p)},l.prototype.reduceReconnectDelayIfAdminCredential_=function(p){(p&&40===p.length||(0,$.isAdmin)(p))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},l.prototype.refreshAppCheckToken=function(p){this.appCheckToken_=p,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},l.prototype.tryAuth=function(){var p=this;if(this.connected_&&this.authToken_){var y=this.authToken_,D=(0,$.isValidFormat)(y)?"auth":"gauth",k={cred:y};null===this.authOverride_?k.noauth=!0:"object"==typeof this.authOverride_&&(k.authvar=this.authOverride_),this.sendRequest(D,k,function(H){var re=H.s,le=H.d||"error";p.authToken_===y&&("ok"===re?p.invalidAuthTokenCount_=0:p.onAuthRevoked_(re,le))})}},l.prototype.tryAppCheck=function(){var p=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(y){var D=y.s,k=y.d||"error";"ok"===D?p.invalidAppCheckTokenCount_=0:p.onAppCheckRevoked_(D,k)})},l.prototype.unlisten=function(p,y){var D=p._path.toString(),k=p._queryIdentifier;this.log_("Unlisten called for "+D+" "+k),(0,$.assert)(p._queryParams.isDefault()||!p._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(D,k)&&this.connected_&&this.sendUnlisten_(D,k,p._queryObject,y)},l.prototype.sendUnlisten_=function(p,y,D,k){this.log_("Unlisten on "+p+" for "+y);var H={p};k&&(H.q=D,H.t=k),this.sendRequest("n",H)},l.prototype.onDisconnectPut=function(p,y,D){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",p,y,D):this.onDisconnectRequestQueue_.push({pathString:p,action:"o",data:y,onComplete:D})},l.prototype.onDisconnectMerge=function(p,y,D){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",p,y,D):this.onDisconnectRequestQueue_.push({pathString:p,action:"om",data:y,onComplete:D})},l.prototype.onDisconnectCancel=function(p,y){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",p,null,y):this.onDisconnectRequestQueue_.push({pathString:p,action:"oc",data:null,onComplete:y})},l.prototype.sendOnDisconnect_=function(p,y,D,k){var H={p:y,d:D};this.log_("onDisconnect "+p,H),this.sendRequest(p,H,function(re){k&&setTimeout(function(){k(re.s,re.d)},Math.floor(0))})},l.prototype.put=function(p,y,D,k){this.putInternal("p",p,y,D,k)},l.prototype.merge=function(p,y,D,k){this.putInternal("m",p,y,D,k)},l.prototype.putInternal=function(p,y,D,k,H){this.initConnection_();var re={p:y,d:D};void 0!==H&&(re.h=H),this.outstandingPuts_.push({action:p,request:re,onComplete:k}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+y)},l.prototype.sendPut_=function(p){var y=this,D=this.outstandingPuts_[p].action,k=this.outstandingPuts_[p].request,H=this.outstandingPuts_[p].onComplete;this.outstandingPuts_[p].queued=this.connected_,this.sendRequest(D,k,function(re){y.log_(D+" response",re),delete y.outstandingPuts_[p],y.outstandingPutCount_--,0===y.outstandingPutCount_&&(y.outstandingPuts_=[]),H&&H(re.s,re.d)})},l.prototype.reportStats=function(p){var y=this;if(this.connected_){var D={c:p};this.log_("reportStats",D),this.sendRequest("s",D,function(k){"ok"!==k.s&&y.log_("reportStats","Error sending stats: "+k.d)})}},l.prototype.onDataMessage_=function(p){if("r"in p){this.log_("from server: "+(0,$.stringify)(p));var y=p.r,D=this.requestCBHash_[y];D&&(delete this.requestCBHash_[y],D(p.b))}else{if("error"in p)throw"A server-side error has occurred: "+p.error;"a"in p&&this.onDataPush_(p.a,p.b)}},l.prototype.onDataPush_=function(p,y){this.log_("handleServerMessage",p,y),"d"===p?this.onDataUpdate_(y.p,y.d,!1,y.t):"m"===p?this.onDataUpdate_(y.p,y.d,!0,y.t):"c"===p?this.onListenRevoked_(y.p,y.q):"ac"===p?this.onAuthRevoked_(y.s,y.d):"apc"===p?this.onAppCheckRevoked_(y.s,y.d):"sd"===p?this.onSecurityDebugPacket_(y):Pt("Unrecognized action received from server: "+(0,$.stringify)(p)+"\nAre you using the latest client?")},l.prototype.onReady_=function(p,y){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(p),this.lastSessionId=y,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},l.prototype.scheduleConnect_=function(p){var y=this;(0,$.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){y.establishConnectionTimer_=null,y.establishConnection_()},Math.floor(p))},l.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},l.prototype.onVisible_=function(p){p&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=qr,this.realtime_||this.scheduleConnect_(0)),this.visible_=p},l.prototype.onOnline_=function(p){p?(this.log_("Browser went online."),this.reconnectDelay_=qr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},l.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=qr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var y=(new Date).getTime()-this.lastConnectionAttemptTime_,D=Math.max(0,this.reconnectDelay_-y);D=Math.random()*D,this.log_("Trying to reconnect in "+D+"ms"),this.scheduleConnect_(D),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},l.prototype.establishConnection_=function(){return(0,je.__awaiter)(this,void 0,void 0,function(){var p,y,D,k,H,re,le,be,gt,kt,Kt,ln,Cn,Dt=this;return(0,je.__generator)(this,function(fr){switch(fr.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,p=this.onDataMessage_.bind(this),y=this.onReady_.bind(this),D=this.onRealtimeDisconnect_.bind(this),k=this.id+":"+l.nextConnectionId_++,H=this.lastSessionId,re=!1,le=null,this.realtime_={close:be=function(){le?le.close():(re=!0,D())},sendRequest:function(Fi){(0,$.assert)(le,"sendRequest call when we're not connected not allowed."),le.sendRequest(Fi)}},gt=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,fr.label=1;case 1:return fr.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(gt),this.appCheckTokenProvider_.getToken(gt)])];case 2:return kt=je.__read.apply(void 0,[fr.sent(),2]),Kt=kt[0],ln=kt[1],re?Pe("getToken() completed but was canceled"):(Pe("getToken() completed. Creating connection."),this.authToken_=Kt&&Kt.accessToken,this.appCheckToken_=ln&&ln.token,le=new Qt(k,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,p,y,D,function(Fi){Ft(Fi+" ("+Dt.repoInfo_.toString()+")"),Dt.interrupt("server_kill")},H)),[3,4];case 3:return Cn=fr.sent(),this.log_("Failed to get token: "+Cn),re||(this.repoInfo_.nodeAdmin&&Ft(Cn),be()),[3,4];case 4:return[2]}})})},l.prototype.interrupt=function(p){Pe("Interrupting connection for reason: "+p),this.interruptReasons_[p]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},l.prototype.resume=function(p){Pe("Resuming connection for reason: "+p),delete this.interruptReasons_[p],(0,$.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=qr,this.realtime_||this.scheduleConnect_(0))},l.prototype.handleTimestamp_=function(p){var y=p-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:y})},l.prototype.cancelSentTransactions_=function(){for(var p=0;p<this.outstandingPuts_.length;p++){var y=this.outstandingPuts_[p];y&&"h"in y.request&&y.queued&&(y.onComplete&&y.onComplete("disconnect"),delete this.outstandingPuts_[p],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},l.prototype.onListenRevoked_=function(p,y){var D;D=y?y.map(function(H){return pt(H)}).join("$"):"default";var k=this.removeListen_(p,D);k&&k.onComplete&&k.onComplete("permission_denied")},l.prototype.removeListen_=function(p,y){var k,D=new Fn(p).toString();if(this.listens.has(D)){var H=this.listens.get(D);k=H.get(y),H.delete(y),0===H.size&&this.listens.delete(D)}else k=void 0;return k},l.prototype.onAuthRevoked_=function(p,y){Pe("Auth token revoked: "+p+"/"+y),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===p||"permission_denied"===p)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},l.prototype.onAppCheckRevoked_=function(p,y){Pe("App check token revoked: "+p+"/"+y),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===p||"permission_denied"===p)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},l.prototype.onSecurityDebugPacket_=function(p){this.securityDebugCallback_?this.securityDebugCallback_(p):"msg"in p&&console.log("FIREBASE: "+p.msg.replace("\n","\nFIREBASE: "))},l.prototype.restoreState_=function(){var p,y,D,k;this.tryAuth(),this.tryAppCheck();try{for(var H=(0,je.__values)(this.listens.values()),re=H.next();!re.done;re=H.next()){var le=re.value;try{for(var be=(D=void 0,(0,je.__values)(le.values())),Te=be.next();!Te.done;Te=be.next())this.sendListen_(Te.value)}catch(ln){D={error:ln}}finally{try{Te&&!Te.done&&(k=be.return)&&k.call(be)}finally{if(D)throw D.error}}}}catch(ln){p={error:ln}}finally{try{re&&!re.done&&(y=H.return)&&y.call(H)}finally{if(p)throw p.error}}for(var kt=0;kt<this.outstandingPuts_.length;kt++)this.outstandingPuts_[kt]&&this.sendPut_(kt);for(;this.onDisconnectRequestQueue_.length;){var Kt=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(Kt.action,Kt.pathString,Kt.data,Kt.onComplete)}for(kt=0;kt<this.outstandingGets_.length;kt++)this.outstandingGets_[kt]&&this.sendGet_(kt)},l.prototype.sendConnectStats_=function(){var p={},y="js";(0,$.isNodeSdk)()&&(y=this.repoInfo_.nodeAdmin?"admin_node":"node"),p["sdk."+y+"."+yt.replace(/\./g,"-")]=1,(0,$.isMobileCordova)()?p["framework.cordova"]=1:(0,$.isReactNative)()&&(p["framework.reactnative"]=1),this.reportStats(p)},l.prototype.shouldReconnect_=function(){var p=ni.getInstance().currentlyOnline();return(0,$.isEmpty)(this.interruptReasons_)&&p},l.nextPersistentConnectionId_=0,l.nextConnectionId_=0,l}(yn),$n=function(){function f(l,p){this.name=l,this.node=p}return f.Wrap=function(l,p){return new f(l,p)},f}(),Io=function(){function f(){}return f.prototype.getCompare=function(){return this.compare.bind(this)},f.prototype.indexedValueChanged=function(l,p){var y=new $n(Ie,l),D=new $n(Ie,p);return 0!==this.compare(y,D)},f.prototype.minPost=function(){return $n.MIN},f}(),Sa=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return(0,je.__extends)(l,f),Object.defineProperty(l,"__EMPTY_NODE",{get:function(){return gs},set:function(p){gs=p},enumerable:!1,configurable:!0}),l.prototype.compare=function(p,y){return Ye(p.name,y.name)},l.prototype.isDefinedOn=function(p){throw(0,$.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},l.prototype.indexedValueChanged=function(p,y){return!1},l.prototype.minPost=function(){return $n.MIN},l.prototype.maxPost=function(){return new $n(Ue,gs)},l.prototype.makePost=function(p,y){return(0,$.assert)("string"==typeof p,"KeyIndex indexValue must always be a string."),new $n(p,gs)},l.prototype.toString=function(){return".key"},l}(Io),Vr=new Sa,Bi=function(){function f(l,p,y,D,k){void 0===k&&(k=null),this.isReverse_=D,this.resultGenerator_=k,this.nodeStack_=[];for(var H=1;!l.isEmpty();)if(l=l,H=p?y(l.key,p):1,D&&(H*=-1),H<0)l=this.isReverse_?l.left:l.right;else{if(0===H){this.nodeStack_.push(l);break}this.nodeStack_.push(l),l=this.isReverse_?l.right:l.left}}return f.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var p,l=this.nodeStack_.pop();if(p=this.resultGenerator_?this.resultGenerator_(l.key,l.value):{key:l.key,value:l.value},this.isReverse_)for(l=l.left;!l.isEmpty();)this.nodeStack_.push(l),l=l.right;else for(l=l.right;!l.isEmpty();)this.nodeStack_.push(l),l=l.left;return p},f.prototype.hasNext=function(){return this.nodeStack_.length>0},f.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var l=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(l.key,l.value):{key:l.key,value:l.value}},f}(),so=function(){function f(l,p,y,D,k){this.key=l,this.value=p,this.color=null!=y?y:f.RED,this.left=null!=D?D:ao.EMPTY_NODE,this.right=null!=k?k:ao.EMPTY_NODE}return f.prototype.copy=function(l,p,y,D,k){return new f(null!=l?l:this.key,null!=p?p:this.value,null!=y?y:this.color,null!=D?D:this.left,null!=k?k:this.right)},f.prototype.count=function(){return this.left.count()+1+this.right.count()},f.prototype.isEmpty=function(){return!1},f.prototype.inorderTraversal=function(l){return this.left.inorderTraversal(l)||!!l(this.key,this.value)||this.right.inorderTraversal(l)},f.prototype.reverseTraversal=function(l){return this.right.reverseTraversal(l)||l(this.key,this.value)||this.left.reverseTraversal(l)},f.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},f.prototype.minKey=function(){return this.min_().key},f.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},f.prototype.insert=function(l,p,y){var D=this,k=y(l,D.key);return(D=k<0?D.copy(null,null,null,D.left.insert(l,p,y),null):0===k?D.copy(null,p,null,null,null):D.copy(null,null,null,null,D.right.insert(l,p,y))).fixUp_()},f.prototype.removeMin_=function(){if(this.left.isEmpty())return ao.EMPTY_NODE;var l=this;return!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),(l=l.copy(null,null,null,l.left.removeMin_(),null)).fixUp_()},f.prototype.remove=function(l,p){var y,D;if(p(l,(y=this).key)<0)!y.left.isEmpty()&&!y.left.isRed_()&&!y.left.left.isRed_()&&(y=y.moveRedLeft_()),y=y.copy(null,null,null,y.left.remove(l,p),null);else{if(y.left.isRed_()&&(y=y.rotateRight_()),!y.right.isEmpty()&&!y.right.isRed_()&&!y.right.left.isRed_()&&(y=y.moveRedRight_()),0===p(l,y.key)){if(y.right.isEmpty())return ao.EMPTY_NODE;D=y.right.min_(),y=y.copy(D.key,D.value,null,null,y.right.removeMin_())}y=y.copy(null,null,null,null,y.right.remove(l,p))}return y.fixUp_()},f.prototype.isRed_=function(){return this.color},f.prototype.fixUp_=function(){var l=this;return l.right.isRed_()&&!l.left.isRed_()&&(l=l.rotateLeft_()),l.left.isRed_()&&l.left.left.isRed_()&&(l=l.rotateRight_()),l.left.isRed_()&&l.right.isRed_()&&(l=l.colorFlip_()),l},f.prototype.moveRedLeft_=function(){var l=this.colorFlip_();return l.right.left.isRed_()&&(l=(l=(l=l.copy(null,null,null,null,l.right.rotateRight_())).rotateLeft_()).colorFlip_()),l},f.prototype.moveRedRight_=function(){var l=this.colorFlip_();return l.left.left.isRed_()&&(l=(l=l.rotateRight_()).colorFlip_()),l},f.prototype.rotateLeft_=function(){var l=this.copy(null,null,f.RED,null,this.right.left);return this.right.copy(null,null,this.color,l,null)},f.prototype.rotateRight_=function(){var l=this.copy(null,null,f.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,l)},f.prototype.colorFlip_=function(){var l=this.left.copy(null,null,!this.left.color,null,null),p=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,l,p)},f.prototype.checkMaxDepth_=function(){var l=this.check_();return Math.pow(2,l)<=this.count()+1},f.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var l=this.left.check_();if(l!==this.right.check_())throw new Error("Black depths differ");return l+(this.isRed_()?0:1)},f.RED=!0,f.BLACK=!1,f}(),Xo=function(){function f(){}return f.prototype.copy=function(l,p,y,D,k){return this},f.prototype.insert=function(l,p,y){return new so(l,p,null)},f.prototype.remove=function(l,p){return this},f.prototype.count=function(){return 0},f.prototype.isEmpty=function(){return!0},f.prototype.inorderTraversal=function(l){return!1},f.prototype.reverseTraversal=function(l){return!1},f.prototype.minKey=function(){return null},f.prototype.maxKey=function(){return null},f.prototype.check_=function(){return 0},f.prototype.isRed_=function(){return!1},f}(),ao=function(){function f(l,p){void 0===p&&(p=f.EMPTY_NODE),this.comparator_=l,this.root_=p}return f.prototype.insert=function(l,p){return new f(this.comparator_,this.root_.insert(l,p,this.comparator_).copy(null,null,so.BLACK,null,null))},f.prototype.remove=function(l){return new f(this.comparator_,this.root_.remove(l,this.comparator_).copy(null,null,so.BLACK,null,null))},f.prototype.get=function(l){for(var p,y=this.root_;!y.isEmpty();){if(0===(p=this.comparator_(l,y.key)))return y.value;p<0?y=y.left:p>0&&(y=y.right)}return null},f.prototype.getPredecessorKey=function(l){for(var p,y=this.root_,D=null;!y.isEmpty();){if(0===(p=this.comparator_(l,y.key))){if(y.left.isEmpty())return D?D.key:null;for(y=y.left;!y.right.isEmpty();)y=y.right;return y.key}p<0?y=y.left:p>0&&(D=y,y=y.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},f.prototype.isEmpty=function(){return this.root_.isEmpty()},f.prototype.count=function(){return this.root_.count()},f.prototype.minKey=function(){return this.root_.minKey()},f.prototype.maxKey=function(){return this.root_.maxKey()},f.prototype.inorderTraversal=function(l){return this.root_.inorderTraversal(l)},f.prototype.reverseTraversal=function(l){return this.root_.reverseTraversal(l)},f.prototype.getIterator=function(l){return new Bi(this.root_,null,this.comparator_,!1,l)},f.prototype.getIteratorFrom=function(l,p){return new Bi(this.root_,l,this.comparator_,!1,p)},f.prototype.getReverseIteratorFrom=function(l,p){return new Bi(this.root_,l,this.comparator_,!0,p)},f.prototype.getReverseIterator=function(l){return new Bi(this.root_,null,this.comparator_,!0,l)},f.EMPTY_NODE=new Xo,f}();function Gs(f,l){return Ye(f.name,l.name)}function Xi(f,l){return Ye(f,l)}var Vi,Do,ha,Mi,j,ks=function(f){return"number"==typeof f?"number:"+st(f):"string:"+f},ms=function(f){if(f.isLeafNode()){var l=f.val();(0,$.assert)("string"==typeof l||"number"==typeof l||"object"==typeof l&&(0,$.contains)(l,".sv"),"Priority must be a string or number.")}else(0,$.assert)(f===Qi||f.isEmpty(),"priority of unexpected type.");(0,$.assert)(f===Qi||f.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Qo=function(){function f(l,p){void 0===p&&(p=f.__childrenNodeConstructor.EMPTY_NODE),this.value_=l,this.priorityNode_=p,this.lazyHash_=null,(0,$.assert)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),ms(this.priorityNode_)}return Object.defineProperty(f,"__childrenNodeConstructor",{get:function(){return Vi},set:function(l){Vi=l},enumerable:!1,configurable:!0}),f.prototype.isLeafNode=function(){return!0},f.prototype.getPriority=function(){return this.priorityNode_},f.prototype.updatePriority=function(l){return new f(this.value_,l)},f.prototype.getImmediateChild=function(l){return".priority"===l?this.priorityNode_:f.__childrenNodeConstructor.EMPTY_NODE},f.prototype.getChild=function(l){return Ze(l)?this:".priority"===Rn(l)?this.priorityNode_:f.__childrenNodeConstructor.EMPTY_NODE},f.prototype.hasChild=function(){return!1},f.prototype.getPredecessorChildName=function(l,p){return null},f.prototype.updateImmediateChild=function(l,p){return".priority"===l?this.updatePriority(p):p.isEmpty()&&".priority"!==l?this:f.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(l,p).updatePriority(this.priorityNode_)},f.prototype.updateChild=function(l,p){var y=Rn(l);return null===y?p:p.isEmpty()&&".priority"!==y?this:((0,$.assert)(".priority"!==y||1===_i(l),".priority must be the last token in a path"),this.updateImmediateChild(y,f.__childrenNodeConstructor.EMPTY_NODE.updateChild(X(l),p)))},f.prototype.isEmpty=function(){return!1},f.prototype.numChildren=function(){return 0},f.prototype.forEachChild=function(l,p){return!1},f.prototype.val=function(l){return l&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},f.prototype.hash=function(){if(null===this.lazyHash_){var l="";this.priorityNode_.isEmpty()||(l+="priority:"+ks(this.priorityNode_.val())+":");var p=typeof this.value_;l+=p+":",l+="number"===p?st(this.value_):this.value_,this.lazyHash_=Me(l)}return this.lazyHash_},f.prototype.getValue=function(){return this.value_},f.prototype.compareTo=function(l){return l===f.__childrenNodeConstructor.EMPTY_NODE?1:l instanceof f.__childrenNodeConstructor?-1:((0,$.assert)(l.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(l))},f.prototype.compareToLeafNode_=function(l){var p=typeof l.value_,y=typeof this.value_,D=f.VALUE_TYPE_ORDER.indexOf(p),k=f.VALUE_TYPE_ORDER.indexOf(y);return(0,$.assert)(D>=0,"Unknown leaf type: "+p),(0,$.assert)(k>=0,"Unknown leaf type: "+y),D===k?"object"===y?0:this.value_<l.value_?-1:this.value_===l.value_?0:1:k-D},f.prototype.withIndex=function(){return this},f.prototype.isIndexed=function(){return!0},f.prototype.equals=function(l){return l===this||!!l.isLeafNode()&&(this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_))},f.VALUE_TYPE_ORDER=["object","boolean","number","string"],f}(),To=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return(0,je.__extends)(l,f),l.prototype.compare=function(p,y){var D=p.node.getPriority(),k=y.node.getPriority(),H=D.compareTo(k);return 0===H?Ye(p.name,y.name):H},l.prototype.isDefinedOn=function(p){return!p.getPriority().isEmpty()},l.prototype.indexedValueChanged=function(p,y){return!p.getPriority().equals(y.getPriority())},l.prototype.minPost=function(){return $n.MIN},l.prototype.maxPost=function(){return new $n(Ue,new Qo("[PRIORITY-POST]",ha))},l.prototype.makePost=function(p,y){var D=Do(p);return new $n(y,new Qo("[PRIORITY-POST]",D))},l.prototype.toString=function(){return".priority"},l}(Io),pr=new To,pa=Math.log(2),Jo=function(){function f(l){this.count=parseInt(Math.log(l+1)/pa,10),this.current_=this.count-1;var D=parseInt(Array(this.count+1).join("1"),2);this.bits_=l+1&D}return f.prototype.nextBitIsOne=function(){var l=!(this.bits_&1<<this.current_);return this.current_--,l},f}(),qi=function(f,l,p,y){f.sort(l);var D=function(le,be){var gt,kt,Te=be-le;if(0===Te)return null;if(1===Te)return gt=f[le],kt=p?p(gt):gt,new so(kt,gt.node,so.BLACK,null,null);var Kt=parseInt(Te/2,10)+le,ln=D(le,Kt),Cn=D(Kt+1,be);return gt=f[Kt],kt=p?p(gt):gt,new so(kt,gt.node,so.BLACK,ln,Cn)},re=function(le){for(var be=null,Te=null,gt=f.length,kt=function(fr,Fi){var Ha=gt-fr,yu=gt;gt-=fr;var ba=D(Ha+1,yu),Pd=f[Ha],Rl=p?p(Pd):Pd;Kt(new so(Rl,Pd.node,Fi,null,ba))},Kt=function(fr){be?(be.left=fr,be=fr):(Te=fr,be=fr)},ln=0;ln<le.count;++ln){var Cn=le.nextBitIsOne(),Dt=Math.pow(2,le.count-(ln+1));Cn?kt(Dt,so.BLACK):(kt(Dt,so.BLACK),kt(Dt,so.RED))}return Te}(new Jo(f.length));return new ao(y||l,re)},Kr={},ci=function(){function f(l,p){this.indexes_=l,this.indexSet_=p}return Object.defineProperty(f,"Default",{get:function(){return(0,$.assert)(Kr&&pr,"ChildrenNode.ts has not been loaded"),Mi=Mi||new f({".priority":Kr},{".priority":pr})},enumerable:!1,configurable:!0}),f.prototype.get=function(l){var p=(0,$.safeGet)(this.indexes_,l);if(!p)throw new Error("No index defined for "+l);return p instanceof ao?p:null},f.prototype.hasIndex=function(l){return(0,$.contains)(this.indexSet_,l.toString())},f.prototype.addIndex=function(l,p){(0,$.assert)(l!==Vr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var y=[],D=!1,k=p.getIterator($n.Wrap),H=k.getNext();H;)D=D||l.isDefinedOn(H.node),y.push(H),H=k.getNext();var re;re=D?qi(y,l.getCompare()):Kr;var le=l.toString(),be=(0,je.__assign)({},this.indexSet_);be[le]=l;var Te=(0,je.__assign)({},this.indexes_);return Te[le]=re,new f(Te,be)},f.prototype.addToIndexes=function(l,p){var y=this;return new f((0,$.map)(this.indexes_,function(k,H){var re=(0,$.safeGet)(y.indexSet_,H);if((0,$.assert)(re,"Missing index implementation for "+H),k===Kr){if(re.isDefinedOn(l.node)){for(var le=[],be=p.getIterator($n.Wrap),Te=be.getNext();Te;)Te.name!==l.name&&le.push(Te),Te=be.getNext();return le.push(l),qi(le,re.getCompare())}return Kr}var gt=p.get(l.name),kt=k;return gt&&(kt=kt.remove(new $n(l.name,gt))),kt.insert(l,l.node)}),this.indexSet_)},f.prototype.removeFromIndexes=function(l,p){return new f((0,$.map)(this.indexes_,function(D){if(D===Kr)return D;var k=p.get(l.name);return k?D.remove(new $n(l.name,k)):D}),this.indexSet_)},f}(),J=function(){function f(l,p,y){this.children_=l,this.priorityNode_=p,this.indexMap_=y,this.lazyHash_=null,this.priorityNode_&&ms(this.priorityNode_),this.children_.isEmpty()&&(0,$.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(f,"EMPTY_NODE",{get:function(){return j||(j=new f(new ao(Xi),null,ci.Default))},enumerable:!1,configurable:!0}),f.prototype.isLeafNode=function(){return!1},f.prototype.getPriority=function(){return this.priorityNode_||j},f.prototype.updatePriority=function(l){return this.children_.isEmpty()?this:new f(this.children_,l,this.indexMap_)},f.prototype.getImmediateChild=function(l){if(".priority"===l)return this.getPriority();var p=this.children_.get(l);return null===p?j:p},f.prototype.getChild=function(l){var p=Rn(l);return null===p?this:this.getImmediateChild(p).getChild(X(l))},f.prototype.hasChild=function(l){return null!==this.children_.get(l)},f.prototype.updateImmediateChild=function(l,p){if((0,$.assert)(p,"We should always be passing snapshot nodes"),".priority"===l)return this.updatePriority(p);var y=new $n(l,p),D=void 0,k=void 0;p.isEmpty()?(D=this.children_.remove(l),k=this.indexMap_.removeFromIndexes(y,this.children_)):(D=this.children_.insert(l,p),k=this.indexMap_.addToIndexes(y,this.children_));var H=D.isEmpty()?j:this.priorityNode_;return new f(D,H,k)},f.prototype.updateChild=function(l,p){var y=Rn(l);if(null===y)return p;(0,$.assert)(".priority"!==Rn(l)||1===_i(l),".priority must be the last token in a path");var D=this.getImmediateChild(y).updateChild(X(l),p);return this.updateImmediateChild(y,D)},f.prototype.isEmpty=function(){return this.children_.isEmpty()},f.prototype.numChildren=function(){return this.children_.count()},f.prototype.val=function(l){if(this.isEmpty())return null;var p={},y=0,D=0,k=!0;if(this.forEachChild(pr,function(le,be){p[le]=be.val(l),y++,k&&f.INTEGER_REGEXP_.test(le)?D=Math.max(D,Number(le)):k=!1}),!l&&k&&D<2*y){var H=[];for(var re in p)H[re]=p[re];return H}return l&&!this.getPriority().isEmpty()&&(p[".priority"]=this.getPriority().val()),p},f.prototype.hash=function(){if(null===this.lazyHash_){var l="";this.getPriority().isEmpty()||(l+="priority:"+ks(this.getPriority().val())+":"),this.forEachChild(pr,function(p,y){var D=y.hash();""!==D&&(l+=":"+p+":"+D)}),this.lazyHash_=""===l?"":Me(l)}return this.lazyHash_},f.prototype.getPredecessorChildName=function(l,p,y){var D=this.resolveIndex_(y);if(D){var k=D.getPredecessorKey(new $n(l,p));return k?k.name:null}return this.children_.getPredecessorKey(l)},f.prototype.getFirstChildName=function(l){var p=this.resolveIndex_(l);if(p){var y=p.minKey();return y&&y.name}return this.children_.minKey()},f.prototype.getFirstChild=function(l){var p=this.getFirstChildName(l);return p?new $n(p,this.children_.get(p)):null},f.prototype.getLastChildName=function(l){var p=this.resolveIndex_(l);if(p){var y=p.maxKey();return y&&y.name}return this.children_.maxKey()},f.prototype.getLastChild=function(l){var p=this.getLastChildName(l);return p?new $n(p,this.children_.get(p)):null},f.prototype.forEachChild=function(l,p){var y=this.resolveIndex_(l);return y?y.inorderTraversal(function(D){return p(D.name,D.node)}):this.children_.inorderTraversal(p)},f.prototype.getIterator=function(l){return this.getIteratorFrom(l.minPost(),l)},f.prototype.getIteratorFrom=function(l,p){var y=this.resolveIndex_(p);if(y)return y.getIteratorFrom(l,function(H){return H});for(var D=this.children_.getIteratorFrom(l.name,$n.Wrap),k=D.peek();null!=k&&p.compare(k,l)<0;)D.getNext(),k=D.peek();return D},f.prototype.getReverseIterator=function(l){return this.getReverseIteratorFrom(l.maxPost(),l)},f.prototype.getReverseIteratorFrom=function(l,p){var y=this.resolveIndex_(p);if(y)return y.getReverseIteratorFrom(l,function(H){return H});for(var D=this.children_.getReverseIteratorFrom(l.name,$n.Wrap),k=D.peek();null!=k&&p.compare(k,l)>0;)D.getNext(),k=D.peek();return D},f.prototype.compareTo=function(l){return this.isEmpty()?l.isEmpty()?0:-1:l.isLeafNode()||l.isEmpty()?1:l===se?-1:0},f.prototype.withIndex=function(l){if(l===Vr||this.indexMap_.hasIndex(l))return this;var p=this.indexMap_.addIndex(l,this.children_);return new f(this.children_,this.priorityNode_,p)},f.prototype.isIndexed=function(l){return l===Vr||this.indexMap_.hasIndex(l)},f.prototype.equals=function(l){if(l===this)return!0;if(l.isLeafNode())return!1;var p=l;if(this.getPriority().equals(p.getPriority())){if(this.children_.count()===p.children_.count()){for(var y=this.getIterator(pr),D=p.getIterator(pr),k=y.getNext(),H=D.getNext();k&&H;){if(k.name!==H.name||!k.node.equals(H.node))return!1;k=y.getNext(),H=D.getNext()}return null===k&&null===H}return!1}return!1},f.prototype.resolveIndex_=function(l){return l===Vr?null:this.indexMap_.get(l.toString())},f.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,f}(),q=function(f){function l(){return f.call(this,new ao(Xi),J.EMPTY_NODE,ci.Default)||this}return(0,je.__extends)(l,f),l.prototype.compareTo=function(p){return p===this?0:1},l.prototype.equals=function(p){return p===this},l.prototype.getPriority=function(){return this},l.prototype.getImmediateChild=function(p){return J.EMPTY_NODE},l.prototype.isEmpty=function(){return!1},l}(J),se=new q;function _t(f,l){if(void 0===l&&(l=null),null===f)return J.EMPTY_NODE;if("object"==typeof f&&".priority"in f&&(l=f[".priority"]),(0,$.assert)(null===l||"string"==typeof l||"number"==typeof l||"object"==typeof l&&".sv"in l,"Invalid priority type found: "+typeof l),"object"==typeof f&&".value"in f&&null!==f[".value"]&&(f=f[".value"]),"object"!=typeof f||".sv"in f)return new Qo(f,_t(l));if(f instanceof Array){var le=J.EMPTY_NODE;return ht(f,function(be,Te){if((0,$.contains)(f,be)&&"."!==be.substring(0,1)){var gt=_t(Te);(gt.isLeafNode()||!gt.isEmpty())&&(le=le.updateImmediateChild(be,gt))}}),le.updatePriority(_t(l))}var y=[],D=!1;if(ht(f,function(be,Te){if("."!==be.substring(0,1)){var gt=_t(Te);gt.isEmpty()||(D=D||!gt.getPriority().isEmpty(),y.push(new $n(be,gt)))}}),0===y.length)return J.EMPTY_NODE;var H=qi(y,Gs,function(be){return be.name},Xi);if(D){var re=qi(y,pr.getCompare());return new J(H,_t(l),new ci({".priority":re},{".priority":pr}))}return new J(H,_t(l),ci.Default)}Object.defineProperties($n,{MIN:{value:new $n(Ie,J.EMPTY_NODE)},MAX:{value:new $n(Ue,se)}}),Sa.__EMPTY_NODE=J.EMPTY_NODE,Qo.__childrenNodeConstructor=J,function da(f){Qi=f}(se),function mo(f){ha=f}(se),function Os(f){Do=f}(_t);var jt=function(f){function l(p){var y=f.call(this)||this;return y.indexPath_=p,(0,$.assert)(!Ze(p)&&".priority"!==Rn(p),"Can't create PathIndex with empty path or .priority key"),y}return(0,je.__extends)(l,f),l.prototype.extractChild=function(p){return p.getChild(this.indexPath_)},l.prototype.isDefinedOn=function(p){return!p.getChild(this.indexPath_).isEmpty()},l.prototype.compare=function(p,y){var D=this.extractChild(p.node),k=this.extractChild(y.node),H=D.compareTo(k);return 0===H?Ye(p.name,y.name):H},l.prototype.makePost=function(p,y){var D=_t(p),k=J.EMPTY_NODE.updateChild(this.indexPath_,D);return new $n(y,k)},l.prototype.maxPost=function(){var p=J.EMPTY_NODE.updateChild(this.indexPath_,se);return new $n(Ue,p)},l.prototype.toString=function(){return we(this.indexPath_,0).join("/")},l}(Io),en=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return(0,je.__extends)(l,f),l.prototype.compare=function(p,y){var D=p.node.compareTo(y.node);return 0===D?Ye(p.name,y.name):D},l.prototype.isDefinedOn=function(p){return!0},l.prototype.indexedValueChanged=function(p,y){return!p.equals(y)},l.prototype.minPost=function(){return $n.MIN},l.prototype.maxPost=function(){return $n.MAX},l.prototype.makePost=function(p,y){var D=_t(p);return new $n(y,D)},l.prototype.toString=function(){return".value"},l}(Io),Rr=new en,Cr="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",gr=function(){var f=0,l=[];return function(p){var y=p===f;f=p;var D,k=new Array(8);for(D=7;D>=0;D--)k[D]=Cr.charAt(p%64),p=Math.floor(p/64);(0,$.assert)(0===p,"Cannot push at time == 0");var H=k.join("");if(y){for(D=11;D>=0&&63===l[D];D--)l[D]=0;l[D]++}else for(D=0;D<12;D++)l[D]=Math.floor(64*Math.random());for(D=0;D<12;D++)H+=Cr.charAt(l[D]);return(0,$.assert)(20===H.length,"nextPushId: Length should be 20."),H}}(),Pr=function(f){if(f===""+mn)return"-";var l=Zt(f);if(null!=l)return""+(l+1);for(var p=new Array(f.length),y=0;y<p.length;y++)p[y]=f.charAt(y);if(p.length<786)return p.push("-"),p.join("");for(var D=p.length-1;D>=0&&"z"===p[D];)D--;if(-1===D)return Ue;var H=Cr.charAt(Cr.indexOf(p[D])+1);return p[D]=H,p.slice(0,D+1).join("")},Zo=function(f){if(f===""+Xe)return Ie;var l=Zt(f);if(null!=l)return""+(l-1);for(var p=new Array(f.length),y=0;y<p.length;y++)p[y]=f.charAt(y);return"-"===p[p.length-1]?1===p.length?""+mn:(delete p[p.length-1],p.join("")):(p[p.length-1]=Cr.charAt(Cr.indexOf(p[p.length-1])-1),p.join("")+"z".repeat(786-p.length))};function vo(f){return{type:"value",snapshotNode:f}}function Ji(f,l){return{type:"child_added",snapshotNode:l,childName:f}}function Fr(f,l){return{type:"child_removed",snapshotNode:l,childName:f}}function z(f,l,p){return{type:"child_changed",snapshotNode:l,childName:f,oldSnap:p}}var P=function(){function f(l){this.index_=l}return f.prototype.updateChild=function(l,p,y,D,k,H){(0,$.assert)(l.isIndexed(this.index_),"A node must be indexed if only a child is updated");var re=l.getImmediateChild(p);return re.getChild(D).equals(y.getChild(D))&&re.isEmpty()===y.isEmpty()||(null!=H&&(y.isEmpty()?l.hasChild(p)?H.trackChildChange(Fr(p,re)):(0,$.assert)(l.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):re.isEmpty()?H.trackChildChange(Ji(p,y)):H.trackChildChange(z(p,y,re))),l.isLeafNode()&&y.isEmpty())?l:l.updateImmediateChild(p,y).withIndex(this.index_)},f.prototype.updateFullNode=function(l,p,y){return null!=y&&(l.isLeafNode()||l.forEachChild(pr,function(D,k){p.hasChild(D)||y.trackChildChange(Fr(D,k))}),p.isLeafNode()||p.forEachChild(pr,function(D,k){if(l.hasChild(D)){var H=l.getImmediateChild(D);H.equals(k)||y.trackChildChange(z(D,k,H))}else y.trackChildChange(Ji(D,k))})),p.withIndex(this.index_)},f.prototype.updatePriority=function(l,p){return l.isEmpty()?J.EMPTY_NODE:l.updatePriority(p)},f.prototype.filtersNodes=function(){return!1},f.prototype.getIndexedFilter=function(){return this},f.prototype.getIndex=function(){return this.index_},f}(),ne=function(){function f(l){this.indexedFilter_=new P(l.getIndex()),this.index_=l.getIndex(),this.startPost_=f.getStartPost_(l),this.endPost_=f.getEndPost_(l)}return f.prototype.getStartPost=function(){return this.startPost_},f.prototype.getEndPost=function(){return this.endPost_},f.prototype.matches=function(l){return this.index_.compare(this.getStartPost(),l)<=0&&this.index_.compare(l,this.getEndPost())<=0},f.prototype.updateChild=function(l,p,y,D,k,H){return this.matches(new $n(p,y))||(y=J.EMPTY_NODE),this.indexedFilter_.updateChild(l,p,y,D,k,H)},f.prototype.updateFullNode=function(l,p,y){p.isLeafNode()&&(p=J.EMPTY_NODE);var D=p.withIndex(this.index_);D=D.updatePriority(J.EMPTY_NODE);var k=this;return p.forEachChild(pr,function(H,re){k.matches(new $n(H,re))||(D=D.updateImmediateChild(H,J.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(l,D,y)},f.prototype.updatePriority=function(l,p){return l},f.prototype.filtersNodes=function(){return!0},f.prototype.getIndexedFilter=function(){return this.indexedFilter_},f.prototype.getIndex=function(){return this.index_},f.getStartPost_=function(l){if(l.hasStart()){var p=l.getIndexStartName();return l.getIndex().makePost(l.getIndexStartValue(),p)}return l.getIndex().minPost()},f.getEndPost_=function(l){if(l.hasEnd()){var p=l.getIndexEndName();return l.getIndex().makePost(l.getIndexEndValue(),p)}return l.getIndex().maxPost()},f}(),Rt=function(){function f(l){this.rangedFilter_=new ne(l),this.index_=l.getIndex(),this.limit_=l.getLimit(),this.reverse_=!l.isViewFromLeft()}return f.prototype.updateChild=function(l,p,y,D,k,H){return this.rangedFilter_.matches(new $n(p,y))||(y=J.EMPTY_NODE),l.getImmediateChild(p).equals(y)?l:l.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(l,p,y,D,k,H):this.fullLimitUpdateChild_(l,p,y,k,H)},f.prototype.updateFullNode=function(l,p,y){var D;if(p.isLeafNode()||p.isEmpty())D=J.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<p.numChildren()&&p.isIndexed(this.index_)){D=J.EMPTY_NODE.withIndex(this.index_);var k=void 0;k=this.reverse_?p.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):p.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var H=0;k.hasNext()&&H<this.limit_;){var re=k.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),re)<=0:this.index_.compare(re,this.rangedFilter_.getEndPost())<=0))break;D=D.updateImmediateChild(re.name,re.node),H++}}else{D=(D=p.withIndex(this.index_)).updatePriority(J.EMPTY_NODE);var be=void 0,Te=void 0,gt=void 0;if(k=void 0,this.reverse_){k=D.getReverseIterator(this.index_),be=this.rangedFilter_.getEndPost(),Te=this.rangedFilter_.getStartPost();var kt=this.index_.getCompare();gt=function(Dt,fr){return kt(fr,Dt)}}else k=D.getIterator(this.index_),be=this.rangedFilter_.getStartPost(),Te=this.rangedFilter_.getEndPost(),gt=this.index_.getCompare();H=0;for(var Kt=!1;k.hasNext();)re=k.getNext(),!Kt&&gt(be,re)<=0&&(Kt=!0),Kt&&H<this.limit_&&gt(re,Te)<=0?H++:D=D.updateImmediateChild(re.name,J.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(l,D,y)},f.prototype.updatePriority=function(l,p){return l},f.prototype.filtersNodes=function(){return!0},f.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},f.prototype.getIndex=function(){return this.index_},f.prototype.fullLimitUpdateChild_=function(l,p,y,D,k){var H;if(this.reverse_){var re=this.index_.getCompare();H=function(Fi,Ha){return re(Ha,Fi)}}else H=this.index_.getCompare();var le=l;(0,$.assert)(le.numChildren()===this.limit_,"");var be=new $n(p,y),Te=this.reverse_?le.getFirstChild(this.index_):le.getLastChild(this.index_),gt=this.rangedFilter_.matches(be);if(le.hasChild(p)){for(var kt=le.getImmediateChild(p),Kt=D.getChildAfterChild(this.index_,Te,this.reverse_);null!=Kt&&(Kt.name===p||le.hasChild(Kt.name));)Kt=D.getChildAfterChild(this.index_,Kt,this.reverse_);var ln=null==Kt?1:H(Kt,be);if(gt&&!y.isEmpty()&&ln>=0)return null!=k&&k.trackChildChange(z(p,y,kt)),le.updateImmediateChild(p,y);null!=k&&k.trackChildChange(Fr(p,kt));var Dt=le.updateImmediateChild(p,J.EMPTY_NODE);return null!=Kt&&this.rangedFilter_.matches(Kt)?(null!=k&&k.trackChildChange(Ji(Kt.name,Kt.node)),Dt.updateImmediateChild(Kt.name,Kt.node)):Dt}return y.isEmpty()?l:gt&&H(Te,be)>=0?(null!=k&&(k.trackChildChange(Fr(Te.name,Te.node)),k.trackChildChange(Ji(p,y))),le.updateImmediateChild(p,y).updateImmediateChild(Te.name,J.EMPTY_NODE)):l},f}(),En=function(){function f(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=pr}return f.prototype.hasStart=function(){return this.startSet_},f.prototype.hasStartAfter=function(){return this.startAfterSet_},f.prototype.hasEndBefore=function(){return this.endBeforeSet_},f.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},f.prototype.getIndexStartValue=function(){return(0,$.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},f.prototype.getIndexStartName=function(){return(0,$.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ie},f.prototype.hasEnd=function(){return this.endSet_},f.prototype.getIndexEndValue=function(){return(0,$.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},f.prototype.getIndexEndName=function(){return(0,$.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ue},f.prototype.hasLimit=function(){return this.limitSet_},f.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},f.prototype.getLimit=function(){return(0,$.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},f.prototype.getIndex=function(){return this.index_},f.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},f.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===pr},f.prototype.copy=function(){var l=new f;return l.limitSet_=this.limitSet_,l.limit_=this.limit_,l.startSet_=this.startSet_,l.indexStartValue_=this.indexStartValue_,l.startNameSet_=this.startNameSet_,l.indexStartName_=this.indexStartName_,l.endSet_=this.endSet_,l.indexEndValue_=this.indexEndValue_,l.endNameSet_=this.endNameSet_,l.indexEndName_=this.indexEndName_,l.index_=this.index_,l.viewFrom_=this.viewFrom_,l},f}();function E(f,l,p){var y=f.copy();return y.startSet_=!0,void 0===l&&(l=null),y.indexStartValue_=l,null!=p?(y.startNameSet_=!0,y.indexStartName_=p):(y.startNameSet_=!1,y.indexStartName_=""),y}function oe(f,l,p){var y=f.copy();return y.endSet_=!0,void 0===l&&(l=null),y.indexEndValue_=l,void 0!==p?(y.endNameSet_=!0,y.indexEndName_=p):(y.endNameSet_=!1,y.indexEndName_=""),y}function Xt(f,l){var p=f.copy();return p.index_=l,p}function dt(f){var p,l={};return f.isDefault()||(f.index_===pr?p="$priority":f.index_===Rr?p="$value":f.index_===Vr?p="$key":((0,$.assert)(f.index_ instanceof jt,"Unrecognized index type!"),p=f.index_.toString()),l.orderBy=(0,$.stringify)(p),f.startSet_&&(l.startAt=(0,$.stringify)(f.indexStartValue_),f.startNameSet_&&(l.startAt+=","+(0,$.stringify)(f.indexStartName_))),f.endSet_&&(l.endAt=(0,$.stringify)(f.indexEndValue_),f.endNameSet_&&(l.endAt+=","+(0,$.stringify)(f.indexEndName_))),f.limitSet_&&(f.isViewFromLeft()?l.limitToFirst=f.limit_:l.limitToLast=f.limit_)),l}function Jt(f){var l={};if(f.startSet_&&(l.sp=f.indexStartValue_,f.startNameSet_&&(l.sn=f.indexStartName_)),f.endSet_&&(l.ep=f.indexEndValue_,f.endNameSet_&&(l.en=f.indexEndName_)),f.limitSet_){l.l=f.limit_;var p=f.viewFrom_;""===p&&(p=f.isViewFromLeft()?"l":"r"),l.vf=p}return f.index_!==pr&&(l.i=f.index_.toString()),l}var Gr=function(f){function l(p,y,D,k){var H=f.call(this)||this;return H.repoInfo_=p,H.onDataUpdate_=y,H.authTokenProvider_=D,H.appCheckTokenProvider_=k,H.log_=Ke("p:rest:"),H.listens_={},H}return(0,je.__extends)(l,f),l.prototype.reportStats=function(p){throw new Error("Method not implemented.")},l.getListenId_=function(p,y){return void 0!==y?"tag$"+y:((0,$.assert)(p._queryParams.isDefault(),"should have a tag if it's not a default query."),p._path.toString())},l.prototype.listen=function(p,y,D,k){var H=this,re=p._path.toString();this.log_("Listen called for "+re+" "+p._queryIdentifier);var le=l.getListenId_(p,D),be={};this.listens_[le]=be;var Te=dt(p._queryParams);this.restRequest_(re+".json",Te,function(gt,kt){var Kt=kt;404===gt&&(Kt=null,gt=null),null===gt&&H.onDataUpdate_(re,Kt,!1,D),(0,$.safeGet)(H.listens_,le)===be&&k(gt?401===gt?"permission_denied":"rest_error:"+gt:"ok",null)})},l.prototype.unlisten=function(p,y){var D=l.getListenId_(p,y);delete this.listens_[D]},l.prototype.get=function(p){var y=this,D=dt(p._queryParams),k=p._path.toString(),H=new $.Deferred;return this.restRequest_(k+".json",D,function(re,le){var be=le;404===re&&(be=null,re=null),null===re?(y.onDataUpdate_(k,be,!1,null),H.resolve(be)):H.reject(new Error(be))}),H.promise},l.prototype.refreshAuthToken=function(p){},l.prototype.restRequest_=function(p,y,D){var k=this;return void 0===y&&(y={}),y.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(H){var re=(0,je.__read)(H,2),le=re[0],be=re[1];le&&le.accessToken&&(y.auth=le.accessToken),be&&be.token&&(y.ac=be.token);var Te=(k.repoInfo_.secure?"https://":"http://")+k.repoInfo_.host+p+"?ns="+k.repoInfo_.namespace+(0,$.querystring)(y);k.log_("Sending REST request for "+Te);var gt=new XMLHttpRequest;gt.onreadystatechange=function(){if(D&&4===gt.readyState){k.log_("REST Response for "+Te+" received. status:",gt.status,"response:",gt.responseText);var kt=null;if(gt.status>=200&&gt.status<300){try{kt=(0,$.jsonEval)(gt.responseText)}catch(Kt){Ft("Failed to parse JSON response for "+Te+": "+gt.responseText)}D(null,kt)}else 401!==gt.status&&404!==gt.status&&Ft("Got unsuccessful REST response for "+Te+" Status: "+gt.status),D(gt.status);D=null}},gt.open("GET",Te,!0),gt.send()})},l}(yn),cr=function(){function f(){this.rootNode_=J.EMPTY_NODE}return f.prototype.getNode=function(l){return this.rootNode_.getChild(l)},f.prototype.updateSnapshot=function(l,p){this.rootNode_=this.rootNode_.updateChild(l,p)},f}();function ei(){return{value:null,children:new Map}}function li(f,l,p){if(Ze(l))f.value=p,f.children.clear();else if(null!==f.value)f.value=f.value.updateChild(l,p);else{var y=Rn(l);f.children.has(y)||f.children.set(y,ei()),li(f.children.get(y),l=X(l),p)}}function bi(f,l){if(Ze(l))return f.value=null,f.children.clear(),!0;if(null!==f.value){if(f.value.isLeafNode())return!1;var p=f.value;return f.value=null,p.forEachChild(pr,function(k,H){li(f,new Fn(k),H)}),bi(f,l)}if(f.children.size>0){var y=Rn(l);return l=X(l),f.children.has(y)&&bi(f.children.get(y),l)&&f.children.delete(y),0===f.children.size}return!0}function Bo(f,l,p){null!==f.value?p(l,f.value):function uo(f,l){f.children.forEach(function(p,y){l(y,p)})}(f,function(y,D){Bo(D,new Fn(l.toString()+"/"+y),p)})}var Aa=function(){function f(l){this.collection_=l,this.last_=null}return f.prototype.get=function(){var l=this.collection_.get(),p=(0,je.__assign)({},l);return this.last_&&ht(this.last_,function(y,D){p[y]=p[y]-D}),this.last_=l,p},f}(),Zi=function(){function f(l,p){this.server_=p,this.statsToReport_={},this.statsListener_=new Aa(l);var y=1e4+2e4*Math.random();Un(this.reportStats_.bind(this),Math.floor(y))}return f.prototype.reportStats_=function(){var l=this,p=this.statsListener_.get(),y={},D=!1;ht(p,function(k,H){H>0&&(0,$.contains)(l.statsToReport_,k)&&(y[k]=H,D=!0)}),D&&this.server_.reportStats(y),Un(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},f}(),Vo=(()=>(function(f){f[f.OVERWRITE=0]="OVERWRITE",f[f.MERGE=1]="MERGE",f[f.ACK_USER_WRITE=2]="ACK_USER_WRITE",f[f.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Vo||(Vo={})),Vo))();function xu(f){return{fromUser:!1,fromServer:!0,queryId:f,tagged:!0}}var fc=function(){function f(l,p,y){this.path=l,this.affectedTree=p,this.revert=y,this.type=Vo.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return f.prototype.operationForChild=function(l){if(Ze(this.path)){if(null!=this.affectedTree.value)return(0,$.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var p=this.affectedTree.subtree(new Fn(l));return new f($t(),p,this.revert)}return(0,$.assert)(Rn(this.path)===l,"operationForChild called for unrelated child."),new f(X(this.path),this.affectedTree,this.revert)},f}(),ku=function(){function f(l,p){this.source=l,this.path=p,this.type=Vo.LISTEN_COMPLETE}return f.prototype.operationForChild=function(l){return Ze(this.path)?new f(this.source,$t()):new f(this.source,X(this.path))},f}(),dc=function(){function f(l,p,y){this.source=l,this.path=p,this.snap=y,this.type=Vo.OVERWRITE}return f.prototype.operationForChild=function(l){return Ze(this.path)?new f(this.source,$t(),this.snap.getImmediateChild(l)):new f(this.source,X(this.path),this.snap)},f}(),Ou=function(){function f(l,p,y){this.source=l,this.path=p,this.children=y,this.type=Vo.MERGE}return f.prototype.operationForChild=function(l){if(Ze(this.path)){var p=this.children.subtree(new Fn(l));return p.isEmpty()?null:p.value?new dc(this.source,$t(),p.value):new f(this.source,$t(),p)}return(0,$.assert)(Rn(this.path)===l,"Can't get a merge for a child not on the path of the operation"),new f(this.source,X(this.path),this.children)},f.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},f}(),ts=function(){function f(l,p,y){this.node_=l,this.fullyInitialized_=p,this.filtered_=y}return f.prototype.isFullyInitialized=function(){return this.fullyInitialized_},f.prototype.isFiltered=function(){return this.filtered_},f.prototype.isCompleteForPath=function(l){if(Ze(l))return this.isFullyInitialized()&&!this.filtered_;var p=Rn(l);return this.isCompleteForChild(p)},f.prototype.isCompleteForChild=function(l){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(l)},f.prototype.getNode=function(){return this.node_},f}(),Nu=function f(l){this.query_=l,this.index_=this.query_._queryParams.getIndex()};function xa(f,l,p,y,D,k){var H=y.filter(function(re){return re.type===p});H.sort(function(re,le){return function Uo(f,l,p){if(null==l.childName||null==p.childName)throw(0,$.assertionError)("Should only compare child_ events.");var y=new $n(l.childName,l.snapshotNode),D=new $n(p.childName,p.snapshotNode);return f.index_.compare(y,D)}(f,re,le)}),H.forEach(function(re){var le=function Pu(f,l,p){return"value"===l.type||"child_removed"===l.type||(l.prevName=p.getPredecessorChildName(l.childName,l.snapshotNode,f.index_)),l}(f,re,k);D.forEach(function(be){be.respondsTo(re.type)&&l.push(be.createEvent(le,f.query_))})})}function ou(f,l){return{eventCache:f,serverCache:l}}function Fu(f,l,p,y){return ou(new ts(l,p,y),f.serverCache)}function hc(f,l,p,y){return ou(f.eventCache,new ts(l,p,y))}function zs(f){return f.eventCache.isFullyInitialized()?f.eventCache.getNode():null}function vs(f){return f.serverCache.isFullyInitialized()?f.serverCache.getNode():null}var ga,ii=function(){function f(l,p){void 0===p&&(ga||(ga=new ao(Gt)),p=ga),this.value=l,this.children=p}return f.fromObject=function(l){var p=new f(null);return ht(l,function(y,D){p=p.set(new Fn(y),D)}),p},f.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},f.prototype.findRootMostMatchingPathAndValue=function(l,p){if(null!=this.value&&p(this.value))return{path:$t(),value:this.value};if(Ze(l))return null;var y=Rn(l),D=this.children.get(y);if(null!==D){var k=D.findRootMostMatchingPathAndValue(X(l),p);return null!=k?{path:Oe(new Fn(y),k.path),value:k.value}:null}return null},f.prototype.findRootMostValueAndPath=function(l){return this.findRootMostMatchingPathAndValue(l,function(){return!0})},f.prototype.subtree=function(l){if(Ze(l))return this;var p=Rn(l),y=this.children.get(p);return null!==y?y.subtree(X(l)):new f(null)},f.prototype.set=function(l,p){if(Ze(l))return new f(p,this.children);var y=Rn(l),k=(this.children.get(y)||new f(null)).set(X(l),p),H=this.children.insert(y,k);return new f(this.value,H)},f.prototype.remove=function(l){if(Ze(l))return this.children.isEmpty()?new f(null):new f(null,this.children);var p=Rn(l),y=this.children.get(p);if(y){var D=y.remove(X(l)),k=void 0;return k=D.isEmpty()?this.children.remove(p):this.children.insert(p,D),null===this.value&&k.isEmpty()?new f(null):new f(this.value,k)}return this},f.prototype.get=function(l){if(Ze(l))return this.value;var p=Rn(l),y=this.children.get(p);return y?y.get(X(l)):null},f.prototype.setTree=function(l,p){if(Ze(l))return p;var H,y=Rn(l),k=(this.children.get(y)||new f(null)).setTree(X(l),p);return H=k.isEmpty()?this.children.remove(y):this.children.insert(y,k),new f(this.value,H)},f.prototype.fold=function(l){return this.fold_($t(),l)},f.prototype.fold_=function(l,p){var y={};return this.children.inorderTraversal(function(D,k){y[D]=k.fold_(Oe(l,D),p)}),p(l,this.value,y)},f.prototype.findOnPath=function(l,p){return this.findOnPath_(l,$t(),p)},f.prototype.findOnPath_=function(l,p,y){var D=!!this.value&&y(p,this.value);if(D)return D;if(Ze(l))return null;var k=Rn(l),H=this.children.get(k);return H?H.findOnPath_(X(l),Oe(p,k),y):null},f.prototype.foreachOnPath=function(l,p){return this.foreachOnPath_(l,$t(),p)},f.prototype.foreachOnPath_=function(l,p,y){if(Ze(l))return this;this.value&&y(p,this.value);var D=Rn(l),k=this.children.get(D);return k?k.foreachOnPath_(X(l),Oe(p,D),y):new f(null)},f.prototype.foreach=function(l){this.foreach_($t(),l)},f.prototype.foreach_=function(l,p){this.children.inorderTraversal(function(y,D){D.foreach_(Oe(l,y),p)}),this.value&&p(l,this.value)},f.prototype.foreachChild=function(l){this.children.inorderTraversal(function(p,y){y.value&&l(p,y.value)})},f}(),Oi=function(){function f(l){this.writeTree_=l}return f.empty=function(){return new f(new ii(null))},f}();function xr(f,l,p){if(Ze(l))return new Oi(new ii(p));var y=f.writeTree_.findRootMostValueAndPath(l);if(null!=y){var D=y.path,k=y.value,H=It(D,l);return k=k.updateChild(H,p),new Oi(f.writeTree_.set(D,k))}var re=new ii(p),le=f.writeTree_.setTree(l,re);return new Oi(le)}function Lu(f,l,p){var y=f;return ht(p,function(D,k){y=xr(y,Oe(l,D),k)}),y}function pc(f,l){if(Ze(l))return Oi.empty();var p=f.writeTree_.setTree(l,new ii(null));return new Oi(p)}function Bu(f,l){return null!=ka(f,l)}function ka(f,l){var p=f.writeTree_.findRootMostValueAndPath(l);return null!=p?f.writeTree_.get(p.path).getChild(It(p.path,l)):null}function wi(f){var l=[],p=f.writeTree_.value;return null!=p?p.isLeafNode()||p.forEachChild(pr,function(y,D){l.push(new $n(y,D))}):f.writeTree_.children.inorderTraversal(function(y,D){null!=D.value&&l.push(new $n(y,D.value))}),l}function ys(f,l){if(Ze(l))return f;var p=ka(f,l);return new Oi(null!=p?new ii(p):f.writeTree_.subtree(l))}function gc(f){return f.writeTree_.isEmpty()}function Ws(f,l){return Ys($t(),f.writeTree_,l)}function Ys(f,l,p){if(null!=l.value)return p.updateChild(f,l.value);var y=null;return l.children.inorderTraversal(function(D,k){".priority"===D?((0,$.assert)(null!==k.value,"Priority writes must always be leaf nodes"),y=k.value):p=Ys(Oe(f,D),k,p)}),!p.getChild(f).isEmpty()&&null!==y&&(p=p.updateChild(Oe(f,".priority"),y)),p}function Ns(f,l){return Na(l,f)}function Th(f,l){if(f.snap)return tn(f.path,l);for(var p in f.children)if(f.children.hasOwnProperty(p)&&tn(Oe(f.path,p),l))return!0;return!1}function ma(f){return f.visible}function ns(f,l,p){for(var y=Oi.empty(),D=0;D<f.length;++D){var k=f[D];if(l(k)){var H=k.path,re=void 0;if(k.snap)tn(p,H)?y=xr(y,re=It(p,H),k.snap):tn(H,p)&&(re=It(H,p),y=xr(y,$t(),k.snap.getChild(re)));else{if(!k.children)throw(0,$.assertionError)("WriteRecord should have .snap or .children");if(tn(p,H))y=Lu(y,re=It(p,H),k.children);else if(tn(H,p))if(Ze(re=It(H,p)))y=Lu(y,$t(),k.children);else{var le=(0,$.safeGet)(k.children,Rn(re));if(le){var be=le.getChild(X(re));y=xr(y,$t(),be)}}}}}return y}function ul(f,l,p,y,D){if(y||D){var le=ys(f.visibleWrites,l);return!D&&gc(le)?p:D||null!=p||Bu(le,$t())?Ws(ns(f.allWrites,function(kt){return(kt.visible||D)&&(!y||!~y.indexOf(kt.writeId))&&(tn(kt.path,l)||tn(l,kt.path))},l),p||J.EMPTY_NODE):null}var k=ka(f.visibleWrites,l);if(null!=k)return k;var H=ys(f.visibleWrites,l);return gc(H)?p:null!=p||Bu(H,$t())?Ws(H,p||J.EMPTY_NODE):null}function au(f,l,p,y){return ul(f.writeTree,f.treePath,l,p,y)}function yc(f,l){return function fd(f,l,p){var y=J.EMPTY_NODE,D=ka(f.visibleWrites,l);if(D)return D.isLeafNode()||D.forEachChild(pr,function(re,le){y=y.updateImmediateChild(re,le)}),y;if(p){var k=ys(f.visibleWrites,l);return p.forEachChild(pr,function(re,le){var be=Ws(ys(k,new Fn(re)),le);y=y.updateImmediateChild(re,be)}),wi(k).forEach(function(re){y=y.updateImmediateChild(re.name,re.node)}),y}return wi(ys(f.visibleWrites,l)).forEach(function(re){y=y.updateImmediateChild(re.name,re.node)}),y}(f.writeTree,f.treePath,l)}function _c(f,l,p,y){return function Sh(f,l,p,y,D){(0,$.assert)(y||D,"Either existingEventSnap or existingServerSnap must exist");var k=Oe(l,p);if(Bu(f.visibleWrites,k))return null;var H=ys(f.visibleWrites,k);return gc(H)?D.getChild(p):Ws(H,D.getChild(p))}(f.writeTree,f.treePath,l,p,y)}function Ps(f,l){return function vc(f,l){return ka(f.visibleWrites,l)}(f.writeTree,Oe(f.treePath,l))}function Ni(f,l,p){return function su(f,l,p,y){var D=Oe(l,p),k=ka(f.visibleWrites,D);return null!=k?k:y.isCompleteForChild(p)?Ws(ys(f.visibleWrites,D),y.getNode().getImmediateChild(p)):null}(f.writeTree,f.treePath,l,p)}function bc(f,l){return Na(Oe(f.treePath,l),f.writeTree)}function Na(f,l){return{treePath:f,writeTree:l}}var af=function(){function f(){this.changeMap=new Map}return f.prototype.trackChildChange=function(l){var p=l.type,y=l.childName;(0,$.assert)("child_added"===p||"child_changed"===p||"child_removed"===p,"Only child changes supported for tracking"),(0,$.assert)(".priority"!==y,"Only non-priority child changes can be tracked.");var D=this.changeMap.get(y);if(D){var k=D.type;if("child_added"===p&&"child_removed"===k)this.changeMap.set(y,z(y,l.snapshotNode,D.snapshotNode));else if("child_removed"===p&&"child_added"===k)this.changeMap.delete(y);else if("child_removed"===p&&"child_changed"===k)this.changeMap.set(y,Fr(y,D.oldSnap));else if("child_changed"===p&&"child_added"===k)this.changeMap.set(y,Ji(y,l.snapshotNode));else{if("child_changed"!==p||"child_changed"!==k)throw(0,$.assertionError)("Illegal combination of changes: "+l+" occurred after "+D);this.changeMap.set(y,z(y,l.snapshotNode,D.oldSnap))}}else this.changeMap.set(y,l)},f.prototype.getChanges=function(){return Array.from(this.changeMap.values())},f}(),ll=function(){function f(){}return f.prototype.getCompleteChild=function(l){return null},f.prototype.getChildAfterChild=function(l,p,y){return null},f}(),Pa=new ll,Vu=function(){function f(l,p,y){void 0===y&&(y=null),this.writes_=l,this.viewCache_=p,this.optCompleteServerCache_=y}return f.prototype.getCompleteChild=function(l){var p=this.viewCache_.eventCache;if(p.isCompleteForChild(l))return p.getNode().getImmediateChild(l);var y=null!=this.optCompleteServerCache_?new ts(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ni(this.writes_,l,y)},f.prototype.getChildAfterChild=function(l,p,y){var D=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:vs(this.viewCache_),k=function sf(f,l,p,y,D,k){return function dd(f,l,p,y,D,k,H){var re,le=ys(f.visibleWrites,l),be=ka(le,$t());if(null!=be)re=be;else{if(null==p)return[];re=Ws(le,p)}if((re=re.withIndex(H)).isEmpty()||re.isLeafNode())return[];for(var Te=[],gt=H.getCompare(),kt=k?re.getReverseIteratorFrom(y,H):re.getIteratorFrom(y,H),Kt=kt.getNext();Kt&&Te.length<D;)0!==gt(Kt,y)&&Te.push(Kt),Kt=kt.getNext();return Te}(f.writeTree,f.treePath,l,p,y,D,k)}(this.writes_,D,p,1,y,l);return 0===k.length?null:k[0]},f}();function Ks(f,l,p,y,D,k){var H=l.eventCache;if(null!=Ps(y,p))return l;var re=void 0,le=void 0;if(Ze(p))if((0,$.assert)(l.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),l.serverCache.isFiltered()){var be=vs(l),gt=yc(y,be instanceof J?be:J.EMPTY_NODE);re=f.filter.updateFullNode(l.eventCache.getNode(),gt,k)}else{var kt=au(y,vs(l));re=f.filter.updateFullNode(l.eventCache.getNode(),kt,k)}else{var Kt=Rn(p);if(".priority"===Kt){(0,$.assert)(1===_i(p),"Can't have a priority with additional path components");var ln=H.getNode(),Cn=_c(y,p,ln,le=l.serverCache.getNode());re=null!=Cn?f.filter.updatePriority(ln,Cn):H.getNode()}else{var Dt=X(p),fr=void 0;if(H.isCompleteForChild(Kt)){le=l.serverCache.getNode();var Fi=_c(y,p,H.getNode(),le);fr=null!=Fi?H.getNode().getImmediateChild(Kt).updateChild(Dt,Fi):H.getNode().getImmediateChild(Kt)}else fr=Ni(y,Kt,l.serverCache);re=null!=fr?f.filter.updateChild(H.getNode(),Kt,fr,Dt,D,k):H.getNode()}}return Fu(l,re,H.isFullyInitialized()||Ze(p),f.filter.filtersNodes())}function rs(f,l,p,y,D,k,H,re){var be,le=l.serverCache,Te=H?f.filter:f.filter.getIndexedFilter();if(Ze(p))be=Te.updateFullNode(le.getNode(),y,null);else if(Te.filtersNodes()&&!le.isFiltered()){var gt=le.getNode().updateChild(p,y);be=Te.updateFullNode(le.getNode(),gt,null)}else{var kt=Rn(p);if(!le.isCompleteForPath(p)&&_i(p)>1)return l;var Kt=X(p),Cn=le.getNode().getImmediateChild(kt).updateChild(Kt,y);be=".priority"===kt?Te.updatePriority(le.getNode(),Cn):Te.updateChild(le.getNode(),kt,Cn,Kt,Pa,null)}var Dt=hc(l,be,le.isFullyInitialized()||Ze(p),Te.filtersNodes());return Ks(f,Dt,p,D,new Vu(D,Dt,k),re)}function hd(f,l,p,y,D,k,H){var le,be,re=l.eventCache,Te=new Vu(D,l,k);if(Ze(p))be=f.filter.updateFullNode(l.eventCache.getNode(),y,H),le=Fu(l,be,!0,f.filter.filtersNodes());else{var gt=Rn(p);if(".priority"===gt)be=f.filter.updatePriority(l.eventCache.getNode(),y),le=Fu(l,be,re.isFullyInitialized(),re.isFiltered());else{var kt=X(p),Kt=re.getNode().getImmediateChild(gt),ln=void 0;if(Ze(kt))ln=y;else{var Cn=Te.getCompleteChild(gt);ln=null!=Cn?".priority"===me(kt)&&Cn.getChild(Ne(kt)).isEmpty()?Cn:Cn.updateChild(kt,y):J.EMPTY_NODE}le=Kt.equals(ln)?l:Fu(l,f.filter.updateChild(re.getNode(),gt,ln,kt,Te,H),re.isFullyInitialized(),f.filter.filtersNodes())}}return le}function ti(f,l){return f.eventCache.isCompleteForChild(l)}function uf(f,l,p){return p.foreach(function(y,D){l=l.updateChild(y,D)}),l}function dl(f,l,p,y,D,k,H,re){if(l.serverCache.getNode().isEmpty()&&!l.serverCache.isFullyInitialized())return l;var be,le=l;be=Ze(p)?y:new ii(null).setTree(p,y);var Te=l.serverCache.getNode();return be.children.inorderTraversal(function(gt,kt){if(Te.hasChild(gt)){var ln=uf(0,l.serverCache.getNode().getImmediateChild(gt),kt);le=rs(f,le,new Fn(gt),ln,D,k,H,re)}}),be.children.inorderTraversal(function(gt,kt){var Kt=!l.serverCache.isCompleteForChild(gt)&&void 0===kt.value;if(!Te.hasChild(gt)&&!Kt){var Cn=uf(0,l.serverCache.getNode().getImmediateChild(gt),kt);le=rs(f,le,new Fn(gt),Cn,D,k,H,re)}}),le}var ju=function(){function f(l,p){this.query_=l,this.eventRegistrations_=[];var y=this.query_._queryParams,D=new P(y.getIndex()),k=function dn(f){return f.loadsAllData()?new P(f.getIndex()):f.hasLimit()?new Rt(f):new ne(f)}(y);this.processor_=function wc(f){return{filter:f}}(k);var H=p.serverCache,re=p.eventCache,le=D.updateFullNode(J.EMPTY_NODE,H.getNode(),null),be=k.updateFullNode(J.EMPTY_NODE,re.getNode(),null),Te=new ts(le,H.isFullyInitialized(),D.filtersNodes()),gt=new ts(be,re.isFullyInitialized(),k.filtersNodes());this.viewCache_=ou(gt,Te),this.eventGenerator_=new Nu(this.query_)}return Object.defineProperty(f.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),f}();function lf(f,l){var p=vs(f.viewCache_);return p&&(f.query._queryParams.loadsAllData()||!Ze(l)&&!p.getImmediateChild(Rn(l)).isEmpty())?p.getChild(l):null}function Ao(f){return 0===f.eventRegistrations_.length}function hl(f,l,p){var y=[];if(p){(0,$.assert)(null==l,"A cancel should cancel all event registrations.");var D=f.query._path;f.eventRegistrations_.forEach(function(le){var be=le.createCancelEvent(p,D);be&&y.push(be)})}if(l){for(var k=[],H=0;H<f.eventRegistrations_.length;++H){var re=f.eventRegistrations_[H];if(re.matches(l)){if(l.hasAnyCallback()){k=k.concat(f.eventRegistrations_.slice(H+1));break}}else k.push(re)}f.eventRegistrations_=k}else f.eventRegistrations_=[];return y}function $u(f,l,p,y){l.type===Vo.MERGE&&null!==l.source.queryId&&((0,$.assert)(vs(f.viewCache_),"We should always have a full cache before handling merges"),(0,$.assert)(zs(f.viewCache_),"Missing event cache, even though we have a server cache"));var D=f.viewCache_,k=function Uu(f,l,p,y,D){var H,re,k=new af;if(p.type===Vo.OVERWRITE){var le=p;le.source.fromUser?H=hd(f,l,le.path,le.snap,y,D,k):((0,$.assert)(le.source.fromServer,"Unknown source."),re=le.source.tagged||l.serverCache.isFiltered()&&!Ze(le.path),H=rs(f,l,le.path,le.snap,y,D,re,k))}else if(p.type===Vo.MERGE){var be=p;be.source.fromUser?H=function fl(f,l,p,y,D,k,H){var re=l;return y.foreach(function(le,be){var Te=Oe(p,le);ti(l,Rn(Te))&&(re=hd(f,re,Te,be,D,k,H))}),y.foreach(function(le,be){var Te=Oe(p,le);ti(l,Rn(Te))||(re=hd(f,re,Te,be,D,k,H))}),re}(f,l,be.path,be.children,y,D,k):((0,$.assert)(be.source.fromServer,"Unknown source."),re=be.source.tagged||l.serverCache.isFiltered(),H=dl(f,l,be.path,be.children,y,D,re,k))}else if(p.type===Vo.ACK_USER_WRITE){var Te=p;H=Te.revert?function Cc(f,l,p,y,D,k){var H;if(null!=Ps(y,p))return l;var re=new Vu(y,l,D),le=l.eventCache.getNode(),be=void 0;if(Ze(p)||".priority"===Rn(p)){var Te=void 0;if(l.serverCache.isFullyInitialized())Te=au(y,vs(l));else{var gt=l.serverCache.getNode();(0,$.assert)(gt instanceof J,"serverChildren would be complete if leaf node"),Te=yc(y,gt)}be=f.filter.updateFullNode(le,Te=Te,k)}else{var kt=Rn(p),Kt=Ni(y,kt,l.serverCache);null==Kt&&l.serverCache.isCompleteForChild(kt)&&(Kt=le.getImmediateChild(kt)),(be=null!=Kt?f.filter.updateChild(le,kt,Kt,X(p),re,k):l.eventCache.getNode().hasChild(kt)?f.filter.updateChild(le,kt,J.EMPTY_NODE,X(p),re,k):le).isEmpty()&&l.serverCache.isFullyInitialized()&&(H=au(y,vs(l))).isLeafNode()&&(be=f.filter.updateFullNode(be,H,k))}return H=l.serverCache.isFullyInitialized()||null!=Ps(y,$t()),Fu(l,be,H,f.filter.filtersNodes())}(f,l,Te.path,y,D,k):function Ah(f,l,p,y,D,k,H){if(null!=Ps(D,p))return l;var re=l.serverCache.isFiltered(),le=l.serverCache;if(null!=y.value){if(Ze(p)&&le.isFullyInitialized()||le.isCompleteForPath(p))return rs(f,l,p,le.getNode().getChild(p),D,k,re,H);if(Ze(p)){var be=new ii(null);return le.getNode().forEachChild(Vr,function(gt,kt){be=be.set(new Fn(gt),kt)}),dl(f,l,p,be,D,k,re,H)}return l}var Te=new ii(null);return y.foreach(function(gt,kt){var Kt=Oe(p,gt);le.isCompleteForPath(Kt)&&(Te=Te.set(gt,le.getNode().getChild(Kt)))}),dl(f,l,p,Te,D,k,re,H)}(f,l,Te.path,Te.affectedTree,y,D,k)}else{if(p.type!==Vo.LISTEN_COMPLETE)throw(0,$.assertionError)("Unknown operation type: "+p.type);H=function Mh(f,l,p,y,D){var k=l.serverCache;return Ks(f,hc(l,k.getNode(),k.isFullyInitialized()||Ze(p),k.isFiltered()),p,y,Pa,D)}(f,l,p.path,y,k)}var gt=k.getChanges();return function Ec(f,l,p){var y=l.eventCache;if(y.isFullyInitialized()){var D=y.getNode().isLeafNode()||y.getNode().isEmpty(),k=zs(f);(p.length>0||!f.eventCache.isFullyInitialized()||D&&!y.getNode().equals(k)||!y.getNode().getPriority().equals(k.getPriority()))&&p.push(vo(zs(l)))}}(l,H,gt),{viewCache:H,changes:gt}}(f.processor_,D,l,p,y);return function va(f,l){(0,$.assert)(l.eventCache.getNode().isIndexed(f.filter.getIndex()),"Event snap not indexed"),(0,$.assert)(l.serverCache.getNode().isIndexed(f.filter.getIndex()),"Server snap not indexed")}(f.processor_,k.viewCache),(0,$.assert)(k.viewCache.serverCache.isFullyInitialized()||!D.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),f.viewCache_=k.viewCache,Fa(f,k.changes,k.viewCache.eventCache.getNode(),null)}function Fa(f,l,p,y){return function Ra(f,l,p,y){var D=[],k=[];return l.forEach(function(H){"child_changed"===H.type&&f.index_.indexedValueChanged(H.oldSnap,H.snapshotNode)&&k.push(function L(f,l){return{type:"child_moved",snapshotNode:l,childName:f}}(H.childName,H.snapshotNode))}),xa(f,D,"child_removed",l,y,p),xa(f,D,"child_added",l,y,p),xa(f,D,"child_moved",k,y,p),xa(f,D,"child_changed",l,y,p),xa(f,D,"value",l,y,p),D}(f.eventGenerator_,l,p,y?[y]:f.eventRegistrations_)}var Xs,is,x=function f(){this.views=new Map};function W(f,l,p,y){var D,k,H=l.source.queryId;if(null!==H){var re=f.views.get(H);return(0,$.assert)(null!=re,"SyncTree gave us an op for an invalid query."),$u(re,l,p,y)}var le=[];try{for(var be=(0,je.__values)(f.views.values()),Te=be.next();!Te.done;Te=be.next())le=le.concat($u(re=Te.value,l,p,y))}catch(gt){D={error:gt}}finally{try{Te&&!Te.done&&(k=be.return)&&k.call(be)}finally{if(D)throw D.error}}return le}function ee(f,l,p,y,D){var H=f.views.get(l._queryIdentifier);if(!H){var re=au(p,D?y:null),le=!1;re?le=!0:y instanceof J?(re=yc(p,y),le=!1):(re=J.EMPTY_NODE,le=!1);var be=ou(new ts(re,le,!1),new ts(y,D,!1));return new ju(l,be)}return H}function xt(f){var l,p,y=[];try{for(var D=(0,je.__values)(f.views.values()),k=D.next();!k.done;k=D.next()){var H=k.value;H.query._queryParams.loadsAllData()||y.push(H)}}catch(re){l={error:re}}finally{try{k&&!k.done&&(p=D.return)&&p.call(D)}finally{if(l)throw l.error}}return y}function pn(f,l){var p,y,D=null;try{for(var k=(0,je.__values)(f.views.values()),H=k.next();!H.done;H=k.next())D=D||lf(H.value,l)}catch(le){p={error:le}}finally{try{H&&!H.done&&(y=k.return)&&y.call(k)}finally{if(p)throw p.error}}return D}function _r(f,l){return l._queryParams.loadsAllData()?wr(f):f.views.get(l._queryIdentifier)}function On(f,l){return null!=_r(f,l)}function br(f){return null!=wr(f)}function wr(f){var l,p;try{for(var y=(0,je.__values)(f.views.values()),D=y.next();!D.done;D=y.next()){var k=D.value;if(k.query._queryParams.loadsAllData())return k}}catch(H){l={error:H}}finally{try{D&&!D.done&&(p=y.return)&&p.call(y)}finally{if(l)throw l.error}}return null}var uu=1,Gu=function f(l){this.listenProvider_=l,this.syncPointTree_=new ii(null),this.pendingWriteTree_=function cl(){return{visibleWrites:Oi.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function pl(f,l,p,y,D){return function of(f,l,p,y,D){(0,$.assert)(y>f.lastWriteId,"Stacking an older write on top of newer ones"),void 0===D&&(D=!0),f.allWrites.push({path:l,snap:p,writeId:y,visible:D}),D&&(f.visibleWrites=xr(f.visibleWrites,l,p)),f.lastWriteId=y}(f.pendingWriteTree_,l,p,y,D),D?Qs(f,new dc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},l,p)):[]}function oi(f,l,p){void 0===p&&(p=!1);var y=function Oa(f,l){for(var p=0;p<f.allWrites.length;p++){var y=f.allWrites[p];if(y.writeId===l)return y}return null}(f.pendingWriteTree_,l);if(function mc(f,l){var p=f.allWrites.findIndex(function(be){return be.writeId===l});(0,$.assert)(p>=0,"removeWrite called with nonexistent writeId.");var y=f.allWrites[p];f.allWrites.splice(p,1);for(var D=y.visible,k=!1,H=f.allWrites.length-1;D&&H>=0;){var re=f.allWrites[H];re.visible&&(H>=p&&Th(re,y.path)?D=!1:tn(y.path,re.path)&&(k=!0)),H--}return!!D&&(k?(function ld(f){f.visibleWrites=ns(f.allWrites,ma,$t()),f.lastWriteId=f.allWrites.length>0?f.allWrites[f.allWrites.length-1].writeId:-1}(f),!0):(y.snap?f.visibleWrites=pc(f.visibleWrites,y.path):ht(y.children,function(be){f.visibleWrites=pc(f.visibleWrites,Oe(y.path,be))}),!0))}(f.pendingWriteTree_,l)){var k=new ii(null);return null!=y.snap?k=k.set($t(),!0):ht(y.children,function(H){k=k.set(new Fn(H),!0)}),Qs(f,new fc(y.path,k,p))}return[]}function Tc(f,l,p){return Qs(f,new dc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},l,p))}function pd(f,l,p,y){var D=l._path,k=f.syncPointTree_.get(D),H=[];if(k&&("default"===l._queryIdentifier||On(k,l))){var re=function He(f,l,p,y){var D,k,H=l._queryIdentifier,re=[],le=[],be=br(f);if("default"===H)try{for(var Te=(0,je.__values)(f.views.entries()),gt=Te.next();!gt.done;gt=Te.next()){var ln,kt=(0,je.__read)(gt.value,2),Kt=kt[0];le=le.concat(hl(ln=kt[1],p,y)),Ao(ln)&&(f.views.delete(Kt),ln.query._queryParams.loadsAllData()||re.push(ln.query))}}catch(Cn){D={error:Cn}}finally{try{gt&&!gt.done&&(k=Te.return)&&k.call(Te)}finally{if(D)throw D.error}}else(ln=f.views.get(H))&&(le=le.concat(hl(ln,p,y)),Ao(ln)&&(f.views.delete(H),ln.query._queryParams.loadsAllData()||re.push(ln.query)));return be&&!br(f)&&re.push(new(function T(){return(0,$.assert)(Xs,"Reference.ts has not been loaded"),Xs}())(l._repo,l._path)),{removed:re,events:le}}(k,l,p,y);(function F(f){return 0===f.views.size})(k)&&(f.syncPointTree_=f.syncPointTree_.remove(D));var le=re.removed;H=re.events;var be=-1!==le.findIndex(function(Fi){return Fi._queryParams.loadsAllData()}),Te=f.syncPointTree_.findOnPath(D,function(Fi,Ha){return br(Ha)});if(be&&!Te){var gt=f.syncPointTree_.subtree(D);if(!gt.isEmpty())for(var kt=function on(f){return f.fold(function(l,p,y){if(p&&br(p))return[wr(p)];var k=[];return p&&(k=xt(p)),ht(y,function(H,re){k=k.concat(re)}),k})}(gt),Kt=0;Kt<kt.length;++Kt){var ln=kt[Kt],Cn=ln.query,Dt=hg(f,ln);f.listenProvider_.startListening(Di(Cn),jo(f,Cn),Dt.hashFn,Dt.onComplete)}}!Te&&le.length>0&&!y&&(be?f.listenProvider_.stopListening(Di(l),null):le.forEach(function(Fi){var Ha=f.queryToTagMap.get(Tt(Fi));f.listenProvider_.stopListening(Di(Fi),Ha)})),function zu(f,l){for(var p=0;p<l.length;++p){var y=l[p];if(!y._queryParams.loadsAllData()){var D=Tt(y),k=f.queryToTagMap.get(D);f.queryToTagMap.delete(D),f.tagToQueryMap.delete(k)}}}(f,le)}return H}function dg(f,l,p){var y=l._path,D=null,k=!1;f.syncPointTree_.foreachOnPath(y,function(Cn,Dt){var fr=It(Cn,y);D=D||pn(Dt,fr),k=k||br(Dt)});var re,H=f.syncPointTree_.get(y);H?(k=k||br(H),D=D||pn(H,$t())):(H=new x,f.syncPointTree_=f.syncPointTree_.set(y,H)),null!=D?re=!0:(re=!1,D=J.EMPTY_NODE,f.syncPointTree_.subtree(y).foreachChild(function(Cn,Dt){var fr=pn(Dt,$t());fr&&(D=D.updateImmediateChild(Cn,fr))}));var be=On(H,l);if(!be&&!l._queryParams.loadsAllData()){var Te=Tt(l);(0,$.assert)(!f.queryToTagMap.has(Te),"View does not exist, but we have a tag");var gt=function pg(){return uu++}();f.queryToTagMap.set(Te,gt),f.tagToQueryMap.set(gt,Te)}var Kt=function Ce(f,l,p,y,D,k){var H=ee(f,l,y,D,k);return f.views.has(l._queryIdentifier)||f.views.set(l._queryIdentifier,H),function Dc(f,l){f.eventRegistrations_.push(l)}(H,p),function Fs(f,l){var p=f.viewCache_.eventCache,y=[];return p.getNode().isLeafNode()||p.getNode().forEachChild(pr,function(k,H){y.push(Ji(k,H))}),p.isFullyInitialized()&&y.push(vo(p.getNode())),Fa(f,y,p.getNode(),l)}(H,p)}(H,l,p,Ns(f.pendingWriteTree_,y),D,re);if(!be&&!k){var ln=_r(H,l);Kt=Kt.concat(function xn(f,l,p){var y=l._path,D=jo(f,l),k=hg(f,p),H=f.listenProvider_.startListening(Di(l),D,k.hashFn,k.onComplete),re=f.syncPointTree_.subtree(y);if(D)(0,$.assert)(!br(re.value),"If we're adding a query, it shouldn't be shadowed");else for(var le=re.fold(function(gt,kt,Kt){if(!Ze(gt)&&kt&&br(kt))return[wr(kt).query];var ln=[];return kt&&(ln=ln.concat(xt(kt).map(function(Cn){return Cn.query}))),ht(Kt,function(Cn,Dt){ln=ln.concat(Dt)}),ln}),be=0;be<le.length;++be){var Te=le[be];f.listenProvider_.stopListening(Di(Te),jo(f,Te))}return H}(f,l,ln))}return Kt}function Sc(f,l,p){var D=f.pendingWriteTree_,k=f.syncPointTree_.findOnPath(l,function(H,re){var be=pn(re,It(H,l));if(be)return be});return ul(D,l,k,p,!0)}function Qs(f,l){return qu(l,f.syncPointTree_,null,Ns(f.pendingWriteTree_,$t()))}function qu(f,l,p,y){if(Ze(f.path))return hb(f,l,p,y);var D=l.get($t());null==p&&null!=D&&(p=pn(D,$t()));var k=[],H=Rn(f.path),re=f.operationForChild(H),le=l.children.get(H);if(le&&re){var be=p?p.getImmediateChild(H):null,Te=bc(y,H);k=k.concat(qu(re,le,be,Te))}return D&&(k=k.concat(W(D,f,y,p))),k}function hb(f,l,p,y){var D=l.get($t());null==p&&null!=D&&(p=pn(D,$t()));var k=[];return l.children.inorderTraversal(function(H,re){var le=p?p.getImmediateChild(H):null,be=bc(y,H),Te=f.operationForChild(H);Te&&(k=k.concat(hb(Te,re,le,be)))}),D&&(k=k.concat(W(D,f,y,p))),k}function hg(f,l){var p=l.query,y=jo(f,p);return{hashFn:function(){var D=function cf(f){return f.viewCache_.serverCache.getNode()}(l)||J.EMPTY_NODE;return D.hash()},onComplete:function(D){if("ok"===D)return y?function Rh(f,l,p){var y=Ht(f,p);if(y){var D=Ls(y),k=D.path,H=D.queryId,re=It(k,l);return df(f,k,new ku(xu(H),re))}return[]}(f,p._path,y):function La(f,l){return Qs(f,new ku({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},l))}(f,p._path);var k=function vt(f,l){var p="Unknown Error";"too_big"===f?p="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===f?p="Client doesn't have permission to access the desired data.":"unavailable"===f&&(p="The service is unavailable");var y=new Error(f+" at "+l._path.toString()+": "+p);return y.code=f.toUpperCase(),y}(D,p);return pd(f,p,null,k)}}}function jo(f,l){var p=Tt(l);return f.queryToTagMap.get(p)}function Tt(f){return f._path.toString()+"$"+f._queryIdentifier}function Ht(f,l){return f.tagToQueryMap.get(l)}function Ls(f){var l=f.indexOf("$");return(0,$.assert)(-1!==l&&l<f.length-1,"Bad queryKey."),{queryId:f.substr(l+1),path:new Fn(f.substr(0,l))}}function df(f,l,p){var y=f.syncPointTree_.get(l);return(0,$.assert)(y,"Missing sync point for query tag that we're tracking"),W(y,p,Ns(f.pendingWriteTree_,l),null)}function Di(f){return f._queryParams.loadsAllData()&&!f._queryParams.isDefault()?new(function Hu(){return(0,$.assert)(is,"Reference.ts has not been loaded"),is}())(f._repo,f._path):f}var Qn=function(){function f(l){this.node_=l}return f.prototype.getImmediateChild=function(l){return new f(this.node_.getImmediateChild(l))},f.prototype.node=function(){return this.node_},f}(),cn=function(){function f(l,p){this.syncTree_=l,this.path_=p}return f.prototype.getImmediateChild=function(l){var p=Oe(this.path_,l);return new f(this.syncTree_,p)},f.prototype.node=function(){return Sc(this.syncTree_,this.path_)},f}(),xh=function(f,l,p){return f&&"object"==typeof f?((0,$.assert)(".sv"in f,"Unexpected leaf node or priority contents"),"string"==typeof f[".sv"]?Lr(f[".sv"],l,p):"object"==typeof f[".sv"]?Ac(f[".sv"],l):void(0,$.assert)(!1,"Unexpected server value: "+JSON.stringify(f,null,2))):f},Lr=function(f,l,p){if("timestamp"===f)return p.timestamp;(0,$.assert)(!1,"Unexpected server value: "+f)},Ac=function(f,l,p){f.hasOwnProperty("increment")||(0,$.assert)(!1,"Unexpected server value: "+JSON.stringify(f,null,2));var y=f.increment;"number"!=typeof y&&(0,$.assert)(!1,"Unexpected increment value: "+y);var D=l.node();if((0,$.assert)(null!=D,"Expected ChildrenNode.EMPTY_NODE for nulls"),!D.isLeafNode())return y;var H=D.getValue();return"number"!=typeof H?y:H+y},kh=function(f,l,p,y){return mr(l,new cn(p,f),y)},eo=function(f,l,p){return mr(f,new Qn(l),p)};function mr(f,l,p){var k,y=f.getPriority().val(),D=xh(y,l.getImmediateChild(".priority"),p);if(f.isLeafNode()){var H=f,re=xh(H.getValue(),l,p);return re!==H.getValue()||D!==H.getPriority().val()?new Qo(re,_t(D)):f}var le=f;return k=le,D!==le.getPriority().val()&&(k=k.updatePriority(new Qo(D))),le.forEachChild(pr,function(be,Te){var gt=mr(Te,l.getImmediateChild(be),p);gt!==Te&&(k=k.updateImmediateChild(be,gt))}),k}var md=function f(l,p,y){void 0===l&&(l=""),void 0===p&&(p=null),void 0===y&&(y={children:{},childCount:0}),this.name=l,this.parent=p,this.node=y};function Ei(f,l){for(var p=l instanceof Fn?l:new Fn(l),y=f,D=Rn(p);null!==D;){var k=(0,$.safeGet)(y.node.children,D)||{children:{},childCount:0};y=new md(D,y,k),D=Rn(p=X(p))}return y}function cu(f){return f.node.value}function vd(f,l){f.node.value=l,ws(f)}function Ur(f){return f.node.childCount>0}function bs(f,l){ht(f.node.children,function(p,y){l(new md(p,f,y))})}function Mc(f,l,p,y){p&&!y&&l(f),bs(f,function(D){Mc(D,l,!0,y)}),p&&y&&l(f)}function Wu(f){return new Fn(null===f.parent?f.name:Wu(f.parent)+"/"+f.name)}function ws(f){null!==f.parent&&function zi(f,l,p){var y=function hf(f){return void 0===cu(f)&&!Ur(f)}(p),D=(0,$.contains)(f.node.children,l);y&&D?(delete f.node.children[l],f.node.childCount--,ws(f)):!y&&!D&&(f.node.children[l]=p.node,f.node.childCount++,ws(f))}(f.parent,f.name,f)}var Ba=/[\[\].#$\/\u0000-\u001F\u007F]/,Oh=/[\[\].#$\u0000-\u001F\u007F]/,pf=10485760,Va=function(f){return"string"==typeof f&&0!==f.length&&!Ba.test(f)},ya=function(f){return"string"==typeof f&&0!==f.length&&!Oh.test(f)},gl=function(f){return null===f||"string"==typeof f||"number"==typeof f&&!Ge(f)||f&&"object"==typeof f&&(0,$.contains)(f,".sv")},Dn=function(f,l,p,y){y&&void 0===l||$o((0,$.errorPrefix)(f,"value"),l,p)},$o=function(f,l,p){var y=p instanceof Fn?new wn(p,f):p;if(void 0===l)throw new Error(f+"contains undefined "+Jr(y));if("function"==typeof l)throw new Error(f+"contains a function "+Jr(y)+" with contents = "+l.toString());if(Ge(l))throw new Error(f+"contains "+l.toString()+" "+Jr(y));if("string"==typeof l&&l.length>pf/3&&(0,$.stringLength)(l)>pf)throw new Error(f+"contains a string greater than "+pf+" utf8 bytes "+Jr(y)+" ('"+l.substring(0,50)+"...')");if(l&&"object"==typeof l){var D=!1,k=!1;if(ht(l,function(H,re){if(".value"===H)D=!0;else if(".priority"!==H&&".sv"!==H&&(k=!0,!Va(H)))throw new Error(f+" contains an invalid key ("+H+") "+Jr(y)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Ln(f,l){f.parts_.length>0&&(f.byteLength_+=1),f.parts_.push(l),f.byteLength_+=(0,$.stringLength)(l),ri(f)})(y,H),$o(f,re,y),function qn(f){var l=f.parts_.pop();f.byteLength_-=(0,$.stringLength)(l),f.parts_.length>0&&(f.byteLength_-=1)}(y)}),D&&k)throw new Error(f+' contains ".value" child '+Jr(y)+" in addition to actual children.")}},ml=function(f,l,p,y){if(!y||void 0!==l){var D=(0,$.errorPrefix)(f,"values");if(!l||"object"!=typeof l||Array.isArray(l))throw new Error(D+" must be an object containing the children to replace.");var k=[];ht(l,function(H,re){var le=new Fn(H);if($o(D,re,Oe(p,le)),".priority"===me(le)&&!gl(re))throw new Error(D+"contains an invalid value for '"+le.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");k.push(le)}),function(f,l){var p,y;for(p=0;p<l.length;p++)for(var D=we(y=l[p]),k=0;k<D.length;k++)if((".priority"!==D[k]||k!==D.length-1)&&!Va(D[k]))throw new Error(f+"contains an invalid key ("+D[k]+") in path "+y.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');l.sort(St);var H=null;for(p=0;p<l.length;p++){if(y=l[p],null!==H&&tn(H,y))throw new Error(f+"contains a path "+H.toString()+" that is ancestor of another path "+y.toString());H=y}}(D,k)}},Rc=function(f,l,p){if(!p||void 0!==l){if(Ge(l))throw new Error((0,$.errorPrefix)(f,"priority")+"is "+l.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!gl(l))throw new Error((0,$.errorPrefix)(f,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Nh=function(f,l,p){if(!p||void 0!==l)switch(l){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,$.errorPrefix)(f,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},xc=function(f,l,p,y){if(!(y&&void 0===p||Va(p)))throw new Error((0,$.errorPrefix)(f,l)+'was an invalid key = "'+p+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},vl=function(f,l,p,y){if(!(y&&void 0===p||ya(p)))throw new Error((0,$.errorPrefix)(f,l)+'was an invalid path = "'+p+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Cs=function(f,l){if(".info"===Rn(l))throw new Error(f+" failed = Can't modify data under /.info/")},_d=function(f,l){var p=l.path.toString();if("string"!=typeof l.repoInfo.host||0===l.repoInfo.host.length||!Va(l.repoInfo.namespace)&&"localhost"!==l.repoInfo.host.split(":")[0]||0!==p.length&&!function(f){return f&&(f=f.replace(/^\/*\.info(\/|$)/,"/")),ya(f)}(p))throw new Error((0,$.errorPrefix)(f,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},mf=function(f,l,p,y){if((!y||void 0!==p)&&"boolean"!=typeof p)throw new Error((0,$.errorPrefix)(f,l)+"must be a boolean.")},bd=function f(){this.eventLists_=[],this.recursionDepth_=0};function Js(f,l){for(var p=null,y=0;y<l.length;y++){var D=l[y],k=D.getPath();null!==p&&!At(k,p.path)&&(f.eventLists_.push(p),p=null),null===p&&(p={events:[],path:k}),p.events.push(D)}p&&f.eventLists_.push(p)}function kc(f,l,p){Js(f,p),gg(f,function(y){return At(y,l)})}function Pi(f,l,p){Js(f,p),gg(f,function(y){return tn(y,l)||tn(l,y)})}function gg(f,l){f.recursionDepth_++;for(var p=!0,y=0;y<f.eventLists_.length;y++){var D=f.eventLists_[y];D&&(l(D.path)?(to(f.eventLists_[y]),f.eventLists_[y]=null):p=!1)}p&&(f.eventLists_=[]),f.recursionDepth_--}function to(f){for(var l=0;l<f.events.length;l++){var p=f.events[l];if(null!==p){f.events[l]=null;var y=p.getEventRunner();rt&&Pe("event: "+p.toString()),Vn(y)}}}var wd="repo_interrupt",yl=function(){function f(l,p,y,D){this.repoInfo_=l,this.forceRestClient_=p,this.authTokenProvider_=y,this.appCheckProvider_=D,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new bd,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ei(),this.transactionQueueTree_=new md,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return f.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},f}();function _l(f){var p=f.infoData_.getNode(new Fn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+p}function Mo(f){return function(f){return(f=f||{}).timestamp=f.timestamp||(new Date).getTime(),f}({timestamp:_l(f)})}function mg(f,l,p,y,D){f.dataUpdateCount++;var k=new Fn(l);p=f.interceptServerDataCallback_?f.interceptServerDataCallback_(l,p):p;var H=[];if(D)if(y){var re=(0,$.map)(p,function(kt){return _t(kt)});H=function Fv(f,l,p,y){var D=Ht(f,y);if(D){var k=Ls(D),H=k.path,re=k.queryId,le=It(H,l),be=ii.fromObject(p);return df(f,H,new Ou(xu(re),le,be))}return[]}(f.serverSyncTree_,k,re,D)}else{var le=_t(p);H=function gd(f,l,p,y){var D=Ht(f,y);if(null!=D){var k=Ls(D),H=k.path,re=k.queryId,le=It(H,l);return df(f,H,new dc(xu(re),le,p))}return[]}(f.serverSyncTree_,k,le,D)}else if(y){var be=(0,$.map)(p,function(kt){return _t(kt)});H=function ff(f,l,p){var y=ii.fromObject(p);return Qs(f,new Ou({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},l,y))}(f.serverSyncTree_,k,be)}else{var Te=_t(p);H=Tc(f.serverSyncTree_,k,Te)}var gt=k;H.length>0&&(gt=Cl(f,k)),Pi(f.eventQueue_,gt,H)}function vg(f,l){Ua(f,"connected",l),!1===l&&function Fh(f){fu(f,"onDisconnectEvents");var l=Mo(f),p=ei();Bo(f.onDisconnect_,$t(),function(D,k){var H=kh(D,k,f.serverSyncTree_,l);li(p,D,H)});var y=[];Bo(p,$t(),function(D,k){y=y.concat(Tc(f.serverSyncTree_,D,k));var H=Vh(f,D);Cl(f,H)}),f.onDisconnect_=ei(),Pi(f.eventQueue_,$t(),y)}(f)}function Ua(f,l,p){var y=new Fn("/.info/"+l),D=_t(p);f.infoData_.updateSnapshot(y,D);var k=Tc(f.infoSyncTree_,y,D);Pi(f.eventQueue_,y,k)}function Yu(f){return f.nextWriteId_++}function _g(f,l,p,y,D){fu(f,"set",{path:l.toString(),value:p,priority:y});var k=Mo(f),H=_t(p,y),re=Sc(f.serverSyncTree_,l),le=eo(H,re,k),be=Yu(f),Te=pl(f.serverSyncTree_,l,le,be,!0);Js(f.eventQueue_,Te),f.server_.put(l.toString(),H.val(!0),function(kt,Kt){var ln="ok"===kt;ln||Ft("set at "+l+" failed: "+kt);var Cn=oi(f.serverSyncTree_,be,!ln);Pi(f.eventQueue_,l,Cn),co(0,D,kt,Kt)});var gt=Vh(f,l);Cl(f,gt),Pi(f.eventQueue_,gt,[])}function yf(f,l,p){f.server_.onDisconnectCancel(l.toString(),function(y,D){"ok"===y&&bi(f.onDisconnect_,l),co(0,p,y,D)})}function Uv(f,l,p,y){var D=_t(p);f.server_.onDisconnectPut(l.toString(),D.val(!0),function(k,H){"ok"===k&&li(f.onDisconnect_,l,D),co(0,y,k,H)})}function Cd(f,l,p){var y;y=".info"===Rn(l._path)?pd(f.infoSyncTree_,l,p):pd(f.serverSyncTree_,l,p),kc(f.eventQueue_,l._path,y)}function Oc(f){f.persistentConnection_&&f.persistentConnection_.interrupt(wd)}function fu(f){for(var l=[],p=1;p<arguments.length;p++)l[p-1]=arguments[p];var y="";f.persistentConnection_&&(y=f.persistentConnection_.id+":"),Pe.apply(void 0,(0,je.__spreadArray)([y],(0,je.__read)(l)))}function co(f,l,p,y){l&&Vn(function(){if("ok"===p)l(null);else{var D=(p||"error").toUpperCase(),k=D;y&&(k+=": "+y);var H=new Error(k);H.code=D,l(H)}})}function as(f,l,p){return Sc(f.serverSyncTree_,l,p)||J.EMPTY_NODE}function wl(f,l){if(void 0===l&&(l=f.transactionQueueTree_),l||Nc(f,l),cu(l)){var p=bf(f,l);(0,$.assert)(p.length>0,"Sending zero length transaction queue"),p.every(function(D){return 0===D.status})&&function El(f,l,p){for(var y=p.map(function(kt){return kt.currentWriteId}),D=as(f,l,y),k=D,H=D.hash(),re=0;re<p.length;re++){var le=p[re];(0,$.assert)(0===le.status,"tryToSendTransactionQueue_: items in queue should all be run."),le.status=1,le.retryCount++;var be=It(l,le.path);k=k.updateChild(be,le.currentOutputSnapshotRaw)}var Te=k.val(!0),gt=l;f.server_.put(gt.toString(),Te,function(kt){fu(f,"transaction put response",{path:gt.toString(),status:kt});var Kt=[];if("ok"===kt){for(var ln=[],Cn=function(fr){p[fr].status=2,Kt=Kt.concat(oi(f.serverSyncTree_,p[fr].currentWriteId)),p[fr].onComplete&&ln.push(function(){return p[fr].onComplete(null,!0,p[fr].currentOutputSnapshotResolved)}),p[fr].unwatcher()},Dt=0;Dt<p.length;Dt++)Cn(Dt);for(Nc(f,Ei(f.transactionQueueTree_,l)),wl(f,f.transactionQueueTree_),Pi(f.eventQueue_,l,Kt),Dt=0;Dt<ln.length;Dt++)Vn(ln[Dt])}else{if("datastale"===kt)for(Dt=0;Dt<p.length;Dt++)p[Dt].status=3===p[Dt].status?4:0;else for(Ft("transaction at "+gt.toString()+" failed: "+kt),Dt=0;Dt<p.length;Dt++)p[Dt].status=4,p[Dt].abortReason=kt;Cl(f,l)}},H)}(f,Wu(l),p)}else Ur(l)&&bs(l,function(D){wl(f,D)})}function Cl(f,l){var p=_f(f,l),y=Wu(p);return function wg(f,l,p){if(0!==l.length){for(var y=[],D=[],H=l.filter(function(be){return 0===be.status}).map(function(be){return be.currentWriteId}),re=function(be){var Kt,Te=l[be],gt=It(p,Te.path),kt=!1;if((0,$.assert)(null!==gt,"rerunTransactionsUnderNode_: relativePath should not be null."),4===Te.status)kt=!0,Kt=Te.abortReason,D=D.concat(oi(f.serverSyncTree_,Te.currentWriteId,!0));else if(0===Te.status)if(Te.retryCount>=25)kt=!0,Kt="maxretry",D=D.concat(oi(f.serverSyncTree_,Te.currentWriteId,!0));else{var ln=as(f,Te.path,H);Te.currentInputSnapshot=ln;var Cn=l[be].update(ln.val());if(void 0!==Cn){$o("transaction failed: Data returned ",Cn,Te.path);var Dt=_t(Cn);"object"==typeof Cn&&null!=Cn&&(0,$.contains)(Cn,".priority")||(Dt=Dt.updatePriority(ln.getPriority()));var Fi=Te.currentWriteId,Ha=Mo(f),yu=eo(Dt,ln,Ha);Te.currentOutputSnapshotRaw=Dt,Te.currentOutputSnapshotResolved=yu,Te.currentWriteId=Yu(f),H.splice(H.indexOf(Fi),1),D=(D=D.concat(pl(f.serverSyncTree_,Te.path,yu,Te.currentWriteId,Te.applyLocally))).concat(oi(f.serverSyncTree_,Fi,!0))}else kt=!0,Kt="nodata",D=D.concat(oi(f.serverSyncTree_,Te.currentWriteId,!0))}Pi(f.eventQueue_,p,D),D=[],kt&&(l[be].status=2,setTimeout(l[be].unwatcher,Math.floor(0)),l[be].onComplete&&y.push("nodata"===Kt?function(){return l[be].onComplete(null,!1,l[be].currentInputSnapshot)}:function(){return l[be].onComplete(new Error(Kt),!1,null)}))},le=0;le<l.length;le++)re(le);for(Nc(f,f.transactionQueueTree_),le=0;le<y.length;le++)Vn(y[le]);wl(f,f.transactionQueueTree_)}}(f,bf(f,p),y),y}function _f(f,l){var p,y=f.transactionQueueTree_;for(p=Rn(l);null!==p&&void 0===cu(y);)y=Ei(y,p),p=Rn(l=X(l));return y}function bf(f,l){var p=[];return Dd(f,l,p),p.sort(function(y,D){return y.order-D.order}),p}function Dd(f,l,p){var y=cu(l);if(y)for(var D=0;D<y.length;D++)p.push(y[D]);bs(l,function(k){Dd(f,k,p)})}function Nc(f,l){var p=cu(l);if(p){for(var y=0,D=0;D<p.length;D++)2!==p[D].status&&(p[y]=p[D],y++);p.length=y,vd(l,p.length>0?p:void 0)}bs(l,function(k){Nc(f,k)})}function Vh(f,l){var p=Wu(_f(f,l)),y=Ei(f.transactionQueueTree_,l);return function ss(f,l,p){for(var y=p?f:f.parent;null!==y;){if(l(y))return!0;y=y.parent}}(y,function(D){Uh(f,D)}),Uh(f,y),Mc(y,function(D){Uh(f,D)}),p}function Uh(f,l){var p=cu(l);if(p){for(var y=[],D=[],k=-1,H=0;H<p.length;H++)3===p[H].status||(1===p[H].status?((0,$.assert)(k===H-1,"All SENT items should be at beginning of queue."),k=H,p[H].status=3,p[H].abortReason="set"):((0,$.assert)(0===p[H].status,"Unexpected transaction status in abort"),p[H].unwatcher(),D=D.concat(oi(f.serverSyncTree_,p[H].currentWriteId,!0)),p[H].onComplete&&y.push(p[H].onComplete.bind(null,new Error("set"),!1,null))));for(-1===k?vd(l,void 0):p.length=k+1,Pi(f.eventQueue_,Wu(l),D),H=0;H<y.length;H++)Vn(y[H])}}var jh=function(f,l){var p=Eg(f),y=p.namespace;return"firebase.com"===p.domain&&at(p.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!y||"undefined"===y)&&"localhost"!==p.domain&&at("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),p.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ft("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Wn(p.host,p.secure,y,l,"ws"===p.scheme||"wss"===p.scheme,"",y!==p.subdomain),path:new Fn(p.pathString)}},Eg=function(f){var l="",p="",y="",D="",k="",H=!0,re="https",le=443;if("string"==typeof f){var be=f.indexOf("//");be>=0&&(re=f.substring(0,be-1),f=f.substring(be+2));var Te=f.indexOf("/");-1===Te&&(Te=f.length);var gt=f.indexOf("?");-1===gt&&(gt=f.length),l=f.substring(0,Math.min(Te,gt)),Te<gt&&(D=function wf(f){for(var l="",p=f.split("/"),y=0;y<p.length;y++)if(p[y].length>0){var D=p[y];try{D=decodeURIComponent(D.replace(/\+/g," "))}catch(k){}l+="/"+D}return l}(f.substring(Te,gt)));var kt=function jv(f){var l,p,y={};"?"===f.charAt(0)&&(f=f.substring(1));try{for(var D=(0,je.__values)(f.split("&")),k=D.next();!k.done;k=D.next()){var H=k.value;if(0!==H.length){var re=H.split("=");2===re.length?y[decodeURIComponent(re[0])]=decodeURIComponent(re[1]):Ft("Invalid query segment '"+H+"' in query '"+f+"'")}}}catch(le){l={error:le}}finally{try{k&&!k.done&&(p=D.return)&&p.call(D)}finally{if(l)throw l.error}}return y}(f.substring(Math.min(f.length,gt)));(be=l.indexOf(":"))>=0?(H="https"===re||"wss"===re,le=parseInt(l.substring(be+1),10)):be=l.length;var Kt=l.slice(0,be);if("localhost"===Kt.toLowerCase())p="localhost";else if(Kt.split(".").length<=2)p=Kt;else{var ln=l.indexOf(".");y=l.substring(0,ln).toLowerCase(),p=l.substring(ln+1),k=y}"ns"in kt&&(k=kt.ns)}return{host:l,port:le,domain:p,subdomain:y,secure:H,scheme:re,pathString:D,namespace:k}},Pc=function(){function f(l,p,y,D){this.eventType=l,this.eventRegistration=p,this.snapshot=y,this.prevName=D}return f.prototype.getPath=function(){var l=this.snapshot.ref;return"value"===this.eventType?l._path:l.parent._path},f.prototype.getEventType=function(){return this.eventType},f.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},f.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,$.stringify)(this.snapshot.exportVal())},f}(),du=function(){function f(l,p,y){this.eventRegistration=l,this.error=p,this.path=y}return f.prototype.getPath=function(){return this.path},f.prototype.getEventType=function(){return"cancel"},f.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},f.prototype.toString=function(){return this.path.toString()+":cancel"},f}(),Il=function(){function f(l,p){this.snapshotCallback=l,this.cancelCallback=p}return f.prototype.onValue=function(l,p){this.snapshotCallback.call(null,l,p)},f.prototype.onCancel=function(l){return(0,$.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,l)},Object.defineProperty(f.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),f.prototype.matches=function(l){return this.snapshotCallback===l.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===l.snapshotCallback.userCallback&&this.snapshotCallback.context===l.snapshotCallback.context},f}(),Fc=function(){function f(l,p){this._repo=l,this._path=p}return f.prototype.cancel=function(){var l=new $.Deferred;return yf(this._repo,this._path,l.wrapCallback(function(){})),l.promise},f.prototype.remove=function(){Cs("OnDisconnect.remove",this._path);var l=new $.Deferred;return Uv(this._repo,this._path,null,l.wrapCallback(function(){})),l.promise},f.prototype.set=function(l){Cs("OnDisconnect.set",this._path),Dn("OnDisconnect.set",l,this._path,!1);var p=new $.Deferred;return Uv(this._repo,this._path,l,p.wrapCallback(function(){})),p.promise},f.prototype.setWithPriority=function(l,p){Cs("OnDisconnect.setWithPriority",this._path),Dn("OnDisconnect.setWithPriority",l,this._path,!1),Rc("OnDisconnect.setWithPriority",p,!1);var y=new $.Deferred;return function Lh(f,l,p,y,D){var k=_t(p,y);f.server_.onDisconnectPut(l.toString(),k.val(!0),function(H,re){"ok"===H&&li(f.onDisconnect_,l,k),co(0,D,H,re)})}(this._repo,this._path,l,p,y.wrapCallback(function(){})),y.promise},f.prototype.update=function(l){Cs("OnDisconnect.update",this._path),ml("OnDisconnect.update",l,this._path,!1);var p=new $.Deferred;return function bg(f,l,p,y){if((0,$.isEmpty)(p))return Pe("onDisconnect().update() called with empty data.  Don't do anything."),void co(0,y,"ok",void 0);f.server_.onDisconnectMerge(l.toString(),p,function(D,k){"ok"===D&&ht(p,function(H,re){var le=_t(re);li(f.onDisconnect_,Oe(l,H),le)}),co(0,y,D,k)})}(this._repo,this._path,l,p.wrapCallback(function(){})),p.promise},f}(),us=function(){function f(l,p,y,D){this._repo=l,this._path=p,this._queryParams=y,this._orderByCalled=D}return Object.defineProperty(f.prototype,"key",{get:function(){return Ze(this._path)?null:me(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"ref",{get:function(){return new Is(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"_queryIdentifier",{get:function(){var l=Jt(this._queryParams),p=pt(l);return"{}"===p?"default":p},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"_queryObject",{get:function(){return Jt(this._queryParams)},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(l){if(!((l=(0,$.getModularInstance)(l))instanceof f))return!1;var p=this._repo===l._repo,y=At(this._path,l._path);return p&&y&&this._queryIdentifier===l._queryIdentifier},f.prototype.toJSON=function(){return this.toString()},f.prototype.toString=function(){return this._repo.toString()+function ie(f){for(var l="",p=f.pieceNum_;p<f.pieces_.length;p++)""!==f.pieces_[p]&&(l+="/"+encodeURIComponent(String(f.pieces_[p])));return l||"/"}(this._path)},f}();function hu(f,l){if(!0===f._orderByCalled)throw new Error(l+": You can't combine multiple orderBy calls.")}function fi(f){var l=null,p=null;if(f.hasStart()&&(l=f.getIndexStartValue()),f.hasEnd()&&(p=f.getIndexEndValue()),f.getIndex()===Vr){var y="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",D="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(f.hasStart()){if(f.getIndexStartName()!==Ie)throw new Error(y);if("string"!=typeof l)throw new Error(D)}if(f.hasEnd()){if(f.getIndexEndName()!==Ue)throw new Error(y);if("string"!=typeof p)throw new Error(D)}}else if(f.getIndex()===pr){if(null!=l&&!gl(l)||null!=p&&!gl(p))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,$.assert)(f.getIndex()instanceof jt||f.getIndex()===Rr,"unknown index type."),null!=l&&"object"==typeof l||null!=p&&"object"==typeof p)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ef(f){if(f.hasStart()&&f.hasEnd()&&f.hasLimit()&&!f.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Is=function(f){function l(p,y){return f.call(this,p,y,new En,!1)||this}return(0,je.__extends)(l,f),Object.defineProperty(l.prototype,"parent",{get:function(){var p=Ne(this._path);return null===p?null:new l(this._repo,p)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"root",{get:function(){for(var p=this;null!==p.parent;)p=p.parent;return p},enumerable:!1,configurable:!0}),l}(us),Dl=function(){function f(l,p,y){this._node=l,this.ref=p,this._index=y}return Object.defineProperty(f.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),f.prototype.child=function(l){var p=new Fn(l),y=$a(this.ref,l);return new f(this._node.getChild(p),y,pr)},f.prototype.exists=function(){return!this._node.isEmpty()},f.prototype.exportVal=function(){return this._node.val(!0)},f.prototype.forEach=function(l){var p=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(D,k){return l(new f(k,$a(p.ref,D),pr))})},f.prototype.hasChild=function(l){var p=new Fn(l);return!this._node.getChild(p).isEmpty()},f.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},f.prototype.toJSON=function(){return this.exportVal()},f.prototype.val=function(){return this._node.val()},f}();function yo(f,l){return(f=(0,$.getModularInstance)(f))._checkNotDeleted("ref"),void 0!==l?$a(f._root,l):f._root}function Cf(f,l){(f=(0,$.getModularInstance)(f))._checkNotDeleted("refFromURL");var p=jh(l,f._repo.repoInfo_.nodeAdmin);_d("refFromURL",p);var y=p.repoInfo;return!f._repo.repoInfo_.isCustomHost()&&y.host!==f._repo.repoInfo_.host&&at("refFromURL: Host name does not match the current database: (found "+y.host+" but expected "+f._repo.repoInfo_.host+")"),yo(f,p.path.toString())}function $a(f,l){return null===Rn((f=(0,$.getModularInstance)(f))._path)?(p=l,p&&(p=p.replace(/^\/*\.info(\/|$)/,"/")),vl("child","path",p,!1)):vl("child","path",l,!1),new Is(f._repo,Oe(f._path,l));var p}function $v(f,l){f=(0,$.getModularInstance)(f),Cs("push",f._path),Dn("push",l,f._path,!0);var H,p=_l(f._repo),y=gr(p),D=$a(f,y),k=$a(f,y);return H=null!=l?Hh(k,l).then(function(){return k}):Promise.resolve(k),D.then=H.then.bind(H),D.catch=H.then.bind(H,void 0),D}function $h(f){return Cs("remove",f._path),Hh(f,null)}function Hh(f,l){f=(0,$.getModularInstance)(f),Cs("set",f._path),Dn("set",l,f._path,!1);var p=new $.Deferred;return _g(f._repo,f._path,l,null,p.wrapCallback(function(){})),p.promise}function Hv(f,l){f=(0,$.getModularInstance)(f),Cs("setPriority",f._path),Rc("setPriority",l,!1);var p=new $.Deferred;return _g(f._repo,Oe(f._path,".priority"),l,null,p.wrapCallback(function(){})),p.promise}function Gv(f,l,p){if(Cs("setWithPriority",f._path),Dn("setWithPriority",l,f._path,!1),Rc("setWithPriority",p,!1),".length"===f.key||".keys"===f.key)throw"setWithPriority failed: "+f.key+" is a read-only object.";var y=new $.Deferred;return _g(f._repo,f._path,l,p,y.wrapCallback(function(){})),y.promise}function pu(f,l){ml("update",l,f._path,!1);var p=new $.Deferred;return function Ed(f,l,p,y){fu(f,"update",{path:l.toString(),value:p});var D=!0,k=Mo(f),H={};if(ht(p,function(be,Te){D=!1,H[be]=kh(Oe(l,be),_t(Te),f.serverSyncTree_,k)}),D)Pe("update() called with empty data.  Don't do anything."),co(0,y,"ok",void 0);else{var re=Yu(f),le=function os(f,l,p,y){!function cd(f,l,p,y){(0,$.assert)(y>f.lastWriteId,"Stacking an older merge on top of newer ones"),f.allWrites.push({path:l,children:p,writeId:y,visible:!0}),f.visibleWrites=Lu(f.visibleWrites,l,p),f.lastWriteId=y}(f.pendingWriteTree_,l,p,y);var D=ii.fromObject(p);return Qs(f,new Ou({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},l,D))}(f.serverSyncTree_,l,H,re);Js(f.eventQueue_,le),f.server_.merge(l.toString(),p,function(be,Te){var gt="ok"===be;gt||Ft("update at "+l+" failed: "+be);var kt=oi(f.serverSyncTree_,re,!gt),Kt=kt.length>0?Cl(f,l):l;Pi(f.eventQueue_,Kt,kt),co(0,y,be,Te)}),ht(p,function(be){var Te=Vh(f,Oe(l,be));Cl(f,Te)}),Pi(f.eventQueue_,l,[])}}(f._repo,f._path,l,p.wrapCallback(function(){})),p.promise}function $i(f){return function Vv(f,l){var p=function _s(f,l){var p=l._path,y=null;f.syncPointTree_.foreachOnPath(p,function(be,Te){var gt=It(be,p);y=y||pn(Te,gt)});var D=f.syncPointTree_.get(p);D?y=y||pn(D,$t()):(D=new x,f.syncPointTree_=f.syncPointTree_.set(p,D));var k=null!=y,H=k?new ts(y,!0,!1):null;return function Ic(f){return zs(f.viewCache_)}(ee(D,l,Ns(f.pendingWriteTree_,l._path),k?H.getNode():J.EMPTY_NODE,k))}(f.serverSyncTree_,l);return null!=p?Promise.resolve(p):f.server_.get(l).then(function(y){var D=_t(y).withIndex(l._queryParams.getIndex()),k=Tc(f.serverSyncTree_,l._path,D);return kc(f.eventQueue_,l._path,k),Promise.resolve(D)},function(y){return fu(f,"get for query "+(0,$.stringify)(l)+" failed: "+y),Promise.reject(new Error(y))})}((f=(0,$.getModularInstance)(f))._repo,f).then(function(l){return new Dl(l,new Is(f._repo,f._path),f._queryParams.getIndex())})}var If=function(){function f(l){this.callbackContext=l}return f.prototype.respondsTo=function(l){return"value"===l},f.prototype.createEvent=function(l,p){var y=p._queryParams.getIndex();return new Pc("value",this,new Dl(l.snapshotNode,new Is(p._repo,p._path),y))},f.prototype.getEventRunner=function(l){var p=this;return"cancel"===l.getEventType()?function(){return p.callbackContext.onCancel(l.error)}:function(){return p.callbackContext.onValue(l.snapshot,null)}},f.prototype.createCancelEvent=function(l,p){return this.callbackContext.hasCancelCallback?new du(this,l,p):null},f.prototype.matches=function(l){return l instanceof f&&(!l.callbackContext||!this.callbackContext||l.callbackContext.matches(this.callbackContext))},f.prototype.hasAnyCallback=function(){return null!==this.callbackContext},f}(),Td=function(){function f(l,p){this.eventType=l,this.callbackContext=p}return f.prototype.respondsTo=function(l){var p="children_added"===l?"child_added":l;return this.eventType===("children_removed"===p?"child_removed":p)},f.prototype.createCancelEvent=function(l,p){return this.callbackContext.hasCancelCallback?new du(this,l,p):null},f.prototype.createEvent=function(l,p){(0,$.assert)(null!=l.childName,"Child events should have a childName.");var y=$a(new Is(p._repo,p._path),l.childName),D=p._queryParams.getIndex();return new Pc(l.type,this,new Dl(l.snapshotNode,y,D),l.prevName)},f.prototype.getEventRunner=function(l){var p=this;return"cancel"===l.getEventType()?function(){return p.callbackContext.onCancel(l.error)}:function(){return p.callbackContext.onValue(l.snapshot,l.prevName)}},f.prototype.matches=function(l){return l instanceof f&&this.eventType===l.eventType&&(!this.callbackContext||!l.callbackContext||this.callbackContext.matches(l.callbackContext))},f.prototype.hasAnyCallback=function(){return!!this.callbackContext},f}();function Lc(f,l,p,y,D){var k;if("object"==typeof y&&(k=void 0,D=y),"function"==typeof y&&(k=y),D&&D.onlyOnce){var H=p,re=function(Te,gt){Cd(f._repo,f,be),H(Te,gt)};re.userCallback=p.userCallback,re.context=p.context,p=re}var le=new Il(p,k||void 0),be="value"===l?new If(le):new Td(l,le);return function lu(f,l,p){var y;y=".info"===Rn(l._path)?dg(f.infoSyncTree_,l,p):dg(f.serverSyncTree_,l,p),kc(f.eventQueue_,l._path,y)}(f._repo,f,be),function(){return Cd(f._repo,f,be)}}function kr(f,l,p,y){return Lc(f,"value",l,p,y)}function Ir(f,l,p,y){return Lc(f,"child_added",l,p,y)}function Ku(f,l,p,y){return Lc(f,"child_changed",l,p,y)}function Sd(f,l,p,y){return Lc(f,"child_moved",l,p,y)}function Cg(f,l,p,y){return Lc(f,"child_removed",l,p,y)}function Ad(f,l,p){var y=null,D=p?new Il(p):null;"value"===l?y=new If(D):l&&(y=new Td(l,D)),Cd(f._repo,f,y)}var Zs=function f(){},_o=function(f){function l(p,y){var D=f.call(this)||this;return D._value=p,D._key=y,D}return(0,je.__extends)(l,f),l.prototype._apply=function(p){Dn("endAt",this._value,p._path,!0);var y=oe(p._queryParams,this._value,this._key);if(Ef(y),fi(y),p._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new us(p._repo,p._path,y,p._orderByCalled)},l}(Zs);function Md(f,l){return xc("endAt","key",l,!0),new _o(f,l)}var gu=function(f){function l(p,y){var D=f.call(this)||this;return D._value=p,D._key=y,D}return(0,je.__extends)(l,f),l.prototype._apply=function(p){Dn("endBefore",this._value,p._path,!1);var y=function Ct(f,l,p){var D;return f.index_===Vr?("string"==typeof l&&(l=Zo(l)),D=oe(f,l,p)):D=oe(f,l,null==p?Ie:Zo(p)),D.endBeforeSet_=!0,D}(p._queryParams,this._value,this._key);if(Ef(y),fi(y),p._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new us(p._repo,p._path,y,p._orderByCalled)},l}(Zs);function lo(f,l){return xc("endBefore","key",l,!0),new gu(f,l)}var Gh=function(f){function l(p,y){var D=f.call(this)||this;return D._value=p,D._key=y,D}return(0,je.__extends)(l,f),l.prototype._apply=function(p){Dn("startAt",this._value,p._path,!0);var y=E(p._queryParams,this._value,this._key);if(Ef(y),fi(y),p._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new us(p._repo,p._path,y,p._orderByCalled)},l}(Zs);function qh(f,l){return void 0===f&&(f=null),xc("startAt","key",l,!0),new Gh(f,l)}var ea=function(f){function l(p,y){var D=f.call(this)||this;return D._value=p,D._key=y,D}return(0,je.__extends)(l,f),l.prototype._apply=function(p){Dn("startAfter",this._value,p._path,!1);var y=function U(f,l,p){var y;return f.index_===Vr?("string"==typeof l&&(l=Pr(l)),y=E(f,l,p)):y=E(f,l,null==p?Ue:Pr(p)),y.startAfterSet_=!0,y}(p._queryParams,this._value,this._key);if(Ef(y),fi(y),p._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new us(p._repo,p._path,y,p._orderByCalled)},l}(Zs);function qv(f,l){return xc("startAfter","key",l,!0),new ea(f,l)}var Df=function(f){function l(p){var y=f.call(this)||this;return y._limit=p,y}return(0,je.__extends)(l,f),l.prototype._apply=function(p){if(p._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new us(p._repo,p._path,function C(f,l){var p=f.copy();return p.limitSet_=!0,p.limit_=l,p.viewFrom_="l",p}(p._queryParams,this._limit),p._orderByCalled)},l}(Zs);function zv(f){if("number"!=typeof f||Math.floor(f)!==f||f<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Df(f)}var Ig=function(f){function l(p){var y=f.call(this)||this;return y._limit=p,y}return(0,je.__extends)(l,f),l.prototype._apply=function(p){if(p._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new us(p._repo,p._path,function G(f,l){var p=f.copy();return p.limitSet_=!0,p.limit_=l,p.viewFrom_="r",p}(p._queryParams,this._limit),p._orderByCalled)},l}(Zs);function Rd(f){if("number"!=typeof f||Math.floor(f)!==f||f<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Ig(f)}var si=function(f){function l(p){var y=f.call(this)||this;return y._path=p,y}return(0,je.__extends)(l,f),l.prototype._apply=function(p){hu(p,"orderByChild");var y=new Fn(this._path);if(Ze(y))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var D=new jt(y),k=Xt(p._queryParams,D);return fi(k),new us(p._repo,p._path,k,!0)},l}(Zs);function Wv(f){if("$key"===f)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===f)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===f)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return vl("orderByChild","path",f,!1),new si(f)}var xd=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return(0,je.__extends)(l,f),l.prototype._apply=function(p){hu(p,"orderByKey");var y=Xt(p._queryParams,Vr);return fi(y),new us(p._repo,p._path,y,!0)},l}(Zs);function zh(){return new xd}var Wh=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return(0,je.__extends)(l,f),l.prototype._apply=function(p){hu(p,"orderByPriority");var y=Xt(p._queryParams,pr);return fi(y),new us(p._repo,p._path,y,!0)},l}(Zs);function Tf(){return new Wh}var Dg=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return(0,je.__extends)(l,f),l.prototype._apply=function(p){hu(p,"orderByValue");var y=Xt(p._queryParams,Rr);return fi(y),new us(p._repo,p._path,y,!0)},l}(Zs);function Tg(){return new Dg}var Sg=function(f){function l(p,y){var D=f.call(this)||this;return D._value=p,D._key=y,D}return(0,je.__extends)(l,f),l.prototype._apply=function(p){if(Dn("equalTo",this._value,p._path,!1),p._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(p._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new _o(this._value,this._key)._apply(new Gh(this._value,this._key)._apply(p))},l}(Zs);function Yv(f,l){return xc("equalTo","key",l,!0),new Sg(f,l)}function ta(f){for(var l,p,y=[],D=1;D<arguments.length;D++)y[D-1]=arguments[D];var k=(0,$.getModularInstance)(f);try{for(var H=(0,je.__values)(y),re=H.next();!re.done;re=H.next()){var le=re.value;k=le._apply(k)}}catch(be){l={error:be}}finally{try{re&&!re.done&&(p=H.return)&&p.call(H)}finally{if(l)throw l.error}}return k}(function M(f){(0,$.assert)(!Xs,"__referenceConstructor has already been defined"),Xs=f})(Is),function zr(f){(0,$.assert)(!is,"__referenceConstructor has already been defined"),is=f}(Is);var Yh={},Mg=!1;function cs(f,l,p,y,D){var k=y||f.options.databaseURL;void 0===k&&(f.options.projectId||at("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Pe("Using default host for project ",f.options.projectId),k=f.options.projectId+"-default-rtdb.firebaseio.com");var le,H=jh(k,D),re=H.repoInfo,be=void 0;"undefined"!=typeof process&&(be=process.env.FIREBASE_DATABASE_EMULATOR_HOST),be?(le=!0,re=(H=jh(k="http://"+be+"?ns="+re.namespace,D)).repoInfo):le=!H.repoInfo.secure;var Te=D&&le?new _n(_n.OWNER):new Pn(f.name,f.options,l);_d("Invalid Firebase Database URL",H),Ze(H.path)||at("Database URL must point to the root of a Firebase Database (not including a child path).");var gt=function pb(f,l,p,y){var D=Yh[l.name];D||(Yh[l.name]=D={});var k=D[f.toURLString()];return k&&at("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),k=new yl(f,Mg,p,y),D[f.toURLString()]=k,k}(re,f,Te,new nr(f.name,p));return new Rg(gt,f)}var Rg=function(){function f(l,p){this._repoInternal=l,this.app=p,this.type="database",this._instanceStarted=!1}return Object.defineProperty(f.prototype,"_repo",{get:function(){return this._instanceStarted||(function vf(f,l,p){if(f.stats_=Wi(f.repoInfo_),f.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)f.server_=new Gr(f.repoInfo_,function(y,D,k,H){mg(f,y,D,k,H)},f.authTokenProvider_,f.appCheckProvider_),setTimeout(function(){return vg(f,!0)},0);else{if(null!=p){if("object"!=typeof p)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,$.stringify)(p)}catch(y){throw new Error("Invalid authOverride provided: "+y)}}f.persistentConnection_=new Co(f.repoInfo_,l,function(y,D,k,H){mg(f,y,D,k,H)},function(y){vg(f,y)},function(y){!function yg(f,l){ht(l,function(p,y){Ua(f,p,y)})}(f,y)},f.authTokenProvider_,f.appCheckProvider_,p),f.server_=f.persistentConnection_}f.authTokenProvider_.addTokenChangeListener(function(y){f.server_.refreshAuthToken(y)}),f.appCheckProvider_.addTokenChangeListener(function(y){f.server_.refreshAppCheckToken(y.token)}),f.statsReporter_=function er(f,l){var p=f.toString();return ur[p]||(ur[p]=l()),ur[p]}(f.repoInfo_,function(){return new Zi(f.stats_,f.server_)}),f.infoData_=new cr,f.infoSyncTree_=new Gu({startListening:function(y,D,k,H){var re=[],le=f.infoData_.getNode(y._path);return le.isEmpty()||(re=Tc(f.infoSyncTree_,y._path,le),setTimeout(function(){H("ok")},0)),re},stopListening:function(){}}),Ua(f,"connected",!1),f.serverSyncTree_=new Gu({startListening:function(y,D,k,H){return f.server_.listen(y,k,D,function(re,le){var be=H(re,le);Pi(f.eventQueue_,y._path,be)}),[]},stopListening:function(y,D){f.server_.unlisten(y,D)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Is(this._repo,$t())),this._rootInternal},enumerable:!1,configurable:!0}),f.prototype._delete=function(){return null!==this._rootInternal&&(function Kv(f,l){var p=Yh[l];(!p||p[f.key]!==f)&&at("Database "+l+"("+f.repoInfo_+") has already been deleted."),Oc(f),delete p[f.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},f.prototype._checkNotDeleted=function(l){null===this._rootInternal&&at("Cannot call "+l+" on a deleted database.")},f}();function Bc(f){(f=(0,$.getModularInstance)(f))._checkNotDeleted("goOffline"),Oc(f._repo)}function na(f){(f=(0,$.getModularInstance)(f))._checkNotDeleted("goOnline"),function Bh(f){f.persistentConnection_&&f.persistentConnection_.resume(wd)}(f._repo)}var Kh={".sv":"timestamp"},Qh=function(){function f(l,p){this.committed=l,this.snapshot=p}return f.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},f}();function Jh(f,l,p){var y;if(f=(0,$.getModularInstance)(f),Cs("Reference.transaction",f._path),".length"===f.key||".keys"===f.key)throw"Reference.transaction failed: "+f.key+" is a read-only object.";var D=null===(y=null==p?void 0:p.applyLocally)||void 0===y||y,k=new $.Deferred,re=kr(f,function(){});return function ja(f,l,p,y,D,k){fu(f,"transaction on "+l);var H={path:l,update:p,onComplete:y,status:null,order:he(),applyLocally:k,retryCount:0,unwatcher:D,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},re=as(f,l,void 0);H.currentInputSnapshot=re;var le=H.update(re.val());if(void 0===le)H.unwatcher(),H.currentOutputSnapshotRaw=null,H.currentOutputSnapshotResolved=null,H.onComplete&&H.onComplete(null,!1,H.currentInputSnapshot);else{$o("transaction failed: Data returned ",le,H.path),H.status=0;var be=Ei(f.transactionQueueTree_,l),Te=cu(be)||[];Te.push(H),vd(be,Te);var gt=void 0;"object"==typeof le&&null!==le&&(0,$.contains)(le,".priority")?(gt=(0,$.safeGet)(le,".priority"),(0,$.assert)(gl(gt),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):gt=(Sc(f.serverSyncTree_,l)||J.EMPTY_NODE).getPriority().val();var Kt=Mo(f),ln=_t(le,gt),Cn=eo(ln,re,Kt);H.currentOutputSnapshotRaw=ln,H.currentOutputSnapshotResolved=Cn,H.currentWriteId=Yu(f);var Dt=pl(f.serverSyncTree_,l,Cn,H.currentWriteId,H.applyLocally);Pi(f.eventQueue_,l,Dt),wl(f,f.transactionQueueTree_)}}(f._repo,f._path,l,function(le,be,Te){var gt=null;le?k.reject(le):(gt=new Dl(Te,new Is(f._repo,f._path),pr),k.resolve(new Qh(be,gt)))},re,D),k.promise}var kd=function(){function f(l){this._delegate=l}return f.prototype.cancel=function(l){(0,$.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),(0,$.validateCallback)("OnDisconnect.cancel","onComplete",l,!0);var p=this._delegate.cancel();return l&&p.then(function(){return l(null)},function(y){return l(y)}),p},f.prototype.remove=function(l){(0,$.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),(0,$.validateCallback)("OnDisconnect.remove","onComplete",l,!0);var p=this._delegate.remove();return l&&p.then(function(){return l(null)},function(y){return l(y)}),p},f.prototype.set=function(l,p){(0,$.validateArgCount)("OnDisconnect.set",1,2,arguments.length),(0,$.validateCallback)("OnDisconnect.set","onComplete",p,!0);var y=this._delegate.set(l);return p&&y.then(function(){return p(null)},function(D){return p(D)}),y},f.prototype.setWithPriority=function(l,p,y){(0,$.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,$.validateCallback)("OnDisconnect.setWithPriority","onComplete",y,!0);var D=this._delegate.setWithPriority(l,p);return y&&D.then(function(){return y(null)},function(k){return y(k)}),D},f.prototype.update=function(l,p){if((0,$.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(l)){for(var y={},D=0;D<l.length;++D)y[""+D]=l[D];l=y,Ft("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,$.validateCallback)("OnDisconnect.update","onComplete",p,!0);var k=this._delegate.update(l);return p&&k.then(function(){return p(null)},function(H){return p(H)}),k},f}(),Sl=function(){function f(l,p){this.committed=l,this.snapshot=p}return f.prototype.toJSON=function(){return(0,$.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},f}(),Vc=function(){function f(l,p){this._database=l,this._delegate=p}return f.prototype.val=function(){return(0,$.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},f.prototype.exportVal=function(){return(0,$.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},f.prototype.toJSON=function(){return(0,$.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},f.prototype.exists=function(){return(0,$.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},f.prototype.child=function(l){return(0,$.validateArgCount)("DataSnapshot.child",0,1,arguments.length),l=String(l),vl("DataSnapshot.child","path",l,!1),new f(this._database,this._delegate.child(l))},f.prototype.hasChild=function(l){return(0,$.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),vl("DataSnapshot.hasChild","path",l,!1),this._delegate.hasChild(l)},f.prototype.getPriority=function(){return(0,$.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},f.prototype.forEach=function(l){var p=this;return(0,$.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),(0,$.validateCallback)("DataSnapshot.forEach","action",l,!1),this._delegate.forEach(function(y){return l(new f(p._database,y))})},f.prototype.hasChildren=function(){return(0,$.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(f.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),f.prototype.numChildren=function(){return(0,$.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},f.prototype.getRef=function(){return(0,$.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new Bs(this._database,this._delegate.ref)},Object.defineProperty(f.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),f}(),xg=function(){function f(l,p){this.database=l,this._delegate=p}return f.prototype.on=function(l,p,y,D){var H,k=this;(0,$.validateArgCount)("Query.on",2,4,arguments.length),(0,$.validateCallback)("Query.on","callback",p,!1);var re=f.getCancelAndContextArgs_("Query.on",y,D),le=function(Te,gt){p.call(re.context,new Vc(k.database,Te),gt)};le.userCallback=p,le.context=re.context;var be=null===(H=re.cancel)||void 0===H?void 0:H.bind(re.context);switch(l){case"value":return kr(this._delegate,le,be),p;case"child_added":return Ir(this._delegate,le,be),p;case"child_removed":return Cg(this._delegate,le,be),p;case"child_changed":return Ku(this._delegate,le,be),p;case"child_moved":return Sd(this._delegate,le,be),p;default:throw new Error((0,$.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},f.prototype.off=function(l,p,y){if((0,$.validateArgCount)("Query.off",0,3,arguments.length),Nh("Query.off",l,!0),(0,$.validateCallback)("Query.off","callback",p,!0),(0,$.validateContextObject)("Query.off","context",y,!0),p){var D=function(){};D.userCallback=p,D.context=y,Ad(this._delegate,l,D)}else Ad(this._delegate,l)},f.prototype.get=function(){var l=this;return $i(this._delegate).then(function(p){return new Vc(l.database,p)})},f.prototype.once=function(l,p,y,D){var k=this;(0,$.validateArgCount)("Query.once",1,4,arguments.length),(0,$.validateCallback)("Query.once","callback",p,!0);var H=f.getCancelAndContextArgs_("Query.once",y,D),re=new $.Deferred,le=function(Te,gt){var kt=new Vc(k.database,Te);p&&p.call(H.context,kt,gt),re.resolve(kt)};le.userCallback=p,le.context=H.context;var be=function(Te){H.cancel&&H.cancel.call(H.context,Te),re.reject(Te)};switch(l){case"value":kr(this._delegate,le,be,{onlyOnce:!0});break;case"child_added":Ir(this._delegate,le,be,{onlyOnce:!0});break;case"child_removed":Cg(this._delegate,le,be,{onlyOnce:!0});break;case"child_changed":Ku(this._delegate,le,be,{onlyOnce:!0});break;case"child_moved":Sd(this._delegate,le,be,{onlyOnce:!0});break;default:throw new Error((0,$.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return re.promise},f.prototype.limitToFirst=function(l){return(0,$.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new f(this.database,ta(this._delegate,zv(l)))},f.prototype.limitToLast=function(l){return(0,$.validateArgCount)("Query.limitToLast",1,1,arguments.length),new f(this.database,ta(this._delegate,Rd(l)))},f.prototype.orderByChild=function(l){return(0,$.validateArgCount)("Query.orderByChild",1,1,arguments.length),new f(this.database,ta(this._delegate,Wv(l)))},f.prototype.orderByKey=function(){return(0,$.validateArgCount)("Query.orderByKey",0,0,arguments.length),new f(this.database,ta(this._delegate,zh()))},f.prototype.orderByPriority=function(){return(0,$.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new f(this.database,ta(this._delegate,Tf()))},f.prototype.orderByValue=function(){return(0,$.validateArgCount)("Query.orderByValue",0,0,arguments.length),new f(this.database,ta(this._delegate,Tg()))},f.prototype.startAt=function(l,p){return void 0===l&&(l=null),(0,$.validateArgCount)("Query.startAt",0,2,arguments.length),new f(this.database,ta(this._delegate,qh(l,p)))},f.prototype.startAfter=function(l,p){return void 0===l&&(l=null),(0,$.validateArgCount)("Query.startAfter",0,2,arguments.length),new f(this.database,ta(this._delegate,qv(l,p)))},f.prototype.endAt=function(l,p){return void 0===l&&(l=null),(0,$.validateArgCount)("Query.endAt",0,2,arguments.length),new f(this.database,ta(this._delegate,Md(l,p)))},f.prototype.endBefore=function(l,p){return void 0===l&&(l=null),(0,$.validateArgCount)("Query.endBefore",0,2,arguments.length),new f(this.database,ta(this._delegate,lo(l,p)))},f.prototype.equalTo=function(l,p){return(0,$.validateArgCount)("Query.equalTo",1,2,arguments.length),new f(this.database,ta(this._delegate,Yv(l,p)))},f.prototype.toString=function(){return(0,$.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},f.prototype.toJSON=function(){return(0,$.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},f.prototype.isEqual=function(l){if((0,$.validateArgCount)("Query.isEqual",1,1,arguments.length),!(l instanceof f)){var p="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(p)}return this._delegate.isEqual(l._delegate)},f.getCancelAndContextArgs_=function(l,p,y){var D={cancel:void 0,context:void 0};if(p&&y)D.cancel=p,(0,$.validateCallback)(l,"cancel",D.cancel,!0),D.context=y,(0,$.validateContextObject)(l,"context",D.context,!0);else if(p)if("object"==typeof p&&null!==p)D.context=p;else{if("function"!=typeof p)throw new Error((0,$.errorPrefix)(l,"cancelOrContext")+" must either be a cancel callback or a context object.");D.cancel=p}return D},Object.defineProperty(f.prototype,"ref",{get:function(){return new Bs(this.database,new Is(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),f}(),Bs=function(f){function l(p,y){var D=f.call(this,p,new us(y._repo,y._path,new En,!1))||this;return D.database=p,D._delegate=y,D}return(0,je.__extends)(l,f),l.prototype.getKey=function(){return(0,$.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},l.prototype.child=function(p){return(0,$.validateArgCount)("Reference.child",1,1,arguments.length),"number"==typeof p&&(p=String(p)),new l(this.database,$a(this._delegate,p))},l.prototype.getParent=function(){(0,$.validateArgCount)("Reference.parent",0,0,arguments.length);var p=this._delegate.parent;return p?new l(this.database,p):null},l.prototype.getRoot=function(){return(0,$.validateArgCount)("Reference.root",0,0,arguments.length),new l(this.database,this._delegate.root)},l.prototype.set=function(p,y){(0,$.validateArgCount)("Reference.set",1,2,arguments.length),(0,$.validateCallback)("Reference.set","onComplete",y,!0);var D=Hh(this._delegate,p);return y&&D.then(function(){return y(null)},function(k){return y(k)}),D},l.prototype.update=function(p,y){if((0,$.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(p)){for(var D={},k=0;k<p.length;++k)D[""+k]=p[k];p=D,Ft("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Cs("Reference.update",this._delegate._path),(0,$.validateCallback)("Reference.update","onComplete",y,!0);var H=pu(this._delegate,p);return y&&H.then(function(){return y(null)},function(re){return y(re)}),H},l.prototype.setWithPriority=function(p,y,D){(0,$.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),(0,$.validateCallback)("Reference.setWithPriority","onComplete",D,!0);var k=Gv(this._delegate,p,y);return D&&k.then(function(){return D(null)},function(H){return D(H)}),k},l.prototype.remove=function(p){(0,$.validateArgCount)("Reference.remove",0,1,arguments.length),(0,$.validateCallback)("Reference.remove","onComplete",p,!0);var y=$h(this._delegate);return p&&y.then(function(){return p(null)},function(D){return p(D)}),y},l.prototype.transaction=function(p,y,D){var k=this;(0,$.validateArgCount)("Reference.transaction",1,3,arguments.length),(0,$.validateCallback)("Reference.transaction","transactionUpdate",p,!1),(0,$.validateCallback)("Reference.transaction","onComplete",y,!0),mf("Reference.transaction","applyLocally",D,!0);var H=Jh(this._delegate,p,{applyLocally:D}).then(function(re){return new Sl(re.committed,new Vc(k.database,re.snapshot))});return y&&H.then(function(re){return y(null,re.committed,re.snapshot)},function(re){return y(re,!1,null)}),H},l.prototype.setPriority=function(p,y){(0,$.validateArgCount)("Reference.setPriority",1,2,arguments.length),(0,$.validateCallback)("Reference.setPriority","onComplete",y,!0);var D=Hv(this._delegate,p);return y&&D.then(function(){return y(null)},function(k){return y(k)}),D},l.prototype.push=function(p,y){var D=this;(0,$.validateArgCount)("Reference.push",0,2,arguments.length),(0,$.validateCallback)("Reference.push","onComplete",y,!0);var k=$v(this._delegate,p),H=k.then(function(le){return new l(D.database,le)});y&&H.then(function(){return y(null)},function(le){return y(le)});var re=new l(this.database,k);return re.then=H.then.bind(H),re.catch=H.catch.bind(H,void 0),re},l.prototype.onDisconnect=function(){return Cs("Reference.onDisconnect",this._delegate._path),new kd(new Fc(this._delegate._repo,this._delegate._path))},Object.defineProperty(l.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),l}(xg),Uc=function(){function f(l,p){var y=this;this._delegate=l,this.app=p,this.INTERNAL={delete:function(){return y._delegate._delete()}}}return f.prototype.useEmulator=function(l,p,y){void 0===y&&(y={}),function _a(f,l,p,y){void 0===y&&(y={}),(f=(0,$.getModularInstance)(f))._checkNotDeleted("useEmulator"),f._instanceStarted&&at("Cannot call useEmulator() after instance has already been initialized.");var D=f._repoInternal,k=void 0;if(D.repoInfo_.nodeAdmin)y.mockUserToken&&at('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),k=new _n(_n.OWNER);else if(y.mockUserToken){var H="string"==typeof y.mockUserToken?y.mockUserToken:(0,$.createMockUserToken)(y.mockUserToken,f.app.options.projectId);k=new _n(H)}!function Tl(f,l,p,y){f.repoInfo_=new Wn(l+":"+p,!1,f.repoInfo_.namespace,f.repoInfo_.webSocketOnly,f.repoInfo_.nodeAdmin,f.repoInfo_.persistenceKey,f.repoInfo_.includeNamespaceInQueryParams),y&&(f.authTokenProvider_=y)}(D,l,p,k)}(this._delegate,l,p,y)},f.prototype.ref=function(l){if((0,$.validateArgCount)("database.ref",0,1,arguments.length),l instanceof Bs){var p=Cf(this._delegate,l.toString());return new Bs(this,p)}return p=yo(this._delegate,l),new Bs(this,p)},f.prototype.refFromURL=function(l){var p="database.refFromURL";(0,$.validateArgCount)(p,1,1,arguments.length);var y=Cf(this._delegate,l);return new Bs(this,y)},f.prototype.goOffline=function(){return(0,$.validateArgCount)("database.goOffline",0,0,arguments.length),Bc(this._delegate)},f.prototype.goOnline=function(){return(0,$.validateArgCount)("database.goOnline",0,0,arguments.length),na(this._delegate)},f.ServerValue={TIMESTAMP:Kh,increment:function(l){return function mu(f){return{".sv":{increment:f}}}(l)}},f}(),Og=Object.freeze({__proto__:null,forceLongPolling:function(){yi.forceDisallow(),rn.forceAllow()},forceWebSockets:function(){rn.forceDisallow()},isWebSocketsAvailable:function(){return yi.isAvailable()},setSecurityDebugCallback:function(f,l){f._delegate._repo.persistentConnection_.securityDebugCallback_=l},stats:function(f,l){!function Id(f,l){if(void 0===l&&(l=!1),"undefined"!=typeof console){var p;l?(f.statsListener_||(f.statsListener_=new Aa(f.stats_)),p=f.statsListener_.get()):p=f.stats_.get();var y=Object.keys(p).reduce(function(D,k){return Math.max(k.length,D)},0);ht(p,function(D,k){for(var H=D,re=D.length;re<y+2;re++)H+=" ";console.log(H+k)})}}(f._delegate._repo,l)},statsIncrementCounter:function(f,l){!function bl(f,l){f.stats_.incrementCounter(l),function es(f,l){f.statsToReport_[l]=!0}(f.statsReporter_,l)}(f._delegate._repo,l)},dataUpdateCount:function(f){return f._delegate._repo.dataUpdateCount},interceptServerData:function(f,l){return function Bv(f,l){f.interceptServerDataCallback_=l}(f._delegate._repo,l)},initStandalone:function Zv(f){var l=f.app,p=f.url,D=f.customAuthImpl,k=f.namespace,H=f.nodeAdmin,re=void 0!==H&&H;ke(f.version);var le=new Ae.Provider("auth-internal",new Ae.ComponentContainer("database-standalone"));return le.setComponent(new Ae.Component("auth-internal",function(){return D},"PRIVATE")),{instance:new Uc(cs(l,le,void 0,p,re),l),namespace:k}}}),Nd=Co;Co.prototype.simpleListen=function(f,l){this.sendRequest("q",{p:f},l)},Co.prototype.echo=function(f,l){this.sendRequest("echo",{d:f},l)};var Ds=Object.freeze({__proto__:null,DataConnection:Nd,RealTimeConnection:Qt,hijackHash:function(f){var l=Co.prototype.put;return Co.prototype.put=function(p,y,D,k){void 0!==k&&(k=f()),l.call(this,p,y,D,k)},function(){Co.prototype.put=l}},ConnectionTarget:Wn,queryIdentifier:function(f){return f._delegate._queryIdentifier},forceRestClient:function(f){!function fo(f){Mg=f}(f)}}),Ts=Uc.ServerValue;!function Ti(f){ke(f.SDK_VERSION);var l=f.INTERNAL.registerComponent(new Ae.Component("database",function(p,y){var D=y.instanceIdentifier,k=p.getProvider("app").getImmediate(),H=p.getProvider("auth-internal"),re=p.getProvider("app-check-internal");return new Uc(cs(k,H,re,D),k)},"PUBLIC").setServiceProps({Reference:Bs,Query:xg,Database:Uc,DataSnapshot:Vc,enableLogging:bt,INTERNAL:Og,ServerValue:Ts,TEST_ACCESS:Ds}).setMultipleInstances(!0));f.registerVersion("@firebase/database","0.11.0"),(0,$.isNodeSdk)()&&(Sn.exports=l)}(g.default)},4003:(Sn,Lt,de)=>{"use strict";function g(){for(var ve=0,ae=0,ye=arguments.length;ae<ye;ae++)ve+=arguments[ae].length;var qe=Array(ve),he=0;for(ae=0;ae<ye;ae++)for(var Me=arguments[ae],Ve=0,rt=Me.length;Ve<rt;Ve++,he++)qe[he]=Me[Ve];return qe}de.r(Lt),de.d(Lt,{LogLevel:()=>je,Logger:()=>ke,setLogLevel:()=>fe,setUserLogHandler:()=>Ee});var Ae,$=[],je=(()=>{return(ve=je||(je={}))[ve.DEBUG=0]="DEBUG",ve[ve.VERBOSE=1]="VERBOSE",ve[ve.INFO=2]="INFO",ve[ve.WARN=3]="WARN",ve[ve.ERROR=4]="ERROR",ve[ve.SILENT=5]="SILENT",je;var ve})(),nt={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},it=je.INFO,Qe=((Ae={})[je.DEBUG]="log",Ae[je.VERBOSE]="log",Ae[je.INFO]="info",Ae[je.WARN]="warn",Ae[je.ERROR]="error",Ae),yt=function(ve,ae){for(var ye=[],qe=2;qe<arguments.length;qe++)ye[qe-2]=arguments[qe];if(!(ae<ve.logLevel)){var he=(new Date).toISOString(),Me=Qe[ae];if(!Me)throw new Error("Attempted to log a message with an invalid logType (value: "+ae+")");console[Me].apply(console,g(["["+he+"]  "+ve.name+":"],ye))}},ke=function(){function ve(ae){this.name=ae,this._logLevel=it,this._logHandler=yt,this._userLogHandler=null,$.push(this)}return Object.defineProperty(ve.prototype,"logLevel",{get:function(){return this._logLevel},set:function(ae){if(!(ae in je))throw new TypeError('Invalid value "'+ae+'" assigned to `logLevel`');this._logLevel=ae},enumerable:!1,configurable:!0}),ve.prototype.setLogLevel=function(ae){this._logLevel="string"==typeof ae?nt[ae]:ae},Object.defineProperty(ve.prototype,"logHandler",{get:function(){return this._logHandler},set:function(ae){if("function"!=typeof ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ae},enumerable:!1,configurable:!0}),Object.defineProperty(ve.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(ae){this._userLogHandler=ae},enumerable:!1,configurable:!0}),ve.prototype.debug=function(){for(var ae=[],ye=0;ye<arguments.length;ye++)ae[ye]=arguments[ye];this._userLogHandler&&this._userLogHandler.apply(this,g([this,je.DEBUG],ae)),this._logHandler.apply(this,g([this,je.DEBUG],ae))},ve.prototype.log=function(){for(var ae=[],ye=0;ye<arguments.length;ye++)ae[ye]=arguments[ye];this._userLogHandler&&this._userLogHandler.apply(this,g([this,je.VERBOSE],ae)),this._logHandler.apply(this,g([this,je.VERBOSE],ae))},ve.prototype.info=function(){for(var ae=[],ye=0;ye<arguments.length;ye++)ae[ye]=arguments[ye];this._userLogHandler&&this._userLogHandler.apply(this,g([this,je.INFO],ae)),this._logHandler.apply(this,g([this,je.INFO],ae))},ve.prototype.warn=function(){for(var ae=[],ye=0;ye<arguments.length;ye++)ae[ye]=arguments[ye];this._userLogHandler&&this._userLogHandler.apply(this,g([this,je.WARN],ae)),this._logHandler.apply(this,g([this,je.WARN],ae))},ve.prototype.error=function(){for(var ae=[],ye=0;ye<arguments.length;ye++)ae[ye]=arguments[ye];this._userLogHandler&&this._userLogHandler.apply(this,g([this,je.ERROR],ae)),this._logHandler.apply(this,g([this,je.ERROR],ae))},ve}();function fe(ve){$.forEach(function(ae){ae.setLogLevel(ve)})}function Ee(ve,ae){for(var ye=function(Ve){var rt=null;ae&&ae.level&&(rt=nt[ae.level]),Ve.userLogHandler=null===ve?null:function(et,bt){for(var Pe=[],Ke=2;Ke<arguments.length;Ke++)Pe[Ke-2]=arguments[Ke];var Pt=Pe.map(function(at){if(null==at)return null;if("string"==typeof at)return at;if("number"==typeof at||"boolean"==typeof at)return at.toString();if(at instanceof Error)return at.message;try{return JSON.stringify(at)}catch(Ft){return null}}).filter(function(at){return at}).join(" ");bt>=(null!=rt?rt:et.logLevel)&&ve({level:je[bt].toLowerCase(),message:Pt,args:Pe,type:et.name})}},qe=0,he=$;qe<he.length;qe++)ye(he[qe])}},492:(Sn,Lt,de)=>{"use strict";de.r(Lt),de.d(Lt,{CONSTANTS:()=>Ae,Deferred:()=>ye,ErrorFactory:()=>Gt,FirebaseError:()=>Ye,MAX_VALUE_MILLIS:()=>Zr,RANDOM_FACTOR:()=>ur,Sha1:()=>rr,areCookiesEnabled:()=>Re,assert:()=>$,assertionError:()=>je,async:()=>Dr,base64:()=>Qe,base64Decode:()=>fe,base64Encode:()=>yt,base64urlEncodeWithoutPadding:()=>ke,calculateBackoffMillis:()=>Wi,contains:()=>Xe,createMockUserToken:()=>qe,createSubscribe:()=>Kn,decode:()=>st,deepCopy:()=>Ee,deepEqual:()=>In,deepExtend:()=>ve,errorPrefix:()=>Ci,extractQuerystring:()=>_n,getGlobal:()=>Ie,getModularInstance:()=>Sr,getUA:()=>he,isAdmin:()=>Vt,isBrowser:()=>rt,isBrowserExtension:()=>et,isElectron:()=>Pe,isEmpty:()=>Zt,isIE:()=>Ke,isIndexedDBAvailable:()=>We,isMobileCordova:()=>Me,isNode:()=>Ve,isNodeSdk:()=>at,isReactNative:()=>bt,isSafari:()=>Ft,isUWP:()=>Pt,isValidFormat:()=>vt,isValidTimestamp:()=>Je,issuedAtTime:()=>ft,jsonEval:()=>ot,map:()=>Vn,ordinal:()=>er,querystring:()=>nr,querystringDecode:()=>Pn,safeGet:()=>mn,stringLength:()=>wt,stringToByteArray:()=>Wn,stringify:()=>ht,validateArgCount:()=>gi,validateCallback:()=>gn,validateContextObject:()=>An,validateIndexedDBOpenable:()=>Ge,validateNamespace:()=>mi});var g=de(655),Ae={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},$=function(xe,De){if(!xe)throw je(De)},je=function(xe){return new Error("Firebase Database ("+Ae.SDK_VERSION+") INTERNAL ASSERT FAILED: "+xe)},nt=function(xe){for(var De=[],tt=0,ce=0;ce<xe.length;ce++){var ge=xe.charCodeAt(ce);ge<128?De[tt++]=ge:ge<2048?(De[tt++]=ge>>6|192,De[tt++]=63&ge|128):55296==(64512&ge)&&ce+1<xe.length&&56320==(64512&xe.charCodeAt(ce+1))?(ge=65536+((1023&ge)<<10)+(1023&xe.charCodeAt(++ce)),De[tt++]=ge>>18|240,De[tt++]=ge>>12&63|128,De[tt++]=ge>>6&63|128,De[tt++]=63&ge|128):(De[tt++]=ge>>12|224,De[tt++]=ge>>6&63|128,De[tt++]=63&ge|128)}return De},Qe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(xe,De){if(!Array.isArray(xe))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var tt=De?this.byteToCharMapWebSafe_:this.byteToCharMap_,ce=[],ge=0;ge<xe.length;ge+=3){var $e=xe[ge],ct=ge+1<xe.length,Et=ct?xe[ge+1]:0,Bt=ge+2<xe.length,sn=Bt?xe[ge+2]:0,jn=(15&Et)<<2|sn>>6,Ar=63&sn;Bt||(Ar=64,ct||(jn=64)),ce.push(tt[$e>>2],tt[(3&$e)<<4|Et>>4],tt[jn],tt[Ar])}return ce.join("")},encodeString:function(xe,De){return this.HAS_NATIVE_SUPPORT&&!De?btoa(xe):this.encodeByteArray(nt(xe),De)},decodeString:function(xe,De){return this.HAS_NATIVE_SUPPORT&&!De?atob(xe):function(xe){for(var De=[],tt=0,ce=0;tt<xe.length;){var ge=xe[tt++];if(ge<128)De[ce++]=String.fromCharCode(ge);else if(ge>191&&ge<224){var $e=xe[tt++];De[ce++]=String.fromCharCode((31&ge)<<6|63&$e)}else if(ge>239&&ge<365){var Bt=((7&ge)<<18|(63&($e=xe[tt++]))<<12|(63&(ct=xe[tt++]))<<6|63&xe[tt++])-65536;De[ce++]=String.fromCharCode(55296+(Bt>>10)),De[ce++]=String.fromCharCode(56320+(1023&Bt))}else{$e=xe[tt++];var ct=xe[tt++];De[ce++]=String.fromCharCode((15&ge)<<12|(63&$e)<<6|63&ct)}}return De.join("")}(this.decodeStringToByteArray(xe,De))},decodeStringToByteArray:function(xe,De){this.init_();for(var tt=De?this.charToByteMapWebSafe_:this.charToByteMap_,ce=[],ge=0;ge<xe.length;){var $e=tt[xe.charAt(ge++)],Et=ge<xe.length?tt[xe.charAt(ge)]:0,sn=++ge<xe.length?tt[xe.charAt(ge)]:64,Xn=++ge<xe.length?tt[xe.charAt(ge)]:64;if(++ge,null==$e||null==Et||null==sn||null==Xn)throw Error();ce.push($e<<2|Et>>4),64!==sn&&(ce.push(Et<<4&240|sn>>2),64!==Xn&&ce.push(sn<<6&192|Xn))}return ce},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var xe=0;xe<this.ENCODED_VALS.length;xe++)this.byteToCharMap_[xe]=this.ENCODED_VALS.charAt(xe),this.charToByteMap_[this.byteToCharMap_[xe]]=xe,this.byteToCharMapWebSafe_[xe]=this.ENCODED_VALS_WEBSAFE.charAt(xe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[xe]]=xe,xe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(xe)]=xe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(xe)]=xe)}}},yt=function(xe){var De=nt(xe);return Qe.encodeByteArray(De,!0)},ke=function(xe){return yt(xe).replace(/\./g,"")},fe=function(xe){try{return Qe.decodeString(xe,!0)}catch(De){console.error("base64Decode failed: ",De)}return null};function Ee(xe){return ve(void 0,xe)}function ve(xe,De){if(!(De instanceof Object))return De;switch(De.constructor){case Date:return new Date(De.getTime());case Object:void 0===xe&&(xe={});break;case Array:xe=[];break;default:return De}for(var ce in De)!De.hasOwnProperty(ce)||!ae(ce)||(xe[ce]=ve(xe[ce],De[ce]));return xe}function ae(xe){return"__proto__"!==xe}var ye=function(){function xe(){var De=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(tt,ce){De.resolve=tt,De.reject=ce})}return xe.prototype.wrapCallback=function(De){var tt=this;return function(ce,ge){ce?tt.reject(ce):tt.resolve(ge),"function"==typeof De&&(tt.promise.catch(function(){}),1===De.length?De(ce):De(ce,ge))}},xe}();function qe(xe,De){if(xe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var ce=De||"demo-project",ge=xe.iat||0,$e=xe.sub||xe.user_id;if(!$e)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var ct=(0,g.__assign)({iss:"https://securetoken.google.com/"+ce,aud:ce,iat:ge,exp:ge+3600,auth_time:ge,sub:$e,user_id:$e,firebase:{sign_in_provider:"custom",identities:{}}},xe);return[ke(JSON.stringify({alg:"none",type:"JWT"})),ke(JSON.stringify(ct)),""].join(".")}function he(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Me(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(he())}function Ve(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(xe){return!1}}function rt(){return"object"==typeof self&&self.self===self}function et(){var xe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof xe&&void 0!==xe.id}function bt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pe(){return he().indexOf("Electron/")>=0}function Ke(){var xe=he();return xe.indexOf("MSIE ")>=0||xe.indexOf("Trident/")>=0}function Pt(){return he().indexOf("MSAppHost/")>=0}function at(){return!0===Ae.NODE_CLIENT||!0===Ae.NODE_ADMIN}function Ft(){return!Ve()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function We(){return"indexedDB"in self&&null!=indexedDB}function Ge(){return new Promise(function(xe,De){try{var tt=!0,ce="validate-browser-context-for-indexeddb-analytics-module",ge=self.indexedDB.open(ce);ge.onsuccess=function(){ge.result.close(),tt||self.indexedDB.deleteDatabase(ce),xe(!0)},ge.onupgradeneeded=function(){tt=!1},ge.onerror=function(){var $e;De((null===($e=ge.error)||void 0===$e?void 0:$e.message)||"")}}catch($e){De($e)}})}function Re(){return!(!navigator||!navigator.cookieEnabled)}function Ie(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}var Ye=function(xe){function De(tt,ce,ge){var $e=xe.call(this,ce)||this;return $e.code=tt,$e.customData=ge,$e.name="FirebaseError",Object.setPrototypeOf($e,De.prototype),Error.captureStackTrace&&Error.captureStackTrace($e,Gt.prototype.create),$e}return(0,g.__extends)(De,xe),De}(Error),Gt=function(){function xe(De,tt,ce){this.service=De,this.serviceName=tt,this.errors=ce}return xe.prototype.create=function(De){for(var tt=[],ce=1;ce<arguments.length;ce++)tt[ce-1]=arguments[ce];var ge=tt[0]||{},$e=this.service+"/"+De,ct=this.errors[De],Et=ct?Yt(ct,ge):"Error",Bt=this.serviceName+": "+Et+" ("+$e+").",sn=new Ye($e,Bt,ge);return sn},xe}();function Yt(xe,De){return xe.replace(pt,function(tt,ce){var ge=De[ce];return null!=ge?String(ge):"<"+ce+"?>"})}var pt=/\{\$([^}]+)}/g;function ot(xe){return JSON.parse(xe)}function ht(xe){return JSON.stringify(xe)}var st=function(xe){var De={},tt={},ce={},ge="";try{var $e=xe.split(".");De=ot(fe($e[0])||""),tt=ot(fe($e[1])||""),ge=$e[2],ce=tt.d||{},delete tt.d}catch(ct){}return{header:De,claims:tt,data:ce,signature:ge}},Je=function(xe){var De=st(xe).claims,tt=Math.floor((new Date).getTime()/1e3),ce=0,ge=0;return"object"==typeof De&&(De.hasOwnProperty("nbf")?ce=De.nbf:De.hasOwnProperty("iat")&&(ce=De.iat),ge=De.hasOwnProperty("exp")?De.exp:ce+86400),!!tt&&!!ce&&!!ge&&tt>=ce&&tt<=ge},ft=function(xe){var De=st(xe).claims;return"object"==typeof De&&De.hasOwnProperty("iat")?De.iat:null},vt=function(xe){var tt=st(xe).claims;return!!tt&&"object"==typeof tt&&tt.hasOwnProperty("iat")},Vt=function(xe){var De=st(xe).claims;return"object"==typeof De&&!0===De.admin};function Xe(xe,De){return Object.prototype.hasOwnProperty.call(xe,De)}function mn(xe,De){if(Object.prototype.hasOwnProperty.call(xe,De))return xe[De]}function Zt(xe){for(var De in xe)if(Object.prototype.hasOwnProperty.call(xe,De))return!1;return!0}function Vn(xe,De,tt){var ce={};for(var ge in xe)Object.prototype.hasOwnProperty.call(xe,ge)&&(ce[ge]=De.call(tt,xe[ge],ge,xe));return ce}function In(xe,De){if(xe===De)return!0;for(var tt=Object.keys(xe),ce=Object.keys(De),ge=0,$e=tt;ge<$e.length;ge++){if(!ce.includes(ct=$e[ge]))return!1;var Et=xe[ct],Bt=De[ct];if(Un(Et)&&Un(Bt)){if(!In(Et,Bt))return!1}else if(Et!==Bt)return!1}for(var sn=0,kn=ce;sn<kn.length;sn++){var ct;if(!tt.includes(ct=kn[sn]))return!1}return!0}function Un(xe){return null!==xe&&"object"==typeof xe}function nr(xe){for(var De=[],tt=function(Bt,sn){Array.isArray(sn)?sn.forEach(function(kn){De.push(encodeURIComponent(Bt)+"="+encodeURIComponent(kn))}):De.push(encodeURIComponent(Bt)+"="+encodeURIComponent(sn))},ce=0,ge=Object.entries(xe);ce<ge.length;ce++){var $e=ge[ce];tt($e[0],$e[1])}return De.length?"&"+De.join("&"):""}function Pn(xe){var De={};return xe.replace(/^\?/,"").split("&").forEach(function(ce){if(ce){var ge=ce.split("="),ct=ge[1];De[decodeURIComponent(ge[0])]=decodeURIComponent(ct)}}),De}function _n(xe){var De=xe.indexOf("?");if(!De)return"";var tt=xe.indexOf("#",De);return xe.substring(De,tt>0?tt:void 0)}var rr=function(){function xe(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var De=1;De<this.blockSize;++De)this.pad_[De]=0;this.reset()}return xe.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},xe.prototype.compress_=function(De,tt){tt||(tt=0);var ce=this.W_;if("string"==typeof De)for(var ge=0;ge<16;ge++)ce[ge]=De.charCodeAt(tt)<<24|De.charCodeAt(tt+1)<<16|De.charCodeAt(tt+2)<<8|De.charCodeAt(tt+3),tt+=4;else for(ge=0;ge<16;ge++)ce[ge]=De[tt]<<24|De[tt+1]<<16|De[tt+2]<<8|De[tt+3],tt+=4;for(ge=16;ge<80;ge++)ce[ge]=4294967295&(($e=ce[ge-3]^ce[ge-8]^ce[ge-14]^ce[ge-16])<<1|$e>>>31);var Xn,jn,ct=this.chain_[0],Et=this.chain_[1],Bt=this.chain_[2],sn=this.chain_[3],kn=this.chain_[4];for(ge=0;ge<80;ge++){ge<40?ge<20?(Xn=sn^Et&(Bt^sn),jn=1518500249):(Xn=Et^Bt^sn,jn=1859775393):ge<60?(Xn=Et&Bt|sn&(Et|Bt),jn=2400959708):(Xn=Et^Bt^sn,jn=3395469782);var $e=(ct<<5|ct>>>27)+Xn+kn+jn+ce[ge]&4294967295;kn=sn,sn=Bt,Bt=4294967295&(Et<<30|Et>>>2),Et=ct,ct=$e}this.chain_[0]=this.chain_[0]+ct&4294967295,this.chain_[1]=this.chain_[1]+Et&4294967295,this.chain_[2]=this.chain_[2]+Bt&4294967295,this.chain_[3]=this.chain_[3]+sn&4294967295,this.chain_[4]=this.chain_[4]+kn&4294967295},xe.prototype.update=function(De,tt){if(null!=De){void 0===tt&&(tt=De.length);for(var ce=tt-this.blockSize,ge=0,$e=this.buf_,ct=this.inbuf_;ge<tt;){if(0===ct)for(;ge<=ce;)this.compress_(De,ge),ge+=this.blockSize;if("string"==typeof De){for(;ge<tt;)if($e[ct]=De.charCodeAt(ge),++ge,++ct===this.blockSize){this.compress_($e),ct=0;break}}else for(;ge<tt;)if($e[ct]=De[ge],++ge,++ct===this.blockSize){this.compress_($e),ct=0;break}}this.inbuf_=ct,this.total_+=tt}},xe.prototype.digest=function(){var De=[],tt=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var ce=this.blockSize-1;ce>=56;ce--)this.buf_[ce]=255&tt,tt/=256;this.compress_(this.buf_);var ge=0;for(ce=0;ce<5;ce++)for(var $e=24;$e>=0;$e-=8)De[ge]=this.chain_[ce]>>$e&255,++ge;return De},xe}();function Kn(xe,De){var tt=new lr(xe,De);return tt.subscribe.bind(tt)}var lr=function(){function xe(De,tt){var ce=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=tt,this.task.then(function(){De(ce)}).catch(function(ge){ce.error(ge)})}return xe.prototype.next=function(De){this.forEachObserver(function(tt){tt.next(De)})},xe.prototype.error=function(De){this.forEachObserver(function(tt){tt.error(De)}),this.close(De)},xe.prototype.complete=function(){this.forEachObserver(function(De){De.complete()}),this.close()},xe.prototype.subscribe=function(De,tt,ce){var $e,ge=this;if(void 0===De&&void 0===tt&&void 0===ce)throw new Error("Missing Observer.");$e=function or(xe,De){if("object"!=typeof xe||null===xe)return!1;for(var tt=0,ce=De;tt<ce.length;tt++){var ge=ce[tt];if(ge in xe&&"function"==typeof xe[ge])return!0}return!1}(De,["next","error","complete"])?De:{next:De,error:tt,complete:ce},void 0===$e.next&&($e.next=Hr),void 0===$e.error&&($e.error=Hr),void 0===$e.complete&&($e.complete=Hr);var ct=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{ge.finalError?$e.error(ge.finalError):$e.complete()}catch(Et){}}),this.observers.push($e),ct},xe.prototype.unsubscribeOne=function(De){void 0===this.observers||void 0===this.observers[De]||(delete this.observers[De],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},xe.prototype.forEachObserver=function(De){if(!this.finalized)for(var tt=0;tt<this.observers.length;tt++)this.sendOne(tt,De)},xe.prototype.sendOne=function(De,tt){var ce=this;this.task.then(function(){if(void 0!==ce.observers&&void 0!==ce.observers[De])try{tt(ce.observers[De])}catch(ge){"undefined"!=typeof console&&console.error&&console.error(ge)}})},xe.prototype.close=function(De){var tt=this;this.finalized||(this.finalized=!0,void 0!==De&&(this.finalError=De),this.task.then(function(){tt.observers=void 0,tt.onNoObservers=void 0}))},xe}();function Dr(xe,De){return function(){for(var tt=[],ce=0;ce<arguments.length;ce++)tt[ce]=arguments[ce];Promise.resolve(!0).then(function(){xe.apply(void 0,tt)}).catch(function(ge){De&&De(ge)})}}function Hr(){}var gi=function(xe,De,tt,ce){var ge;if(ce<De?ge="at least "+De:ce>tt&&(ge=0===tt?"none":"no more than "+tt),ge)throw new Error(xe+" failed: Was called with "+ce+(1===ce?" argument.":" arguments.")+" Expects "+ge+".")};function Ci(xe,De){return xe+" failed: "+De+" argument "}function mi(xe,De,tt){if((!tt||De)&&"string"!=typeof De)throw new Error(Ci(xe,"namespace")+"must be a valid firebase namespace.")}function gn(xe,De,tt,ce){if((!ce||tt)&&"function"!=typeof tt)throw new Error(Ci(xe,De)+"must be a valid function.")}function An(xe,De,tt,ce){if((!ce||tt)&&("object"!=typeof tt||null===tt))throw new Error(Ci(xe,De)+"must be a valid context object.")}var Wn=function(xe){for(var De=[],tt=0,ce=0;ce<xe.length;ce++){var ge=xe.charCodeAt(ce);if(ge>=55296&&ge<=56319){var $e=ge-55296;ce++,$(ce<xe.length,"Surrogate pair missing trail surrogate."),ge=65536+($e<<10)+(xe.charCodeAt(ce)-56320)}ge<128?De[tt++]=ge:ge<2048?(De[tt++]=ge>>6|192,De[tt++]=63&ge|128):ge<65536?(De[tt++]=ge>>12|224,De[tt++]=ge>>6&63|128,De[tt++]=63&ge|128):(De[tt++]=ge>>18|240,De[tt++]=ge>>12&63|128,De[tt++]=ge>>6&63|128,De[tt++]=63&ge|128)}return De},wt=function(xe){for(var De=0,tt=0;tt<xe.length;tt++){var ce=xe.charCodeAt(tt);ce<128?De++:ce<2048?De+=2:ce>=55296&&ce<=56319?(De+=4,tt++):De+=3}return De},Zr=144e5,ur=.5;function Wi(xe,De,tt){void 0===De&&(De=1e3),void 0===tt&&(tt=2);var ce=De*Math.pow(tt,xe),ge=Math.round(ur*ce*(Math.random()-.5)*2);return Math.min(Zr,ce+ge)}function er(xe){return Number.isFinite(xe)?xe+function Yr(xe){var De=(xe=Math.abs(xe))%100;if(De>=10&&De<=20)return"th";var tt=xe%10;return 1===tt?"st":2===tt?"nd":3===tt?"rd":"th"}(xe):""+xe}function Sr(xe){return xe&&xe._delegate?xe._delegate:xe}},9537:(Sn,Lt,de)=>{"use strict";de.d(Lt,{dr:()=>Zr,W2:()=>Xn,Gu:()=>V,gu:()=>un,jP:()=>qi,Pc:()=>dn,r4:()=>ne,t4:()=>ha});var g=de(2096),$=(de(4182),de(655)),je=de(2916),nt=de(6688),it=de(7043),Qe=de(4850);function ke(C,G,E,U){return(0,it.m)(E)&&(U=E,E=void 0),U?ke(C,G,E).pipe((0,Qe.U)(oe=>(0,nt.k)(oe)?U(...oe):U(oe))):new je.y(oe=>{fe(C,G,function Ct(Xt){oe.next(arguments.length>1?Array.prototype.slice.call(arguments):Xt)},oe,E)})}function fe(C,G,E,U,oe){let Ct;if(function ae(C){return C&&"function"==typeof C.addEventListener&&"function"==typeof C.removeEventListener}(C)){const Xt=C;C.addEventListener(G,E,oe),Ct=()=>Xt.removeEventListener(G,E,oe)}else if(function ve(C){return C&&"function"==typeof C.on&&"function"==typeof C.off}(C)){const Xt=C;C.on(G,E),Ct=()=>Xt.off(G,E)}else if(function Ee(C){return C&&"function"==typeof C.addListener&&"function"==typeof C.removeListener}(C)){const Xt=C;C.addListener(G,E),Ct=()=>Xt.removeListener(G,E)}else{if(!C||!C.length)throw new TypeError("Invalid event target");for(let Xt=0,dt=C.length;Xt<dt;Xt++)fe(C[Xt],G,E,U,oe)}U.add(Ct)}var ye=de(5529),qe=de(591),he=de(501),et=(de(5797),de(6409),de(1363),de(8686)),bt=de(206),Pe=de(358),Pt=(de(5970),de(3986)),Ft=(de(2733),de(2361)),Ye=de(3489);class Yt{constructor(G,E){this.compare=G,this.keySelector=E}call(G,E){return E.subscribe(new pt(G,this.compare,this.keySelector))}}class pt extends Ye.L{constructor(G,E,U){super(G),this.keySelector=U,this.hasKey=!1,"function"==typeof E&&(this.compare=E)}compare(G,E){return G===E}_next(G){let E;try{const{keySelector:oe}=this;E=oe?oe(G):G}catch(oe){return this.destination.error(oe)}let U=!1;if(this.hasKey)try{const{compare:oe}=this;U=oe(this.key,E)}catch(oe){return this.destination.error(oe)}else this.hasKey=!0;U||(this.key=E,this.destination.next(G))}}var ot=de(2198),ht=de(7545),st=de(9808);const ft=et.i,Xe=["*"],nr=C=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(C):"function"==typeof requestAnimationFrame?requestAnimationFrame(C):setTimeout(C),mi=(C,G)=>{const E=C.prototype;G.forEach(U=>{Object.defineProperty(E,U,{get(){return this.el[U]},set(oe){this.z.runOutsideAngular(()=>this.el[U]=oe)}})})},gn=(C,G)=>{const E=C.prototype;G.forEach(U=>{E[U]=function(){const oe=arguments;return this.z.runOutsideAngular(()=>this.el[U].apply(this.el,oe))}})};function wt(C){return function(E){const{defineCustomElementFn:U,inputs:oe,methods:Ct}=C;return void 0!==U&&U(),oe&&mi(E,oe),Ct&&gn(E,Ct),E}}let Zr=(()=>{let C=class{constructor(E,U,oe){this.z=oe,E.detach(),this.el=U.nativeElement}};return C.\u0275fac=function(E){return new(E||C)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},C.\u0275cmp=g.Xpm({type:C,selectors:[["ion-app"]],ngContentSelectors:Xe,decls:1,vars:0,template:function(E,U){1&E&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,$.__decorate)([wt({defineCustomElementFn:void 0})],C),C})(),Xn=(()=>{let C=class{constructor(E,U,oe){this.z=oe,E.detach(),this.el=U.nativeElement,((C,G,E)=>{E.forEach(U=>C[U]=ke(G,U))})(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return C.\u0275fac=function(E){return new(E||C)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},C.\u0275cmp=g.Xpm({type:C,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Xe,decls:1,vars:0,template:function(E,U){1&E&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,$.__decorate)([wt({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],C),C})(),V=(()=>{let C=class{constructor(E,U,oe){this.z=oe,E.detach(),this.el=U.nativeElement}};return C.\u0275fac=function(E){return new(E||C)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},C.\u0275cmp=g.Xpm({type:C,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Xe,decls:1,vars:0,template:function(E,U){1&E&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,$.__decorate)([wt({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],C),C})(),un=(()=>{let C=class{constructor(E,U,oe){this.z=oe,E.detach(),this.el=U.nativeElement}};return C.\u0275fac=function(E){return new(E||C)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},C.\u0275cmp=g.Xpm({type:C,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Xe,decls:1,vars:0,template:function(E,U){1&E&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),C=(0,$.__decorate)([wt({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],C),C})();class ps{constructor(G={}){this.data=G}get(G){return this.data[G]}}let Ko=(()=>{class C{constructor(E,U){this.zone=E,this.appRef=U}create(E,U,oe){return new la(E,U,oe,this.appRef,this.zone)}}return C.\u0275fac=function(E){return new(E||C)(g.LFG(g.R0b),g.LFG(g.z2F))},C.\u0275prov=g.Yz7({token:C,factory:C.\u0275fac}),C})();class la{constructor(G,E,U,oe,Ct){this.resolver=G,this.injector=E,this.location=U,this.appRef=oe,this.zone=Ct,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(G,E,U,oe){return this.zone.run(()=>new Promise(Ct=>{Ct(fa(this.zone,this.resolver,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,G,E,U,oe))}))}removeViewFromDom(G,E){return this.zone.run(()=>new Promise(U=>{const oe=this.elRefMap.get(E);if(oe){oe.destroy(),this.elRefMap.delete(E);const Ct=this.elEventsMap.get(E);Ct&&(Ct(),this.elEventsMap.delete(E))}U()}))}}const fa=(C,G,E,U,oe,Ct,Xt,dt,Jt,Gr,cr)=>{const ei=G.resolveComponentFactory(Jt),li=g.zs3.create({providers:Io(Gr),parent:E}),bi=U?U.createComponent(ei,U.length,li):ei.create(li),Bo=bi.instance,uo=bi.location.nativeElement;if(Gr&&Object.assign(Bo,Gr),cr)for(const qs of cr)uo.classList.add(qs);const Aa=Co(C,Bo,uo);return dt.appendChild(uo),U||oe.attachView(bi.hostView),bi.changeDetectorRef.reattach(),Ct.set(uo,bi),Xt.set(uo,Aa),uo},Hs=[Pe.L,Pe.a,Pe.b,Pe.c,Pe.d],Co=(C,G,E)=>C.run(()=>{const U=Hs.filter(oe=>"function"==typeof G[oe]).map(oe=>{const Ct=Xt=>G[oe](Xt.detail);return E.addEventListener(oe,Ct),()=>E.removeEventListener(oe,Ct)});return()=>U.forEach(oe=>oe())}),$n=new g.OlP("NavParamsToken"),Io=C=>[{provide:$n,useValue:C},{provide:ps,useFactory:gs,deps:[$n]}],gs=C=>new ps(C),Vr=(C,G)=>((C=C.filter(E=>E.stackId!==G.stackId)).push(G),C),Xo=(C,G)=>{const E=C.createUrlTree(["."],{relativeTo:G});return C.serializeUrl(E)},Gs=(C,G)=>{if(!C)return;const E=Xi(G);for(let U=0;U<E.length;U++){if(U>=C.length)return E[U];if(E[U]!==C[U])return}},Xi=C=>C.split("/").map(G=>G.trim()).filter(G=>""!==G),Qi=C=>{C&&(C.ref.destroy(),C.unlistenEvents())};class da{constructor(G,E,U,oe,Ct,Xt){this.containerEl=E,this.router=U,this.navCtrl=oe,this.zone=Ct,this.location=Xt,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==G?Xi(G):void 0}createView(G,E){var U;const oe=Xo(this.router,E),Ct=null===(U=null==G?void 0:G.location)||void 0===U?void 0:U.nativeElement,Xt=Co(this.zone,G.instance,Ct);return{id:this.nextId++,stackId:Gs(this.tabsPrefix,oe),unlistenEvents:Xt,element:Ct,ref:G,url:oe}}getExistingView(G){const E=Xo(this.router,G),U=this.views.find(oe=>oe.url===E);return U&&U.ref.changeDetectorRef.reattach(),U}setActive(G){var E,U;const oe=this.navCtrl.consumeTransition();let{direction:Ct,animation:Xt,animationBuilder:dt}=oe;const Jt=this.activeView,Gr=((C,G)=>!G||C.stackId!==G.stackId)(G,Jt);Gr&&(Ct="back",Xt=void 0);const cr=this.views.slice();let ei;const li=this.router;li.getCurrentNavigation?ei=li.getCurrentNavigation():(null===(E=li.navigations)||void 0===E?void 0:E.value)&&(ei=li.navigations.value),(null===(U=null==ei?void 0:ei.extras)||void 0===U?void 0:U.replaceUrl)&&this.views.length>0&&this.views.splice(-1,1);const bi=this.views.includes(G),Bo=this.insertView(G,Ct);bi||G.ref.changeDetectorRef.detectChanges();const uo=G.animationBuilder;return void 0===dt&&"back"===Ct&&!Gr&&void 0!==uo&&(dt=uo),Jt&&(Jt.animationBuilder=dt),this.zone.runOutsideAngular(()=>this.wait(()=>(Jt&&Jt.ref.changeDetectorRef.detach(),G.ref.changeDetectorRef.reattach(),this.transition(G,Jt,Xt,this.canGoBack(1),!1,dt).then(()=>ks(G,Bo,cr,this.location,this.zone)).then(()=>({enteringView:G,direction:Ct,animation:Xt,tabSwitch:Gr})))))}canGoBack(G,E=this.getActiveStackId()){return this.getStack(E).length>G}pop(G,E=this.getActiveStackId()){return this.zone.run(()=>{var U,oe;const Ct=this.getStack(E);if(Ct.length<=G)return Promise.resolve(!1);const Xt=Ct[Ct.length-G-1];let dt=Xt.url;const Jt=Xt.savedData;if(Jt){const cr=Jt.get("primary");(null===(oe=null===(U=null==cr?void 0:cr.route)||void 0===U?void 0:U._routerState)||void 0===oe?void 0:oe.snapshot.url)&&(dt=cr.route._routerState.snapshot.url)}const{animationBuilder:Gr}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(dt,Object.assign(Object.assign({},Xt.savedExtras),{animation:Gr})).then(()=>!0)})}startBackTransition(){const G=this.activeView;if(G){const E=this.getStack(G.stackId),U=E[E.length-2],oe=U.animationBuilder;return this.wait(()=>this.transition(U,G,"back",this.canGoBack(2),!0,oe))}return Promise.resolve()}endBackTransition(G){G?(this.skipTransition=!0,this.pop(1)):this.activeView&&ms(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(G){const E=this.getStack(G);return E.length>0?E[E.length-1]:void 0}getRootUrl(G){const E=this.getStack(G);return E.length>0?E[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Qi),this.activeView=void 0,this.views=[]}getStack(G){return this.views.filter(E=>E.stackId===G)}insertView(G,E){return this.activeView=G,this.views=((C,G,E)=>"root"===E?Vr(C,G):"forward"===E?((C,G)=>(C.indexOf(G)>=0?C=C.filter(U=>U.stackId!==G.stackId||U.id<=G.id):C.push(G),C))(C,G):((C,G)=>C.indexOf(G)>=0?C.filter(U=>U.stackId!==G.stackId||U.id<=G.id):Vr(C,G))(C,G))(this.views,G,E),this.views.slice()}transition(G,E,U,oe,Ct,Xt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(E===G)return Promise.resolve(!1);const dt=G?G.element:void 0,Jt=E?E.element:void 0,Gr=this.containerEl;return dt&&dt!==Jt&&(dt.classList.add("ion-page"),dt.classList.add("ion-page-invisible"),dt.parentElement!==Gr&&Gr.appendChild(dt),Gr.commit)?Gr.commit(dt,Jt,{deepWait:!0,duration:void 0===U?0:void 0,direction:U,showGoBack:oe,progressAnimation:Ct,animationBuilder:Xt}):Promise.resolve(!1)}wait(G){return(0,$.__awaiter)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const E=this.runningTask=G();return E.finally(()=>this.runningTask=void 0),E})}}const ks=(C,G,E,U,oe)=>"function"==typeof requestAnimationFrame?new Promise(Ct=>{requestAnimationFrame(()=>{ms(C,G,E,U,oe),Ct()})}):Promise.resolve(),ms=(C,G,E,U,oe)=>{oe.run(()=>E.filter(Ct=>!G.includes(Ct)).forEach(Qi)),G.forEach(Ct=>{const dt=U.path().split("?")[0].split("#")[0];if(Ct!==C&&Ct.url!==dt){const Jt=Ct.element;Jt.setAttribute("aria-hidden","true"),Jt.classList.add("ion-page-hidden"),Ct.ref.changeDetectorRef.detach()}})};let Vi=(()=>{class C{get(E,U){const oe=Do();return oe?oe.get(E,U):null}getBoolean(E,U){const oe=Do();return!!oe&&oe.getBoolean(E,U)}getNumber(E,U){const oe=Do();return oe?oe.getNumber(E,U):0}}return C.\u0275fac=function(E){return new(E||C)},C.\u0275prov=g.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();const Qo=new g.OlP("USERCONFIG"),Do=()=>{if("undefined"!=typeof window){const C=window.Ionic;if(null==C?void 0:C.config)return C.config}return null};let ha=(()=>{class C{constructor(E,U){this.doc=E,this.backButton=new ye.xQ,this.keyboardDidShow=new ye.xQ,this.keyboardDidHide=new ye.xQ,this.pause=new ye.xQ,this.resume=new ye.xQ,this.resize=new ye.xQ,U.run(()=>{var oe;let Ct;this.win=E.defaultView,this.backButton.subscribeWithPriority=function(Xt,dt){return this.subscribe(Jt=>Jt.register(Xt,Gr=>U.run(()=>dt(Gr))))},mo(this.pause,E,"pause"),mo(this.resume,E,"resume"),mo(this.backButton,E,"ionBackButton"),mo(this.resize,this.win,"resize"),mo(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),mo(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(Xt=>{Ct=Xt}),(null===(oe=this.win)||void 0===oe?void 0:oe.cordova)?E.addEventListener("deviceready",()=>{Ct("cordova")},{once:!0}):Ct("dom")})}is(E){return(0,et.a)(this.win,E)}platforms(){return(0,et.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(E){return Os(this.win.location.href,E)}isLandscape(){return!this.isPortrait()}isPortrait(){var E,U;return null===(U=(E=this.win).matchMedia)||void 0===U?void 0:U.call(E,"(orientation: portrait)").matches}testUserAgent(E){const U=this.win.navigator;return!!((null==U?void 0:U.userAgent)&&U.userAgent.indexOf(E)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return C.\u0275fac=function(E){return new(E||C)(g.LFG(st.K0),g.LFG(g.R0b))},C.\u0275prov=g.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();const Os=(C,G)=>{G=G.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");const U=new RegExp("[\\?&]"+G+"=([^&#]*)").exec(C);return U?decodeURIComponent(U[1].replace(/\+/g," ")):null},mo=(C,G,E)=>{G&&G.addEventListener(E,U=>{C.next(null!=U?U.detail:void 0)})};let To=(()=>{class C{constructor(E,U,oe,Ct){this.location=U,this.serializer=oe,this.router=Ct,this.direction=pa,this.animated=Jo,this.guessDirection="forward",this.lastNavId=-1,Ct&&Ct.events.subscribe(Xt=>{if(Xt instanceof he.OD){const dt=Xt.restoredState?Xt.restoredState.navigationId:Xt.id;this.guessDirection=dt<this.lastNavId?"back":"forward",this.guessAnimation=Xt.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?Xt.id:dt}}),E.backButton.subscribeWithPriority(0,Xt=>{this.pop(),Xt()})}navigateForward(E,U={}){return this.setDirection("forward",U.animated,U.animationDirection,U.animation),this.navigate(E,U)}navigateBack(E,U={}){return this.setDirection("back",U.animated,U.animationDirection,U.animation),this.navigate(E,U)}navigateRoot(E,U={}){return this.setDirection("root",U.animated,U.animationDirection,U.animation),this.navigate(E,U)}back(E={animated:!0,animationDirection:"back"}){return this.setDirection("back",E.animated,E.animationDirection,E.animation),this.location.back()}pop(){return(0,$.__awaiter)(this,void 0,void 0,function*(){let E=this.topOutlet;for(;E&&!(yield E.pop());)E=E.parentOutlet})}setDirection(E,U,oe,Ct){this.direction=E,this.animated=pr(E,U,oe),this.animationBuilder=Ct}setTopOutlet(E){this.topOutlet=E}consumeTransition(){let U,E="root";const oe=this.animationBuilder;return"auto"===this.direction?(E=this.guessDirection,U=this.guessAnimation):(U=this.animated,E=this.direction),this.direction=pa,this.animated=Jo,this.animationBuilder=void 0,{direction:E,animation:U,animationBuilder:oe}}navigate(E,U){if(Array.isArray(E))return this.router.navigate(E,U);{const oe=this.serializer.parse(E.toString());return void 0!==U.queryParams&&(oe.queryParams=Object.assign({},U.queryParams)),void 0!==U.fragment&&(oe.fragment=U.fragment),this.router.navigateByUrl(oe,U)}}}return C.\u0275fac=function(E){return new(E||C)(g.LFG(ha),g.LFG(st.Ye),g.LFG(he.Hx),g.LFG(he.F0,8))},C.\u0275prov=g.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();const pr=(C,G,E)=>{if(!1!==G){if(void 0!==E)return E;if("forward"===C||"back"===C)return C;if("root"===C&&!0===G)return"forward"}},pa="auto",Jo=void 0;let qi=(()=>{class C{constructor(E,U,oe,Ct,Xt,dt,Jt,Gr,cr,ei,li,bi,Bo){this.parentContexts=E,this.location=U,this.resolver=oe,this.config=dt,this.navCtrl=Jt,this.parentOutlet=Bo,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new qe.X(null),this.stackEvents=new g.vpe,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.nativeEl=cr.nativeElement,this.name=Ct||he.eC,this.tabsPrefix="true"===Xt?Xo(ei,bi):void 0,this.stackCtrl=new da(this.tabsPrefix,this.nativeEl,ei,Jt,li,Gr),E.onChildOutletCreated(this.name,this)}set animation(E){this.nativeEl.animation=E}set animated(E){this.nativeEl.animated=E}set swipeGesture(E){this._swipeGesture=E,this.nativeEl.swipeHandler=E?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:U=>this.stackCtrl.endBackTransition(U)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const E=this.getContext();(null==E?void 0:E.route)&&this.activateWith(E.route,E.resolver||null)}new Promise(E=>(0,bt.c)(this.nativeEl,E)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(E,U){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const U=this.getContext();this.activatedView.savedData=new Map(U.children.contexts);const oe=this.activatedView.savedData.get("primary");if(oe&&U.route&&(oe.route=Object.assign({},U.route)),this.activatedView.savedExtras={},U.route){const Ct=U.route.snapshot;this.activatedView.savedExtras.queryParams=Ct.queryParams,this.activatedView.savedExtras.fragment=Ct.fragment}}const E=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,U){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=E;let oe,Ct=this.stackCtrl.getExistingView(E);if(Ct){oe=this.activated=Ct.ref;const Xt=Ct.savedData;Xt&&(this.getContext().children.contexts=Xt),this.updateActivatedRouteProxy(oe.instance,E)}else{const Jt=(U=U||this.resolver).resolveComponentFactory(E._futureSnapshot.routeConfig.component),Gr=this.parentContexts.getOrCreateContext(this.name).children,cr=new qe.X(null),ei=this.createActivatedRouteProxy(cr,E),li=new Mi(ei,Gr,this.location.injector);oe=this.activated=this.location.createComponent(Jt,this.location.length,li),cr.next(oe.instance),Ct=this.stackCtrl.createView(this.activated,E),this.proxyMap.set(oe.instance,ei),this.currentActivatedRoute$.next({component:oe.instance,activatedRoute:E})}this.activatedView=Ct,this.stackCtrl.setActive(Ct).then(Xt=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(oe.instance),this.stackEvents.emit(Xt)})}canGoBack(E=1,U){return this.stackCtrl.canGoBack(E,U)}pop(E=1,U){return this.stackCtrl.pop(E,U)}getLastUrl(E){const U=this.stackCtrl.getLastUrl(E);return U?U.url:void 0}getLastRouteView(E){return this.stackCtrl.getLastUrl(E)}getRootView(E){return this.stackCtrl.getRootUrl(E)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(E,U){const oe=new he.gz;return oe._futureSnapshot=U._futureSnapshot,oe._routerState=U._routerState,oe.snapshot=U.snapshot,oe.outlet=U.outlet,oe.component=U.component,oe._paramMap=this.proxyObservable(E,"paramMap"),oe._queryParamMap=this.proxyObservable(E,"queryParamMap"),oe.url=this.proxyObservable(E,"url"),oe.params=this.proxyObservable(E,"params"),oe.queryParams=this.proxyObservable(E,"queryParams"),oe.fragment=this.proxyObservable(E,"fragment"),oe.data=this.proxyObservable(E,"data"),oe}proxyObservable(E,U){return E.pipe((0,ot.h)(oe=>!!oe),(0,ht.w)(oe=>this.currentActivatedRoute$.pipe((0,ot.h)(Ct=>null!==Ct&&Ct.component===oe),(0,ht.w)(Ct=>Ct&&Ct.activatedRoute[U]),function Gt(C,G){return E=>E.lift(new Yt(C,G))}())))}updateActivatedRouteProxy(E,U){const oe=this.proxyMap.get(E);if(!oe)throw new Error("Could not find activated route proxy for view");oe._futureSnapshot=U._futureSnapshot,oe._routerState=U._routerState,oe.snapshot=U.snapshot,oe.outlet=U.outlet,oe.component=U.component,this.currentActivatedRoute$.next({component:E,activatedRoute:U})}}return C.\u0275fac=function(E){return new(E||C)(g.Y36(he.y6),g.Y36(g.s_b),g.Y36(g._Vd),g.$8M("name"),g.$8M("tabs"),g.Y36(Vi),g.Y36(To),g.Y36(st.Ye),g.Y36(g.SBq),g.Y36(he.F0),g.Y36(g.R0b),g.Y36(he.gz),g.Y36(C,12))},C.\u0275dir=g.lG2({type:C,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),C})();class Mi{constructor(G,E,U){this.route=G,this.childContexts=E,this.parent=U}get(G,E){return G===he.gz?this.route:G===he.y6?this.childContexts:this.parent.get(G,E)}}class Cr{constructor(G){this.ctrl=G}create(G){return this.ctrl.create(G||{})}dismiss(G,E,U){return this.ctrl.dismiss(G,E,U)}getTop(){return this.ctrl.getTop()}}let Zo=(()=>{class C extends Cr{constructor(E,U,oe){super(Pt.m),this.angularDelegate=E,this.resolver=U,this.injector=oe}create(E){return super.create(Object.assign(Object.assign({},E),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return C.\u0275fac=function(E){return new(E||C)(g.LFG(Ko),g.LFG(g._Vd),g.LFG(g.zs3))},C.\u0275prov=g.Yz7({token:C,factory:C.\u0275fac}),C})(),vo=(()=>{class C extends Cr{constructor(E,U,oe){super(Pt.c),this.angularDelegate=E,this.resolver=U,this.injector=oe}create(E){return super.create(Object.assign(Object.assign({},E),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return C.\u0275fac=function(E){return new(E||C)(g.LFG(Ko),g.LFG(g._Vd),g.LFG(g.zs3))},C.\u0275prov=g.Yz7({token:C,factory:C.\u0275fac}),C})();class ne{shouldDetach(G){return!1}shouldAttach(G){return!1}store(G,E){}retrieve(G){return null}shouldReuseRoute(G,E){if(G.routeConfig!==E.routeConfig)return!1;const U=G.params,oe=E.params,Ct=Object.keys(U),Xt=Object.keys(oe);if(Ct.length!==Xt.length)return!1;for(const dt of Ct)if(oe[dt]!==U[dt])return!1;return!0}}const Rt=(C,G,E)=>()=>{if(G.defaultView&&"undefined"!=typeof window){(C=>{const G=window,E=G.Ionic;E&&E.config&&"Object"!==E.config.constructor.name||(G.Ionic=G.Ionic||{},G.Ionic.config=Object.assign(Object.assign({},G.Ionic.config),C))})(Object.assign(Object.assign({},C),{_zoneGate:Ct=>E.run(Ct)}));const oe="__zone_symbol__addEventListener"in G.body?"__zone_symbol__addEventListener":"addEventListener";return function Je(){var C=[];if("undefined"!=typeof window){var G=window;(!G.customElements||G.Element&&(!G.Element.prototype.closest||!G.Element.prototype.matches||!G.Element.prototype.remove||!G.Element.prototype.getRootNode))&&C.push(de.e(6748).then(de.t.bind(de,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||G.NodeList&&!G.NodeList.prototype.forEach||!G.fetch||!function(){try{var U=new URL("b","http://a");return U.pathname="c%20d","http://a/c%20d"===U.href&&U.searchParams}catch(oe){return!1}}()||"undefined"==typeof WeakMap)&&C.push(de.e(2214).then(de.t.bind(de,4144,23)))}return Promise.all(C)}().then(()=>((C,G)=>"undefined"==typeof window?Promise.resolve():(0,Ft.p)().then(()=>(ft(),(0,Ft.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal"]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),G))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:nr,jmp:Ct=>E.runOutsideAngular(Ct),ael(Ct,Xt,dt,Jt){Ct[oe](Xt,dt,Jt)},rel(Ct,Xt,dt,Jt){Ct.removeEventListener(Xt,dt,Jt)}}))}};let dn=(()=>{class C{static forRoot(E){return{ngModule:C,providers:[{provide:Qo,useValue:E},{provide:g.ip1,useFactory:Rt,multi:!0,deps:[Qo,st.K0,g.R0b]}]}}}return C.\u0275fac=function(E){return new(E||C)},C.\u0275mod=g.oAB({type:C}),C.\u0275inj=g.cJS({providers:[Ko,Zo,vo],imports:[[st.ez]]}),C})()},6304:(Sn,Lt,de)=>{"use strict";de.d(Lt,{c:()=>qe});var g=de(206);let Ae;const je=he=>he.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nt=he=>{if(void 0===Ae){const Ve=void 0!==he.style.webkitAnimationName;Ae=void 0===he.style.animationName&&Ve?"-webkit-":""}return Ae},it=(he,Me,Ve)=>{const rt=Me.startsWith("animation")?nt(he):"";he.style.setProperty(rt+Me,Ve)},Qe=(he,Me)=>{const Ve=Me.startsWith("animation")?nt(he):"";he.style.removeProperty(Ve+Me)},fe=[],ye=(he=[],Me)=>{if(void 0!==Me){const Ve=Array.isArray(Me)?Me:[Me];return[...he,...Ve]}return he},qe=he=>{let Me,Ve,rt,et,bt,Pe,We,pt,ot,ht,st,Vt,Xe,Ke=[],Pt=[],at=[],Ft=!1,Ge={},Re=[],Ie=[],Ue={},Ye=0,Gt=!1,Yt=!1,Je=!0,ft=!1,vt=!0;const mn=he,Zt=[],Vn=[],In=[],Un=[],nr=[],Pn=[],_n=[],rr=[],Kn=[],lr=[],Dr="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,or="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Dr,gi=()=>lr,An=(ie,we)=>((we&&we.oneTimeCallback?Vn:Zt).push({c:ie,o:we}),Xe),wt=()=>{if(or)lr.forEach(ie=>{ie.cancel()}),lr.length=0;else{const ie=In.slice();(0,g.r)(()=>{ie.forEach(we=>{Qe(we,"animation-name"),Qe(we,"animation-duration"),Qe(we,"animation-timing-function"),Qe(we,"animation-iteration-count"),Qe(we,"animation-delay"),Qe(we,"animation-play-state"),Qe(we,"animation-fill-mode"),Qe(we,"animation-direction")})})}},Mn=()=>{nr.forEach(ie=>{ie&&ie.parentNode&&ie.parentNode.removeChild(ie)}),nr.length=0},$e=()=>void 0!==bt?bt:We?We.getFill():"both",ct=()=>void 0!==ot?ot:void 0!==Pe?Pe:We?We.getDirection():"normal",Et=()=>Gt?"linear":void 0!==rt?rt:We?We.getEasing():"linear",Bt=()=>Yt?0:void 0!==ht?ht:void 0!==Ve?Ve:We?We.getDuration():0,sn=()=>void 0!==et?et:We?We.getIterations():1,kn=()=>void 0!==st?st:void 0!==Me?Me:We?We.getDelay():0,qt=()=>{0!==Ye&&(Ye--,0===Ye&&((()=>{sr(),rr.forEach(Ze=>Ze()),Kn.forEach(Ze=>Ze());const ie=Je?1:0,we=Re,Ne=Ie,Oe=Ue;In.forEach(Ze=>{const It=Ze.classList;we.forEach(St=>It.add(St)),Ne.forEach(St=>It.remove(St));for(const St in Oe)Oe.hasOwnProperty(St)&&it(Ze,St,Oe[St])}),Zt.forEach(Ze=>Ze.c(ie,Xe)),Vn.forEach(Ze=>Ze.c(ie,Xe)),Vn.length=0,vt=!0,Je&&(ft=!0),Je=!0})(),We&&We.animationFinish()))},Nr=(ie=!0)=>{Mn();const we=(he=>(he.forEach(Me=>{for(const Ve in Me)if(Me.hasOwnProperty(Ve)){const rt=Me[Ve];if("easing"===Ve)Me["animation-timing-function"]=rt,delete Me[Ve];else{const et=je(Ve);et!==Ve&&(Me[et]=rt,delete Me[Ve])}}}),he))(Ke);In.forEach(Ne=>{if(we.length>0){const Oe=((he=[])=>he.map(Me=>{const Ve=Me.offset,rt=[];for(const et in Me)Me.hasOwnProperty(et)&&"offset"!==et&&rt.push(`${et}: ${Me[et]};`);return`${100*Ve}% { ${rt.join(" ")} }`}).join(" "))(we);Vt=void 0!==he?he:(he=>{let Me=fe.indexOf(he);return Me<0&&(Me=fe.push(he)-1),`ion-animation-${Me}`})(Oe);const Ze=((he,Me,Ve)=>{const rt=(he=>{const Me=he.getRootNode();return Me.head||Me})(Ve),et=nt(Ve),bt=rt.querySelector("#"+he);if(bt)return bt;const Pe=(Ve.ownerDocument||document).createElement("style");return Pe.id=he,Pe.textContent=`@${et}keyframes ${he} { ${Me} } @${et}keyframes ${he}-alt { ${Me} }`,rt.appendChild(Pe),Pe})(Vt,Oe,Ne);nr.push(Ze),it(Ne,"animation-duration",`${Bt()}ms`),it(Ne,"animation-timing-function",Et()),it(Ne,"animation-delay",`${kn()}ms`),it(Ne,"animation-fill-mode",$e()),it(Ne,"animation-direction",ct());const It=sn()===1/0?"infinite":sn().toString();it(Ne,"animation-iteration-count",It),it(Ne,"animation-play-state","paused"),ie&&it(Ne,"animation-name",`${Ze.id}-alt`),(0,g.r)(()=>{it(Ne,"animation-name",Ze.id||null)})}})},Mr=(ie=!0)=>{(()=>{Pn.forEach(Oe=>Oe()),_n.forEach(Oe=>Oe());const ie=Pt,we=at,Ne=Ge;In.forEach(Oe=>{const Ze=Oe.classList;ie.forEach(It=>Ze.add(It)),we.forEach(It=>Ze.remove(It));for(const It in Ne)Ne.hasOwnProperty(It)&&it(Oe,It,Ne[It])})})(),Ke.length>0&&(or?(In.forEach(ie=>{const we=ie.animate(Ke,{id:mn,delay:kn(),duration:Bt(),easing:Et(),iterations:sn(),fill:$e(),direction:ct()});we.pause(),lr.push(we)}),lr.length>0&&(lr[0].onfinish=()=>{qt()})):Nr(ie)),Ft=!0},Br=ie=>{if(ie=Math.min(Math.max(ie,0),.9999),or)lr.forEach(we=>{we.currentTime=we.effect.getComputedTiming().delay+Bt()*ie,we.pause()});else{const we=`-${Bt()*ie}ms`;In.forEach(Ne=>{Ke.length>0&&(it(Ne,"animation-delay",we),it(Ne,"animation-play-state","paused"))})}},Yi=ie=>{lr.forEach(we=>{we.effect.updateTiming({delay:kn(),duration:Bt(),easing:Et(),iterations:sn(),fill:$e(),direction:ct()})}),void 0!==ie&&Br(ie)},Tr=(ie=!0,we)=>{(0,g.r)(()=>{In.forEach(Ne=>{it(Ne,"animation-name",Vt||null),it(Ne,"animation-duration",`${Bt()}ms`),it(Ne,"animation-timing-function",Et()),it(Ne,"animation-delay",void 0!==we?`-${we*Bt()}ms`:`${kn()}ms`),it(Ne,"animation-fill-mode",$e()||null),it(Ne,"animation-direction",ct()||null);const Oe=sn()===1/0?"infinite":sn().toString();it(Ne,"animation-iteration-count",Oe),ie&&it(Ne,"animation-name",`${Vt}-alt`),(0,g.r)(()=>{it(Ne,"animation-name",Vt||null)})})})},yr=(ie=!1,we=!0,Ne)=>(ie&&Un.forEach(Oe=>{Oe.update(ie,we,Ne)}),or?Yi(Ne):Tr(we,Ne),Xe),ir=()=>{Ft&&(or?lr.forEach(ie=>{ie.pause()}):In.forEach(ie=>{it(ie,"animation-play-state","paused")}))},yn=()=>{pt=void 0,qt()},sr=()=>{pt&&clearTimeout(pt)},$t=ie=>new Promise(we=>{ie&&ie.sync&&(Yt=!0,An(()=>Yt=!1,{oneTimeCallback:!0})),Ft||Mr(),ft&&(or?(Br(0),Yi()):Tr(),ft=!1),vt&&(Ye=Un.length+1,vt=!1),An(()=>we(),{oneTimeCallback:!0}),Un.forEach(Ne=>{Ne.play()}),or?(lr.forEach(ie=>{ie.play()}),(0===Ke.length||0===In.length)&&qt()):(()=>{if(sr(),(0,g.r)(()=>{In.forEach(ie=>{Ke.length>0&&it(ie,"animation-play-state","running")})}),0===Ke.length||0===In.length)qt();else{const ie=kn()||0,we=Bt()||0,Ne=sn()||1;isFinite(Ne)&&(pt=setTimeout(yn,ie+we*Ne+100)),((he,Me)=>{let Ve;const rt={passive:!0},bt=Pe=>{he===Pe.target&&(Ve&&Ve(),sr(),(0,g.r)(()=>{In.forEach(ie=>{Qe(ie,"animation-duration"),Qe(ie,"animation-delay"),Qe(ie,"animation-play-state")}),(0,g.r)(qt)}))};he&&(he.addEventListener("webkitAnimationEnd",bt,rt),he.addEventListener("animationend",bt,rt),Ve=()=>{he.removeEventListener("webkitAnimationEnd",bt,rt),he.removeEventListener("animationend",bt,rt)})})(In[0])}})()}),_i=(ie,we)=>{const Ne=Ke[0];return void 0===Ne||void 0!==Ne.offset&&0!==Ne.offset?Ke=[{offset:0,[ie]:we},...Ke]:Ne[ie]=we,Xe};return Xe={parentAnimation:We,elements:In,childAnimations:Un,id:mn,animationFinish:qt,from:_i,to:(ie,we)=>{const Ne=Ke[Ke.length-1];return void 0===Ne||void 0!==Ne.offset&&1!==Ne.offset?Ke=[...Ke,{offset:1,[ie]:we}]:Ne[ie]=we,Xe},fromTo:(ie,we,Ne)=>_i(ie,we).to(ie,Ne),parent:ie=>(We=ie,Xe),play:$t,pause:()=>(Un.forEach(ie=>{ie.pause()}),ir(),Xe),stop:()=>{Un.forEach(ie=>{ie.stop()}),Ft&&(wt(),Ft=!1),Gt=!1,Yt=!1,vt=!0,ot=void 0,ht=void 0,st=void 0,Ye=0,ft=!1,Je=!0},destroy:ie=>(Un.forEach(we=>{we.destroy(ie)}),(ie=>{wt(),ie&&Mn()})(ie),In.length=0,Un.length=0,Ke.length=0,Zt.length=0,Vn.length=0,Ft=!1,vt=!0,Xe),keyframes:ie=>{const we=Ke!==ie;return Ke=ie,we&&(ie=>{or?gi().forEach(we=>{if(we.effect.setKeyframes)we.effect.setKeyframes(ie);else{const Ne=new KeyframeEffect(we.effect.target,ie,we.effect.getTiming());we.effect=Ne}}):Nr()})(Ke),Xe},addAnimation:ie=>{if(null!=ie)if(Array.isArray(ie))for(const we of ie)we.parent(Xe),Un.push(we);else ie.parent(Xe),Un.push(ie);return Xe},addElement:ie=>{if(null!=ie)if(1===ie.nodeType)In.push(ie);else if(ie.length>=0)for(let we=0;we<ie.length;we++)In.push(ie[we]);else console.error("Invalid addElement value");return Xe},update:yr,fill:ie=>(bt=ie,yr(!0),Xe),direction:ie=>(Pe=ie,yr(!0),Xe),iterations:ie=>(et=ie,yr(!0),Xe),duration:ie=>(!or&&0===ie&&(ie=1),Ve=ie,yr(!0),Xe),easing:ie=>(rt=ie,yr(!0),Xe),delay:ie=>(Me=ie,yr(!0),Xe),getWebAnimations:gi,getKeyframes:()=>Ke,getFill:$e,getDirection:ct,getDelay:kn,getIterations:sn,getEasing:Et,getDuration:Bt,afterAddRead:ie=>(rr.push(ie),Xe),afterAddWrite:ie=>(Kn.push(ie),Xe),afterClearStyles:(ie=[])=>{for(const we of ie)Ue[we]="";return Xe},afterStyles:(ie={})=>(Ue=ie,Xe),afterRemoveClass:ie=>(Ie=ye(Ie,ie),Xe),afterAddClass:ie=>(Re=ye(Re,ie),Xe),beforeAddRead:ie=>(Pn.push(ie),Xe),beforeAddWrite:ie=>(_n.push(ie),Xe),beforeClearStyles:(ie=[])=>{for(const we of ie)Ge[we]="";return Xe},beforeStyles:(ie={})=>(Ge=ie,Xe),beforeRemoveClass:ie=>(at=ye(at,ie),Xe),beforeAddClass:ie=>(Pt=ye(Pt,ie),Xe),onFinish:An,progressStart:(ie=!1,we)=>(Un.forEach(Ne=>{Ne.progressStart(ie,we)}),ir(),Gt=ie,Ft||Mr(),yr(!1,!0,we),Xe),progressStep:ie=>(Un.forEach(we=>{we.progressStep(ie)}),Br(ie),Xe),progressEnd:(ie,we,Ne)=>(Gt=!1,Un.forEach(Oe=>{Oe.progressEnd(ie,we,Ne)}),void 0!==Ne&&(ht=Ne),ft=!1,Je=!0,0===ie?(ot="reverse"===ct()?"normal":"reverse","reverse"===ot&&(Je=!1),or?(yr(),Br(1-we)):(st=(1-we)*Bt()*-1,yr(!1,!1))):1===ie&&(or?(yr(),Br(we)):(st=we*Bt()*-1,yr(!1,!1))),void 0!==ie&&(An(()=>{ht=void 0,ot=void 0,st=void 0},{oneTimeCallback:!0}),We||$t()),Xe)}}},2733:(Sn,Lt,de)=>{"use strict";de.d(Lt,{G:()=>nt});class Ae{constructor(Qe,yt,ke,fe,Ee){this.id=yt,this.name=ke,this.disableScroll=Ee,this.priority=1e6*fe+yt,this.ctrl=Qe}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Qe=this.ctrl.capture(this.name,this.id,this.priority);return Qe&&this.disableScroll&&this.ctrl.disableScroll(this.id),Qe}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class ${constructor(Qe,yt,ke,fe){this.id=yt,this.disable=ke,this.disableScroll=fe,this.ctrl=Qe}block(){if(this.ctrl){if(this.disable)for(const Qe of this.disable)this.ctrl.disableGesture(Qe,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Qe of this.disable)this.ctrl.enableGesture(Qe,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const je="backdrop-no-scroll",nt=new class g{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Qe){return new Ae(this,this.newID(),Qe.name,Qe.priority||0,!!Qe.disableScroll)}createBlocker(Qe={}){return new $(this,this.newID(),Qe.disable,!!Qe.disableScroll)}start(Qe,yt,ke){return this.canStart(Qe)?(this.requestedStart.set(yt,ke),!0):(this.requestedStart.delete(yt),!1)}capture(Qe,yt,ke){if(!this.start(Qe,yt,ke))return!1;const fe=this.requestedStart;let Ee=-1e4;if(fe.forEach(ve=>{Ee=Math.max(Ee,ve)}),Ee===ke){this.capturedId=yt,fe.clear();const ve=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Qe}});return document.dispatchEvent(ve),!0}return fe.delete(yt),!1}release(Qe){this.requestedStart.delete(Qe),this.capturedId===Qe&&(this.capturedId=void 0)}disableGesture(Qe,yt){let ke=this.disabledGestures.get(Qe);void 0===ke&&(ke=new Set,this.disabledGestures.set(Qe,ke)),ke.add(yt)}enableGesture(Qe,yt){const ke=this.disabledGestures.get(Qe);void 0!==ke&&ke.delete(yt)}disableScroll(Qe){this.disabledScroll.add(Qe),1===this.disabledScroll.size&&document.body.classList.add(je)}enableScroll(Qe){this.disabledScroll.delete(Qe),0===this.disabledScroll.size&&document.body.classList.remove(je)}canStart(Qe){return!(void 0!==this.capturedId||this.isDisabled(Qe))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Qe){const yt=this.disabledGestures.get(Qe);return!!(yt&&yt.size>0)}newID(){return this.gestureId++,this.gestureId}}},527:(Sn,Lt,de)=>{"use strict";de.r(Lt),de.d(Lt,{MENU_BACK_BUTTON_PRIORITY:()=>nt,OVERLAY_BACK_BUTTON_PRIORITY:()=>je,blockHardwareBackButton:()=>Ae,startHardwareBackButton:()=>$});var g=de(5861);const Ae=()=>{document.addEventListener("backbutton",()=>{})},$=()=>{const it=document;let Qe=!1;it.addEventListener("backbutton",()=>{if(Qe)return;let yt=0,ke=[];const fe=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(ae,ye){ke.push({priority:ae,handler:ye,id:yt++})}}});it.dispatchEvent(fe);const Ee=function(){var ae=(0,g.Z)(function*(ye){try{if(ye&&ye.handler){const qe=ye.handler(ve);null!=qe&&(yield qe)}}catch(qe){console.error(qe)}});return function(qe){return ae.apply(this,arguments)}}(),ve=()=>{if(ke.length>0){let ae={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};ke.forEach(ye=>{ye.priority>=ae.priority&&(ae=ye)}),Qe=!0,ke=ke.filter(ye=>ye.id!==ae.id),Ee(ae).then(()=>Qe=!1)}};ve()})},je=100,nt=99},206:(Sn,Lt,de)=>{"use strict";de.d(Lt,{a:()=>nt,b:()=>it,c:()=>$,d:()=>ve,e:()=>ae,f:()=>Ee,g:()=>Qe,h:()=>rt,i:()=>je,j:()=>fe,k:()=>ye,l:()=>ke,m:()=>qe,n:()=>Ve,o:()=>et,p:()=>Me,q:()=>he,r:()=>yt,s:()=>bt,t:()=>g});const g=(Pe,Ke=0)=>new Promise(Pt=>{Ae(Pe,Ke,Pt)}),Ae=(Pe,Ke=0,Pt)=>{let at,Ft;const We={passive:!0},Re=()=>{at&&at()},Ie=Ue=>{(void 0===Ue||Pe===Ue.target)&&(Re(),Pt(Ue))};return Pe&&(Pe.addEventListener("webkitTransitionEnd",Ie,We),Pe.addEventListener("transitionend",Ie,We),Ft=setTimeout(Ie,Ke+500),at=()=>{Ft&&(clearTimeout(Ft),Ft=void 0),Pe.removeEventListener("webkitTransitionEnd",Ie,We),Pe.removeEventListener("transitionend",Ie,We)}),Re},$=(Pe,Ke)=>{Pe.componentOnReady?Pe.componentOnReady().then(Pt=>Ke(Pt)):yt(()=>Ke(Pe))},je=(Pe,Ke=[])=>{const Pt={};return Ke.forEach(at=>{Pe.hasAttribute(at)&&(null!==Pe.getAttribute(at)&&(Pt[at]=Pe.getAttribute(at)),Pe.removeAttribute(at))}),Pt},nt=(Pe,Ke,Pt,at)=>{if("undefined"!=typeof window){const Ft=window,We=Ft&&Ft.Ionic&&Ft.Ionic.config;if(We){const Ge=We.get("_ael");if(Ge)return Ge(Pe,Ke,Pt,at);if(We._ael)return We._ael(Pe,Ke,Pt,at)}}return Pe.addEventListener(Ke,Pt,at)},it=(Pe,Ke,Pt,at)=>{if("undefined"!=typeof window){const Ft=window,We=Ft&&Ft.Ionic&&Ft.Ionic.config;if(We){const Ge=We.get("_rel");if(Ge)return Ge(Pe,Ke,Pt,at);if(We._rel)return We._rel(Pe,Ke,Pt,at)}}return Pe.removeEventListener(Ke,Pt,at)},Qe=(Pe,Ke=Pe)=>Pe.shadowRoot||Ke,yt=Pe=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Pe):"function"==typeof requestAnimationFrame?requestAnimationFrame(Pe):setTimeout(Pe),ke=Pe=>!!Pe.shadowRoot&&!!Pe.attachShadow,fe=Pe=>{const Ke=Pe.closest("ion-item");return Ke?Ke.querySelector("ion-label"):null},Ee=Pe=>{if(Pe.focus(),Pe.classList.contains("ion-focusable")){const Ke=Pe.closest("ion-app");Ke&&Ke.setFocus([Pe])}},ve=(Pe,Ke)=>{let Pt;const at=Pe.getAttribute("aria-labelledby"),Ft=Pe.id;let We=null!==at&&""!==at.trim()?at:Ke+"-lbl",Ge=null!==at&&""!==at.trim()?document.getElementById(at):fe(Pe);return Ge?(null===at&&(Ge.id=We),Pt=Ge.textContent,Ge.setAttribute("aria-hidden","true")):""!==Ft.trim()&&(Ge=document.querySelector(`label[for="${Ft}"]`),Ge&&(""!==Ge.id?We=Ge.id:Ge.id=We=`${Ft}-lbl`,Pt=Ge.textContent)),{label:Ge,labelId:We,labelText:Pt}},ae=(Pe,Ke,Pt,at,Ft)=>{if(Pe||ke(Ke)){let We=Ke.querySelector("input.aux-input");We||(We=Ke.ownerDocument.createElement("input"),We.type="hidden",We.classList.add("aux-input"),Ke.appendChild(We)),We.disabled=Ft,We.name=Pt,We.value=at||""}},ye=(Pe,Ke,Pt)=>Math.max(Pe,Math.min(Ke,Pt)),qe=(Pe,Ke)=>{if(!Pe){const Pt="ASSERT: "+Ke;throw console.error(Pt),new Error(Pt)}},he=Pe=>Pe.timeStamp||Date.now(),Me=Pe=>{if(Pe){const Ke=Pe.changedTouches;if(Ke&&Ke.length>0){const Pt=Ke[0];return{x:Pt.clientX,y:Pt.clientY}}if(void 0!==Pe.pageX)return{x:Pe.pageX,y:Pe.pageY}}return{x:0,y:0}},Ve=Pe=>{const Ke="rtl"===document.dir;switch(Pe){case"start":return Ke;case"end":return!Ke;default:throw new Error(`"${Pe}" is not a valid value for [side]. Use "start" or "end" instead.`)}},rt=(Pe,Ke)=>{const Pt=Pe._original||Pe;return{_original:Pe,emit:et(Pt.emit.bind(Pt),Ke)}},et=(Pe,Ke=0)=>{let Pt;return(...at)=>{clearTimeout(Pt),Pt=setTimeout(Pe,Ke,...at)}},bt=(Pe,Ke)=>{if(null!=Pe||(Pe={}),null!=Ke||(Ke={}),Pe===Ke)return!0;const Pt=Object.keys(Pe);if(Pt.length!==Object.keys(Ke).length)return!1;for(const at of Pt)if(!(at in Ke)||Pe[at]!==Ke[at])return!1;return!0}},1363:(Sn,Lt,de)=>{"use strict";de.r(Lt),de.d(Lt,{GESTURE_CONTROLLER:()=>g.G,createGesture:()=>ke});var g=de(2733);const Ae=(ae,ye,qe,he)=>{const Me=$(ae)?{capture:!!he.capture,passive:!!he.passive}:!!he.capture;let Ve,rt;return ae.__zone_symbol__addEventListener?(Ve="__zone_symbol__addEventListener",rt="__zone_symbol__removeEventListener"):(Ve="addEventListener",rt="removeEventListener"),ae[Ve](ye,qe,Me),()=>{ae[rt](ye,qe,Me)}},$=ae=>{if(void 0===je)try{const ye=Object.defineProperty({},"passive",{get:()=>{je=!0}});ae.addEventListener("optsTest",()=>{},ye)}catch(ye){je=!1}return!!je};let je;const Qe=ae=>ae instanceof Document?ae:ae.ownerDocument,ke=ae=>{let ye=!1,qe=!1,he=!0,Me=!1;const Ve=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},ae),rt=Ve.canStart,et=Ve.onWillStart,bt=Ve.onStart,Pe=Ve.onEnd,Ke=Ve.notCaptured,Pt=Ve.onMove,at=Ve.threshold,Ft=Ve.passive,We=Ve.blurOnStart,Ge={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Re=((ae,ye,qe)=>{const he=qe*(Math.PI/180),Me="x"===ae,Ve=Math.cos(he),rt=ye*ye;let et=0,bt=0,Pe=!1,Ke=0;return{start(Pt,at){et=Pt,bt=at,Ke=0,Pe=!0},detect(Pt,at){if(!Pe)return!1;const Ft=Pt-et,We=at-bt,Ge=Ft*Ft+We*We;if(Ge<rt)return!1;const Re=Math.sqrt(Ge),Ie=(Me?Ft:We)/Re;return Ke=Ie>Ve?1:Ie<-Ve?-1:0,Pe=!1,!0},isGesture:()=>0!==Ke,getDirection:()=>Ke}})(Ve.direction,Ve.threshold,Ve.maxAngle),Ie=g.G.createGesture({name:ae.gestureName,priority:ae.gesturePriority,disableScroll:ae.disableScroll}),Gt=()=>{!ye||(Me=!1,Pt&&Pt(Ge))},Yt=()=>!(Ie&&!Ie.capture()||(ye=!0,he=!1,Ge.startX=Ge.currentX,Ge.startY=Ge.currentY,Ge.startTime=Ge.currentTime,et?et(Ge).then(ot):ot(),0)),ot=()=>{We&&(()=>{if("undefined"!=typeof document){const vt=document.activeElement;null!==vt&&vt.blur&&vt.blur()}})(),bt&&bt(Ge),he=!0},ht=()=>{ye=!1,qe=!1,Me=!1,he=!0,Ie.release()},st=vt=>{const Vt=ye,Xe=he;if(ht(),Xe){if(fe(Ge,vt),Vt)return void(Pe&&Pe(Ge));Ke&&Ke(Ge)}},Je=((ae,ye,qe,he,Me)=>{let Ve,rt,et,bt,Pe,Ke,Pt,at=0;const Ft=pt=>{at=Date.now()+2e3,ye(pt)&&(!rt&&qe&&(rt=Ae(ae,"touchmove",qe,Me)),et||(et=Ae(pt.target,"touchend",Ge,Me)),bt||(bt=Ae(pt.target,"touchcancel",Ge,Me)))},We=pt=>{at>Date.now()||!ye(pt)||(!Ke&&qe&&(Ke=Ae(Qe(ae),"mousemove",qe,Me)),Pt||(Pt=Ae(Qe(ae),"mouseup",Re,Me)))},Ge=pt=>{Ie(),he&&he(pt)},Re=pt=>{Ue(),he&&he(pt)},Ie=()=>{rt&&rt(),et&&et(),bt&&bt(),rt=et=bt=void 0},Ue=()=>{Ke&&Ke(),Pt&&Pt(),Ke=Pt=void 0},Ye=()=>{Ie(),Ue()},Gt=(pt=!0)=>{pt?(Ve||(Ve=Ae(ae,"touchstart",Ft,Me)),Pe||(Pe=Ae(ae,"mousedown",We,Me))):(Ve&&Ve(),Pe&&Pe(),Ve=Pe=void 0,Ye())};return{enable:Gt,stop:Ye,destroy:()=>{Gt(!1),he=qe=ye=void 0}}})(Ve.el,vt=>{const Vt=ve(vt);return!(qe||!he||(Ee(vt,Ge),Ge.startX=Ge.currentX,Ge.startY=Ge.currentY,Ge.startTime=Ge.currentTime=Vt,Ge.velocityX=Ge.velocityY=Ge.deltaX=Ge.deltaY=0,Ge.event=vt,rt&&!1===rt(Ge))||(Ie.release(),!Ie.start()))&&(qe=!0,0===at?Yt():(Re.start(Ge.startX,Ge.startY),!0))},vt=>{ye?!Me&&he&&(Me=!0,fe(Ge,vt),requestAnimationFrame(Gt)):(fe(Ge,vt),Re.detect(Ge.currentX,Ge.currentY)&&(!Re.isGesture()||!Yt())&&ft())},st,{capture:!1,passive:Ft}),ft=()=>{ht(),Je.stop(),Ke&&Ke(Ge)};return{enable(vt=!0){vt||(ye&&st(void 0),ht()),Je.enable(vt)},destroy(){Ie.destroy(),Je.destroy()}}},fe=(ae,ye)=>{if(!ye)return;const qe=ae.currentX,he=ae.currentY,Me=ae.currentTime;Ee(ye,ae);const Ve=ae.currentX,rt=ae.currentY,bt=(ae.currentTime=ve(ye))-Me;if(bt>0&&bt<100){const Ke=(rt-he)/bt;ae.velocityX=(Ve-qe)/bt*.7+.3*ae.velocityX,ae.velocityY=.7*Ke+.3*ae.velocityY}ae.deltaX=Ve-ae.startX,ae.deltaY=rt-ae.startY,ae.event=ye},Ee=(ae,ye)=>{let qe=0,he=0;if(ae){const Me=ae.changedTouches;if(Me&&Me.length>0){const Ve=Me[0];qe=Ve.clientX,he=Ve.clientY}else void 0!==ae.pageX&&(qe=ae.pageX,he=ae.pageY)}ye.currentX=qe,ye.currentY=he},ve=ae=>ae.timeStamp||Date.now()},2361:(Sn,Lt,de)=>{"use strict";de.d(Lt,{B:()=>_i,H:()=>nr,a:()=>ft,b:()=>Nr,c:()=>Rn,e:()=>De,f:()=>$t,g:()=>vt,h:()=>In,i:()=>xe,j:()=>sn,k:()=>vn,p:()=>he,r:()=>Yi,s:()=>ye});var g=de(5861);let $,je,nt,it=!1,Qe=!1,yt=!1,ke=!1,fe=!1;const Ee="undefined"!=typeof window?window:{},ve=Ee.document||{head:{}},ae={$flags$:0,$resourcesUrl$:"",jmp:X=>X(),raf:X=>requestAnimationFrame(X),ael:(X,me,ie,we)=>X.addEventListener(me,ie,we),rel:(X,me,ie,we)=>X.removeEventListener(me,ie,we),ce:(X,me)=>new CustomEvent(X,me)},ye=X=>{Object.assign(ae,X)},he=X=>Promise.resolve(X),Me=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(X){}return!1})(),Ve=(X,me,ie,we)=>{ie&&ie.map(([Ne,Oe,Ze])=>{const It=et(X,Ne),St=rt(me,Ze),At=bt(Ne);ae.ael(It,Oe,St,At),(me.$rmListeners$=me.$rmListeners$||[]).push(()=>ae.rel(It,Oe,St,At))})},rt=(X,me)=>ie=>{try{256&X.$flags$?X.$lazyInstance$[me](ie):(X.$queuedListeners$=X.$queuedListeners$||[]).push([me,ie])}catch(we){ui(we)}},et=(X,me)=>4&me?ve:8&me?Ee:16&me?ve.body:X,bt=X=>0!=(2&X),Ft="s-id",We="sty-id",Ie="http://www.w3.org/1999/xlink",Gt=new WeakMap,Yt=(X,me,ie)=>{let we=ir.get(X);Me&&ie?(we=we||new CSSStyleSheet,we.replace(me)):we=me,ir.set(X,we)},pt=(X,me,ie,we)=>{let Ne=ht(me,ie),Oe=ir.get(Ne);if(X=11===X.nodeType?X:ve,Oe)if("string"==typeof Oe){let It,Ze=Gt.get(X=X.head||X);Ze||Gt.set(X,Ze=new Set),Ze.has(Ne)||(X.host&&(It=X.querySelector(`[${We}="${Ne}"]`))?It.innerHTML=Oe:(It=ve.createElement("style"),It.innerHTML=Oe,X.insertBefore(It,X.querySelector("link"))),Ze&&Ze.add(Ne))}else X.adoptedStyleSheets.includes(Oe)||(X.adoptedStyleSheets=[...X.adoptedStyleSheets,Oe]);return Ne},ht=(X,me)=>"sc-"+(me&&32&X.$flags$?X.$tagName$+"-"+me:X.$tagName$),st=X=>X.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),ft=X=>Qt.push(X),vt=X=>Br(X).$modeName$,Vt={},Vn=X=>"object"==(X=typeof X)||"function"===X,In=(X,me,...ie)=>{let we=null,Ne=null,Oe=null,Ze=!1,It=!1,St=[];const At=wn=>{for(let Ln=0;Ln<wn.length;Ln++)we=wn[Ln],Array.isArray(we)?At(we):null!=we&&"boolean"!=typeof we&&((Ze="function"!=typeof X&&!Vn(we))&&(we=String(we)),Ze&&It?St[St.length-1].$text$+=we:St.push(Ze?Un(null,we):we),It=Ze)};if(At(ie),me){me.key&&(Ne=me.key),me.name&&(Oe=me.name);{const wn=me.className||me.class;wn&&(me.class="object"!=typeof wn?wn:Object.keys(wn).filter(Ln=>wn[Ln]).join(" "))}}if("function"==typeof X)return X(null===me?{}:me,St,_n);const tn=Un(X,null);return tn.$attrs$=me,St.length>0&&(tn.$children$=St),tn.$key$=Ne,tn.$name$=Oe,tn},Un=(X,me)=>({$flags$:0,$tag$:X,$text$:me,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),nr={},_n={forEach:(X,me)=>X.map(rr).forEach(me),map:(X,me)=>X.map(rr).map(me).map(Kn)},rr=X=>({vattrs:X.$attrs$,vchildren:X.$children$,vkey:X.$key$,vname:X.$name$,vtag:X.$tag$,vtext:X.$text$}),Kn=X=>{if("function"==typeof X.vtag){const ie=Object.assign({},X.vattrs);return X.vkey&&(ie.key=X.vkey),X.vname&&(ie.name=X.vname),In(X.vtag,ie,...X.vchildren||[])}const me=Un(X.vtag,X.vtext);return me.$attrs$=X.vattrs,me.$children$=X.vchildren,me.$key$=X.vkey,me.$name$=X.vname,me},lr=(X,me,ie,we,Ne,Oe)=>{if(ie!==we){let Ze=yr(X,me),It=me.toLowerCase();if("class"===me){const St=X.classList,At=or(ie),tn=or(we);St.remove(...At.filter(wn=>wn&&!tn.includes(wn))),St.add(...tn.filter(wn=>wn&&!At.includes(wn)))}else if("style"===me){for(const St in ie)(!we||null==we[St])&&(St.includes("-")?X.style.removeProperty(St):X.style[St]="");for(const St in we)(!ie||we[St]!==ie[St])&&(St.includes("-")?X.style.setProperty(St,we[St]):X.style[St]=we[St])}else if("key"!==me)if("ref"===me)we&&we(X);else if(Ze||"o"!==me[0]||"n"!==me[1]){const St=Vn(we);if((Ze||St&&null!==we)&&!Ne)try{if(X.tagName.includes("-"))X[me]=we;else{let tn=null==we?"":we;"list"===me?Ze=!1:(null==ie||X[me]!=tn)&&(X[me]=tn)}}catch(tn){}let At=!1;It!==(It=It.replace(/^xlink\:?/,""))&&(me=It,At=!0),null==we||!1===we?(!1!==we||""===X.getAttribute(me))&&(At?X.removeAttributeNS(Ie,me):X.removeAttribute(me)):(!Ze||4&Oe||Ne)&&!St&&(we=!0===we?"":we,At?X.setAttributeNS(Ie,me,we):X.setAttribute(me,we))}else me="-"===me[2]?me.slice(3):yr(Ee,It)?It.slice(2):It[2]+me.slice(3),ie&&ae.rel(X,me,ie,!1),we&&ae.ael(X,me,we,!1)}},Dr=/\s/,or=X=>X?X.split(Dr):[],Hr=(X,me,ie,we)=>{const Ne=11===me.$elm$.nodeType&&me.$elm$.host?me.$elm$.host:me.$elm$,Oe=X&&X.$attrs$||Vt,Ze=me.$attrs$||Vt;for(we in Oe)we in Ze||lr(Ne,we,Oe[we],void 0,ie,me.$flags$);for(we in Ze)lr(Ne,we,Oe[we],Ze[we],ie,me.$flags$)},gi=(X,me,ie,we)=>{let Ze,It,St,Ne=me.$children$[ie],Oe=0;if(it||(yt=!0,"slot"===Ne.$tag$&&($&&we.classList.add($+"-s"),Ne.$flags$|=Ne.$children$?2:1)),null!==Ne.$text$)Ze=Ne.$elm$=ve.createTextNode(Ne.$text$);else if(1&Ne.$flags$)Ze=Ne.$elm$=ve.createTextNode("");else{if(ke||(ke="svg"===Ne.$tag$),Ze=Ne.$elm$=ve.createElementNS(ke?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Ne.$flags$?"slot-fb":Ne.$tag$),ke&&"foreignObject"===Ne.$tag$&&(ke=!1),Hr(null,Ne,ke),(X=>null!=X)($)&&Ze["s-si"]!==$&&Ze.classList.add(Ze["s-si"]=$),Ne.$children$)for(Oe=0;Oe<Ne.$children$.length;++Oe)It=gi(X,Ne,Oe,Ze),It&&Ze.appendChild(It);"svg"===Ne.$tag$?ke=!1:"foreignObject"===Ze.tagName&&(ke=!0)}return Ze["s-hn"]=nt,3&Ne.$flags$&&(Ze["s-sr"]=!0,Ze["s-cr"]=je,Ze["s-sn"]=Ne.$name$||"",St=X&&X.$children$&&X.$children$[ie],St&&St.$tag$===Ne.$tag$&&X.$elm$&&Ci(X.$elm$,!1)),Ze},Ci=(X,me)=>{ae.$flags$|=1;const ie=X.childNodes;for(let we=ie.length-1;we>=0;we--){const Ne=ie[we];Ne["s-hn"]!==nt&&Ne["s-ol"]&&(Mn(Ne).insertBefore(Ne,wt(Ne)),Ne["s-ol"].remove(),Ne["s-ol"]=void 0,yt=!0),me&&Ci(Ne,me)}ae.$flags$&=-2},mi=(X,me,ie,we,Ne,Oe)=>{let It,Ze=X["s-cr"]&&X["s-cr"].parentNode||X;for(Ze.shadowRoot&&Ze.tagName===nt&&(Ze=Ze.shadowRoot);Ne<=Oe;++Ne)we[Ne]&&(It=gi(null,ie,Ne,X),It&&(we[Ne].$elm$=It,Ze.insertBefore(It,wt(me))))},gn=(X,me,ie,we,Ne)=>{for(;me<=ie;++me)(we=X[me])&&(Ne=we.$elm$,Yr(we),Qe=!0,Ne["s-ol"]?Ne["s-ol"].remove():Ci(Ne,!0),Ne.remove())},Wn=(X,me)=>X.$tag$===me.$tag$&&("slot"===X.$tag$?X.$name$===me.$name$:X.$key$===me.$key$),wt=X=>X&&X["s-ol"]||X,Mn=X=>(X["s-ol"]?X["s-ol"]:X).parentNode,Gi=(X,me)=>{const ie=me.$elm$=X.$elm$,we=X.$children$,Ne=me.$children$,Oe=me.$tag$,Ze=me.$text$;let It;null===Ze?(ke="svg"===Oe||"foreignObject"!==Oe&&ke,"slot"===Oe||Hr(X,me,ke),null!==we&&null!==Ne?((X,me,ie,we)=>{let ri,Jr,Ne=0,Oe=0,Ze=0,It=0,St=me.length-1,At=me[0],tn=me[St],wn=we.length-1,Ln=we[0],qn=we[wn];for(;Ne<=St&&Oe<=wn;)if(null==At)At=me[++Ne];else if(null==tn)tn=me[--St];else if(null==Ln)Ln=we[++Oe];else if(null==qn)qn=we[--wn];else if(Wn(At,Ln))Gi(At,Ln),At=me[++Ne],Ln=we[++Oe];else if(Wn(tn,qn))Gi(tn,qn),tn=me[--St],qn=we[--wn];else if(Wn(At,qn))("slot"===At.$tag$||"slot"===qn.$tag$)&&Ci(At.$elm$.parentNode,!1),Gi(At,qn),X.insertBefore(At.$elm$,tn.$elm$.nextSibling),At=me[++Ne],qn=we[--wn];else if(Wn(tn,Ln))("slot"===At.$tag$||"slot"===qn.$tag$)&&Ci(tn.$elm$.parentNode,!1),Gi(tn,Ln),X.insertBefore(tn.$elm$,At.$elm$),tn=me[--St],Ln=we[++Oe];else{for(Ze=-1,It=Ne;It<=St;++It)if(me[It]&&null!==me[It].$key$&&me[It].$key$===Ln.$key$){Ze=It;break}Ze>=0?(Jr=me[Ze],Jr.$tag$!==Ln.$tag$?ri=gi(me&&me[Oe],ie,Ze,X):(Gi(Jr,Ln),me[Ze]=void 0,ri=Jr.$elm$),Ln=we[++Oe]):(ri=gi(me&&me[Oe],ie,Oe,X),Ln=we[++Oe]),ri&&Mn(At.$elm$).insertBefore(ri,wt(At.$elm$))}Ne>St?mi(X,null==we[wn+1]?null:we[wn+1].$elm$,ie,we,Oe,wn):Oe>wn&&gn(me,Ne,St)})(ie,we,me,Ne):null!==Ne?(null!==X.$text$&&(ie.textContent=""),mi(ie,null,me,Ne,0,Ne.length-1)):null!==we&&gn(we,0,we.length-1),ke&&"svg"===Oe&&(ke=!1)):(It=ie["s-cr"])?It.parentNode.textContent=Ze:X.$text$!==Ze&&(ie.data=Ze)},Zr=X=>{let ie,we,Ne,Oe,Ze,It,me=X.childNodes;for(we=0,Ne=me.length;we<Ne;we++)if(ie=me[we],1===ie.nodeType){if(ie["s-sr"])for(Ze=ie["s-sn"],ie.hidden=!1,Oe=0;Oe<Ne;Oe++)if(It=me[Oe].nodeType,me[Oe]["s-hn"]!==ie["s-hn"]||""!==Ze){if(1===It&&Ze===me[Oe].getAttribute("slot")){ie.hidden=!0;break}}else if(1===It||3===It&&""!==me[Oe].textContent.trim()){ie.hidden=!0;break}Zr(ie)}},ur=[],Wi=X=>{let me,ie,we,Ne,Oe,Ze,It=0,St=X.childNodes,At=St.length;for(;It<At;It++){if(me=St[It],me["s-sr"]&&(ie=me["s-cr"])&&ie.parentNode)for(we=ie.parentNode.childNodes,Ne=me["s-sn"],Ze=we.length-1;Ze>=0;Ze--)ie=we[Ze],!ie["s-cn"]&&!ie["s-nr"]&&ie["s-hn"]!==me["s-hn"]&&(er(ie,Ne)?(Oe=ur.find(tn=>tn.$nodeToRelocate$===ie),Qe=!0,ie["s-sn"]=ie["s-sn"]||Ne,Oe?Oe.$slotRefNode$=me:ur.push({$slotRefNode$:me,$nodeToRelocate$:ie}),ie["s-sr"]&&ur.map(tn=>{er(tn.$nodeToRelocate$,ie["s-sn"])&&(Oe=ur.find(wn=>wn.$nodeToRelocate$===ie),Oe&&!tn.$slotRefNode$&&(tn.$slotRefNode$=Oe.$slotRefNode$))})):ur.some(tn=>tn.$nodeToRelocate$===ie)||ur.push({$nodeToRelocate$:ie}));1===me.nodeType&&Wi(me)}},er=(X,me)=>1===X.nodeType?null===X.getAttribute("slot")&&""===me||X.getAttribute("slot")===me:X["s-sn"]===me||""===me,Yr=X=>{X.$attrs$&&X.$attrs$.ref&&X.$attrs$.ref(null),X.$children$&&X.$children$.map(Yr)},xe=X=>Br(X).$hostElement$,De=(X,me,ie)=>{const we=xe(X);return{emit:Ne=>tt(we,me,{bubbles:!!(4&ie),composed:!!(2&ie),cancelable:!!(1&ie),detail:Ne})}},tt=(X,me,ie)=>{const we=ae.ce(me,ie);return X.dispatchEvent(we),we},ce=(X,me)=>{me&&!X.$onRenderResolve$&&me["s-p"]&&me["s-p"].push(new Promise(ie=>X.$onRenderResolve$=ie))},ge=(X,me)=>{if(X.$flags$|=16,!(4&X.$flags$))return ce(X,X.$ancestorComponent$),Rn(()=>$e(X,me));X.$flags$|=512},$e=(X,me)=>{const we=X.$lazyInstance$;let Ne;return me&&(X.$flags$|=256,X.$queuedListeners$&&(X.$queuedListeners$.map(([Oe,Ze])=>Xn(we,Oe,Ze)),X.$queuedListeners$=null),Ne=Xn(we,"componentWillLoad")),Ne=jn(Ne,()=>Xn(we,"componentWillRender")),jn(Ne,()=>ct(X,we,me))},ct=function(){var X=(0,g.Z)(function*(me,ie,we){const Ne=me.$hostElement$,Ze=Ne["s-rc"];we&&(X=>{const me=X.$cmpMeta$,ie=X.$hostElement$,we=me.$flags$,Oe=pt(ie.shadowRoot?ie.shadowRoot:ie.getRootNode(),me,X.$modeName$);10&we&&(ie["s-sc"]=Oe,ie.classList.add(Oe+"-h"),2&we&&ie.classList.add(Oe+"-s"))})(me);Et(me,ie),Ze&&(Ze.map(St=>St()),Ne["s-rc"]=void 0);{const St=Ne["s-p"],At=()=>Bt(me);0===St.length?At():(Promise.all(St).then(At),me.$flags$|=4,St.length=0)}});return function(ie,we,Ne){return X.apply(this,arguments)}}(),Et=(X,me,ie)=>{try{me=me.render&&me.render(),X.$flags$&=-17,X.$flags$|=2,((X,me)=>{const ie=X.$hostElement$,we=X.$cmpMeta$,Ne=X.$vnode$||Un(null,null),Oe=(X=>X&&X.$tag$===nr)(me)?me:In(null,null,me);if(nt=ie.tagName,we.$attrsToReflect$&&(Oe.$attrs$=Oe.$attrs$||{},we.$attrsToReflect$.map(([Ze,It])=>Oe.$attrs$[It]=ie[Ze])),Oe.$tag$=null,Oe.$flags$|=4,X.$vnode$=Oe,Oe.$elm$=Ne.$elm$=ie.shadowRoot||ie,$=ie["s-sc"],je=ie["s-cr"],it=0!=(1&we.$flags$),Qe=!1,Gi(Ne,Oe),ae.$flags$|=1,yt){Wi(Oe.$elm$);let Ze,It,St,At,tn,wn,Ln=0;for(;Ln<ur.length;Ln++)Ze=ur[Ln],It=Ze.$nodeToRelocate$,It["s-ol"]||(St=ve.createTextNode(""),St["s-nr"]=It,It.parentNode.insertBefore(It["s-ol"]=St,It));for(Ln=0;Ln<ur.length;Ln++)if(Ze=ur[Ln],It=Ze.$nodeToRelocate$,Ze.$slotRefNode$){for(At=Ze.$slotRefNode$.parentNode,tn=Ze.$slotRefNode$.nextSibling,St=It["s-ol"];St=St.previousSibling;)if(wn=St["s-nr"],wn&&wn["s-sn"]===It["s-sn"]&&At===wn.parentNode&&(wn=wn.nextSibling,!wn||!wn["s-nr"])){tn=wn;break}(!tn&&At!==It.parentNode||It.nextSibling!==tn)&&It!==tn&&(!It["s-hn"]&&It["s-ol"]&&(It["s-hn"]=It["s-ol"].parentNode.nodeName),At.insertBefore(It,tn))}else 1===It.nodeType&&(It.hidden=!0)}Qe&&Zr(Oe.$elm$),ae.$flags$&=-2,ur.length=0})(X,me)}catch(we){ui(we,X.$hostElement$)}return null},Bt=X=>{const ie=X.$hostElement$,Ne=X.$lazyInstance$,Oe=X.$ancestorComponent$;Xn(Ne,"componentDidRender"),64&X.$flags$?Xn(Ne,"componentDidUpdate"):(X.$flags$|=64,Ar(ie),Xn(Ne,"componentDidLoad"),X.$onReadyResolve$(ie),Oe||kn()),X.$onInstanceResolve$(ie),X.$onRenderResolve$&&(X.$onRenderResolve$(),X.$onRenderResolve$=void 0),512&X.$flags$&&Fn(()=>ge(X,!1)),X.$flags$&=-517},sn=X=>{{const me=Br(X),ie=me.$hostElement$.isConnected;return ie&&2==(18&me.$flags$)&&ge(me,!1),ie}},kn=X=>{Ar(ve.documentElement),Fn(()=>tt(Ee,"appload",{detail:{namespace:"ionic"}}))},Xn=(X,me,ie)=>{if(X&&X[me])try{return X[me](ie)}catch(we){ui(we)}},jn=(X,me)=>X&&X.then?X.then(me):me(),Ar=X=>X.classList.add("hydrated"),vi=(X,me,ie,we,Ne,Oe,Ze)=>{let It,St,At,tn;if(1===Oe.nodeType){for(It=Oe.getAttribute("c-id"),It&&(St=It.split("."),(St[0]===Ze||"0"===St[0])&&(At={$flags$:0,$hostId$:St[0],$nodeId$:St[1],$depth$:St[2],$index$:St[3],$tag$:Oe.tagName.toLowerCase(),$elm$:Oe,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},me.push(At),Oe.removeAttribute("c-id"),X.$children$||(X.$children$=[]),X.$children$[At.$index$]=At,X=At,we&&"0"===At.$depth$&&(we[At.$index$]=At.$elm$))),tn=Oe.childNodes.length-1;tn>=0;tn--)vi(X,me,ie,we,Ne,Oe.childNodes[tn],Ze);if(Oe.shadowRoot)for(tn=Oe.shadowRoot.childNodes.length-1;tn>=0;tn--)vi(X,me,ie,we,Ne,Oe.shadowRoot.childNodes[tn],Ze)}else if(8===Oe.nodeType)St=Oe.nodeValue.split("."),(St[1]===Ze||"0"===St[1])&&(It=St[0],At={$flags$:0,$hostId$:St[1],$nodeId$:St[2],$depth$:St[3],$index$:St[4],$elm$:Oe,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===It?(At.$elm$=Oe.nextSibling,At.$elm$&&3===At.$elm$.nodeType&&(At.$text$=At.$elm$.textContent,me.push(At),Oe.remove(),X.$children$||(X.$children$=[]),X.$children$[At.$index$]=At,we&&"0"===At.$depth$&&(we[At.$index$]=At.$elm$))):At.$hostId$===Ze&&("s"===It?(At.$tag$="slot",Oe["s-sn"]=St[5]?At.$name$=St[5]:"",Oe["s-sr"]=!0,we&&(At.$elm$=ve.createElement(At.$tag$),At.$name$&&At.$elm$.setAttribute("name",At.$name$),Oe.parentNode.insertBefore(At.$elm$,Oe),Oe.remove(),"0"===At.$depth$&&(we[At.$index$]=At.$elm$)),ie.push(At),X.$children$||(X.$children$=[]),X.$children$[At.$index$]=At):"r"===It&&(we?Oe.remove():(Ne["s-cr"]=Oe,Oe["s-cn"]=!0))));else if(X&&"style"===X.$tag$){const wn=Un(null,Oe.textContent);wn.$elm$=Oe,wn.$index$="0",X.$children$=[wn]}},rn=(X,me)=>{if(1===X.nodeType){let ie=0;for(;ie<X.childNodes.length;ie++)rn(X.childNodes[ie],me);if(X.shadowRoot)for(ie=0;ie<X.shadowRoot.childNodes.length;ie++)rn(X.shadowRoot.childNodes[ie],me)}else if(8===X.nodeType){const ie=X.nodeValue.split(".");"o"===ie[0]&&(me.set(ie[1]+"."+ie[2],X),X.nodeValue="",X["s-en"]=ie[3])}},hr=(X,me,ie)=>{if(me.$members$){X.watchers&&(me.$watchers$=X.watchers);const we=Object.entries(me.$members$),Ne=X.prototype;if(we.map(([Oe,[Ze]])=>{31&Ze||2&ie&&32&Ze?Object.defineProperty(Ne,Oe,{get(){return((X,me)=>Br(this).$instanceValues$.get(me))(0,Oe)},set(It){((X,me,ie,we)=>{const Ne=Br(X),Oe=Ne.$hostElement$,Ze=Ne.$instanceValues$.get(me),It=Ne.$flags$,St=Ne.$lazyInstance$;ie=((X,me)=>null==X||Vn(X)?X:4&me?"false"!==X&&(""===X||!!X):2&me?parseFloat(X):1&me?String(X):X)(ie,we.$members$[me][0]);const At=Number.isNaN(Ze)&&Number.isNaN(ie);if((!(8&It)||void 0===Ze)&&ie!==Ze&&!At&&(Ne.$instanceValues$.set(me,ie),St)){if(we.$watchers$&&128&It){const wn=we.$watchers$[me];wn&&wn.map(Ln=>{try{St[Ln](ie,Ze,me)}catch(qn){ui(qn,Oe)}})}2==(18&It)&&ge(Ne,!1)}})(this,Oe,It,me)},configurable:!0,enumerable:!0}):1&ie&&64&Ze&&Object.defineProperty(Ne,Oe,{value(...It){const St=Br(this);return St.$onInstancePromise$.then(()=>St.$lazyInstance$[Oe](...It))}})}),1&ie){const Oe=new Map;Ne.attributeChangedCallback=function(Ze,It,St){ae.jmp(()=>{const At=Oe.get(Ze);if(this.hasOwnProperty(At))St=this[At],delete this[At];else if(Ne.hasOwnProperty(At)&&"number"==typeof this[At]&&this[At]==St)return;this[At]=(null!==St||"boolean"!=typeof this[At])&&St})},X.observedAttributes=we.filter(([Ze,It])=>15&It[0]).map(([Ze,It])=>{const St=It[1]||Ze;return Oe.set(St,Ze),512&It[0]&&me.$attrsToReflect$.push([Ze,St]),St})}}return X},yi=function(){var X=(0,g.Z)(function*(me,ie,we,Ne,Oe){if(0==(32&ie.$flags$)){{if(ie.$flags$|=32,(Oe=Ki(we)).then){const At=()=>{};Oe=yield Oe,At()}Oe.isProxied||(we.$watchers$=Oe.watchers,hr(Oe,we,2),Oe.isProxied=!0);const St=()=>{};ie.$flags$|=8;try{new Oe(ie)}catch(At){ui(At)}ie.$flags$&=-9,ie.$flags$|=128,St(),oo(ie.$lazyInstance$)}if(Oe.style){let St=Oe.style;"string"!=typeof St&&(St=St[ie.$modeName$=(X=>Qt.map(me=>me(X)).find(me=>!!me))(me)]);const At=ht(we,ie.$modeName$);if(!ir.has(At)){const tn=()=>{};Yt(At,St,!!(1&we.$flags$)),tn()}}}const Ze=ie.$ancestorComponent$,It=()=>ge(ie,!0);Ze&&Ze["s-rc"]?Ze["s-rc"].push(It):It()});return function(ie,we,Ne,Oe,Ze){return X.apply(this,arguments)}}(),oo=X=>{Xn(X,"connectedCallback")},Wo=X=>{const me=X["s-cr"]=ve.createComment("");me["s-cn"]=!0,X.insertBefore(me,X.firstChild)},Nr=(X,me={})=>{const we=[],Ne=me.exclude||[],Oe=Ee.customElements,Ze=ve.head,It=Ze.querySelector("meta[charset]"),St=ve.createElement("style"),At=[],tn=ve.querySelectorAll(`[${We}]`);let wn,Ln=!0,qn=0;for(Object.assign(ae,me),ae.$resourcesUrl$=new URL(me.resourcesUrl||"./",ve.baseURI).href,ae.$flags$|=2;qn<tn.length;qn++)Yt(tn[qn].getAttribute(We),st(tn[qn].innerHTML),!0);X.map(ri=>{ri[1].map(Jr=>{const ki={$flags$:Jr[0],$tagName$:Jr[1],$members$:Jr[2],$listeners$:Jr[3]};ki.$members$=Jr[2],ki.$listeners$=Jr[3],ki.$attrsToReflect$=[],ki.$watchers$={};const qr=ki.$tagName$,ca=class extends HTMLElement{constructor(Yo){super(Yo),Tr(Yo=this,ki),1&ki.$flags$&&Yo.attachShadow({mode:"open",delegatesFocus:!!(16&ki.$flags$)})}connectedCallback(){wn&&(clearTimeout(wn),wn=null),Ln?At.push(this):ae.jmp(()=>(X=>{if(0==(1&ae.$flags$)){const me=Br(X),ie=me.$cmpMeta$,we=()=>{};if(1&me.$flags$)Ve(X,me,ie.$listeners$),oo(me.$lazyInstance$);else{let Ne;if(me.$flags$|=1,Ne=X.getAttribute(Ft),Ne){if(1&ie.$flags$){const Oe=pt(X.shadowRoot,ie,X.getAttribute("s-mode"));X.classList.remove(Oe+"-h",Oe+"-s")}((X,me,ie,we)=>{const Oe=X.shadowRoot,Ze=[],St=Oe?[]:null,At=we.$vnode$=Un(me,null);ae.$orgLocNodes$||rn(ve.body,ae.$orgLocNodes$=new Map),X[Ft]=ie,X.removeAttribute(Ft),vi(At,Ze,[],St,X,X,ie),Ze.map(tn=>{const wn=tn.$hostId$+"."+tn.$nodeId$,Ln=ae.$orgLocNodes$.get(wn),qn=tn.$elm$;Ln&&""===Ln["s-en"]&&Ln.parentNode.insertBefore(qn,Ln.nextSibling),Oe||(qn["s-hn"]=me,Ln&&(qn["s-ol"]=Ln,qn["s-ol"]["s-nr"]=qn)),ae.$orgLocNodes$.delete(wn)}),Oe&&St.map(tn=>{tn&&Oe.appendChild(tn)})})(X,ie.$tagName$,Ne,me)}Ne||12&ie.$flags$&&Wo(X);{let Oe=X;for(;Oe=Oe.parentNode||Oe.host;)if(1===Oe.nodeType&&Oe.hasAttribute("s-id")&&Oe["s-p"]||Oe["s-p"]){ce(me,me.$ancestorComponent$=Oe);break}}ie.$members$&&Object.entries(ie.$members$).map(([Oe,[Ze]])=>{if(31&Ze&&X.hasOwnProperty(Oe)){const It=X[Oe];delete X[Oe],X[Oe]=It}}),Fn(()=>yi(X,me,ie))}we()}})(this))}disconnectedCallback(){ae.jmp(()=>(X=>{if(0==(1&ae.$flags$)){const me=Br(this),ie=me.$lazyInstance$;me.$rmListeners$&&(me.$rmListeners$.map(we=>we()),me.$rmListeners$=void 0),Xn(ie,"disconnectedCallback")}})())}componentOnReady(){return Br(this).$onReadyPromise$}};ki.$lazyBundleId$=ri[0],!Ne.includes(qr)&&!Oe.get(qr)&&(we.push(qr),Oe.define(qr,hr(ca,ki,1)))})}),St.innerHTML=we+"{visibility:hidden}.hydrated{visibility:inherit}",St.setAttribute("data-styles",""),Ze.insertBefore(St,It?It.nextSibling:Ze.firstChild),Ln=!1,At.length?At.map(ri=>ri.connectedCallback()):ae.jmp(()=>wn=setTimeout(kn,30))},vn=X=>{const me=new URL(X,ae.$resourcesUrl$);return me.origin!==Ee.location.origin?me.href:me.pathname},Mr=new WeakMap,Br=X=>Mr.get(X),Yi=(X,me)=>Mr.set(me.$lazyInstance$=X,me),Tr=(X,me)=>{const ie={$flags$:0,$hostElement$:X,$cmpMeta$:me,$instanceValues$:new Map};return ie.$onInstancePromise$=new Promise(we=>ie.$onInstanceResolve$=we),ie.$onReadyPromise$=new Promise(we=>ie.$onReadyResolve$=we),X["s-p"]=[],X["s-rc"]=[],Ve(X,ie,me.$listeners$),Mr.set(X,ie)},yr=(X,me)=>me in X,ui=(X,me)=>(0,console.error)(X,me),Qr=new Map,Ki=(X,me,ie)=>{const we=X.$tagName$.replace(/-/g,"_"),Ne=X.$lazyBundleId$,Oe=Qr.get(Ne);return Oe?Oe[we]:de(863)(`./${Ne}.entry.js`).then(Ze=>(Qr.set(Ne,Ze),Ze[we]),ui)},ir=new Map,Qt=[],yn=[],sr=[],ni=(X,me)=>ie=>{X.push(ie),fe||(fe=!0,me&&4&ae.$flags$?Fn(Er):ae.raf(Er))},xi=X=>{for(let me=0;me<X.length;me++)try{X[me](performance.now())}catch(ie){ui(ie)}X.length=0},Er=()=>{xi(yn),xi(sr),(fe=yn.length>0)&&ae.raf(Er)},Fn=X=>he().then(X),$t=ni(yn,!1),Rn=ni(sr,!0),_i={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},5970:(Sn,Lt,de)=>{"use strict";de.d(Lt,{m:()=>Ee});var g=de(5861),Ae=de(527),$=de(206),je=de(8686),nt=de(6304);const it=ve=>(0,nt.c)().duration(ve?400:300),Qe=ve=>{let ae,ye;const qe=ve.width+8,he=(0,nt.c)(),Me=(0,nt.c)();ve.isEndSide?(ae=qe+"px",ye="0px"):(ae=-qe+"px",ye="0px"),he.addElement(ve.menuInnerEl).fromTo("transform",`translateX(${ae})`,`translateX(${ye})`);const rt="ios"===(0,je.b)(ve),et=rt?.2:.25;return Me.addElement(ve.backdropEl).fromTo("opacity",.01,et),it(rt).addAnimation([he,Me])},yt=ve=>{let ae,ye;const qe=(0,je.b)(ve),he=ve.width;ve.isEndSide?(ae=-he+"px",ye=he+"px"):(ae=he+"px",ye=-he+"px");const Me=(0,nt.c)().addElement(ve.menuInnerEl).fromTo("transform",`translateX(${ye})`,"translateX(0px)"),Ve=(0,nt.c)().addElement(ve.contentEl).fromTo("transform","translateX(0px)",`translateX(${ae})`),rt=(0,nt.c)().addElement(ve.backdropEl).fromTo("opacity",.01,.32);return it("ios"===qe).addAnimation([Me,Ve,rt])},ke=ve=>{const ae=(0,je.b)(ve),ye=ve.width*(ve.isEndSide?-1:1)+"px",qe=(0,nt.c)().addElement(ve.contentEl).fromTo("transform","translateX(0px)",`translateX(${ye})`);return it("ios"===ae).addAnimation(qe)},Ee=(()=>{const ve=new Map,ae=[],ye=function(){var ot=(0,g.Z)(function*(ht){const st=yield bt(ht);return!!st&&st.open()});return function(st){return ot.apply(this,arguments)}}(),qe=function(){var ot=(0,g.Z)(function*(ht){const st=yield void 0!==ht?bt(ht):Pe();return void 0!==st&&st.close()});return function(st){return ot.apply(this,arguments)}}(),he=function(){var ot=(0,g.Z)(function*(ht){const st=yield bt(ht);return!!st&&st.toggle()});return function(st){return ot.apply(this,arguments)}}(),Me=function(){var ot=(0,g.Z)(function*(ht,st){const Je=yield bt(st);return Je&&(Je.disabled=!ht),Je});return function(st,Je){return ot.apply(this,arguments)}}(),Ve=function(){var ot=(0,g.Z)(function*(ht,st){const Je=yield bt(st);return Je&&(Je.swipeGesture=ht),Je});return function(st,Je){return ot.apply(this,arguments)}}(),rt=function(){var ot=(0,g.Z)(function*(ht){if(null!=ht){const st=yield bt(ht);return void 0!==st&&st.isOpen()}return void 0!==(yield Pe())});return function(st){return ot.apply(this,arguments)}}(),et=function(){var ot=(0,g.Z)(function*(ht){const st=yield bt(ht);return!!st&&!st.disabled});return function(st){return ot.apply(this,arguments)}}(),bt=function(){var ot=(0,g.Z)(function*(ht){return yield pt(),"start"===ht||"end"===ht?Yt(ft=>ft.side===ht&&!ft.disabled)||Yt(ft=>ft.side===ht):null!=ht?Yt(Je=>Je.menuId===ht):Yt(Je=>!Je.disabled)||(ae.length>0?ae[0].el:void 0)});return function(st){return ot.apply(this,arguments)}}(),Pe=function(){var ot=(0,g.Z)(function*(){return yield pt(),Ue()});return function(){return ot.apply(this,arguments)}}(),Ke=function(){var ot=(0,g.Z)(function*(){return yield pt(),Ye()});return function(){return ot.apply(this,arguments)}}(),Pt=function(){var ot=(0,g.Z)(function*(){return yield pt(),Gt()});return function(){return ot.apply(this,arguments)}}(),at=(ot,ht)=>{ve.set(ot,ht)},Ge=ot=>{const ht=ot.side;ae.filter(st=>st.side===ht&&st!==ot).forEach(st=>st.disabled=!0)},Re=function(){var ot=(0,g.Z)(function*(ht,st,Je){if(Gt())return!1;if(st){const ft=yield Pe();ft&&ht.el!==ft&&(yield ft.setOpen(!1,!1))}return ht._setOpen(st,Je)});return function(st,Je,ft){return ot.apply(this,arguments)}}(),Ue=()=>Yt(ot=>ot._isOpen),Ye=()=>ae.map(ot=>ot.el),Gt=()=>ae.some(ot=>ot.isAnimating),Yt=ot=>{const ht=ae.find(ot);if(void 0!==ht)return ht.el},pt=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(ot=>new Promise(ht=>(0,$.c)(ot,ht))));return at("reveal",ke),at("push",yt),at("overlay",Qe),"undefined"!=typeof document&&document.addEventListener("ionBackButton",ot=>{const ht=Ue();ht&&ot.detail.register(Ae.MENU_BACK_BUTTON_PRIORITY,()=>ht.close())}),{registerAnimation:at,get:bt,getMenus:Ke,getOpen:Pe,isEnabled:et,swipeGesture:Ve,isAnimating:Pt,isOpen:rt,enable:Me,toggle:he,close:qe,open:ye,_getOpenSync:Ue,_createAnimation:(ot,ht)=>{const st=ve.get(ot);if(!st)throw new Error("animation not registered");return st(ht)},_register:ot=>{ae.indexOf(ot)<0&&(ot.disabled||Ge(ot),ae.push(ot))},_unregister:ot=>{const ht=ae.indexOf(ot);ht>-1&&ae.splice(ht,1)},_setOpen:Re,_setActiveMenu:Ge}})()},358:(Sn,Lt,de)=>{"use strict";de.d(Lt,{L:()=>je,a:()=>nt,b:()=>it,c:()=>Qe,d:()=>yt,e:()=>at,g:()=>Ge,l:()=>Ke,s:()=>Ft,t:()=>Ee});var g=de(5861),Ae=de(2361),$=de(206);const je="ionViewWillEnter",nt="ionViewDidEnter",it="ionViewWillLeave",Qe="ionViewDidLeave",yt="ionViewWillUnload",Ee=Re=>new Promise((Ie,Ue)=>{(0,Ae.c)(()=>{ve(Re),ae(Re).then(Ye=>{Ye.animation&&Ye.animation.destroy(),ye(Re),Ie(Ye)},Ye=>{ye(Re),Ue(Ye)})})}),ve=Re=>{const Ie=Re.enteringEl,Ue=Re.leavingEl;We(Ie,Ue,Re.direction),Re.showGoBack?Ie.classList.add("can-go-back"):Ie.classList.remove("can-go-back"),Ft(Ie,!1),Ie.style.setProperty("pointer-events","none"),Ue&&(Ft(Ue,!1),Ue.style.setProperty("pointer-events","none"))},ae=function(){var Re=(0,g.Z)(function*(Ie){const Ue=yield qe(Ie);return Ue&&Ae.B.isBrowser?he(Ue,Ie):Me(Ie)});return function(Ue){return Re.apply(this,arguments)}}(),ye=Re=>{const Ie=Re.enteringEl,Ue=Re.leavingEl;Ie.classList.remove("ion-page-invisible"),Ie.style.removeProperty("pointer-events"),void 0!==Ue&&(Ue.classList.remove("ion-page-invisible"),Ue.style.removeProperty("pointer-events"))},qe=function(){var Re=(0,g.Z)(function*(Ie){return Ie.leavingEl&&Ie.animated&&0!==Ie.duration?Ie.animationBuilder?Ie.animationBuilder:"ios"===Ie.mode?(yield Promise.resolve().then(de.bind(de,5797))).iosTransitionAnimation:(yield Promise.resolve().then(de.bind(de,6409))).mdTransitionAnimation:void 0});return function(Ue){return Re.apply(this,arguments)}}(),he=function(){var Re=(0,g.Z)(function*(Ie,Ue){yield Ve(Ue,!0);const Ye=Ie(Ue.baseEl,Ue);bt(Ue.enteringEl,Ue.leavingEl);const Gt=yield et(Ye,Ue);return Ue.progressCallback&&Ue.progressCallback(void 0),Gt&&Pe(Ue.enteringEl,Ue.leavingEl),{hasCompleted:Gt,animation:Ye}});return function(Ue,Ye){return Re.apply(this,arguments)}}(),Me=function(){var Re=(0,g.Z)(function*(Ie){const Ue=Ie.enteringEl,Ye=Ie.leavingEl;return yield Ve(Ie,!1),bt(Ue,Ye),Pe(Ue,Ye),{hasCompleted:!0}});return function(Ue){return Re.apply(this,arguments)}}(),Ve=function(){var Re=(0,g.Z)(function*(Ie,Ue){const Gt=(void 0!==Ie.deepWait?Ie.deepWait:Ue)?[at(Ie.enteringEl),at(Ie.leavingEl)]:[Pt(Ie.enteringEl),Pt(Ie.leavingEl)];yield Promise.all(Gt),yield rt(Ie.viewIsReady,Ie.enteringEl)});return function(Ue,Ye){return Re.apply(this,arguments)}}(),rt=function(){var Re=(0,g.Z)(function*(Ie,Ue){Ie&&(yield Ie(Ue))});return function(Ue,Ye){return Re.apply(this,arguments)}}(),et=(Re,Ie)=>{const Ue=Ie.progressCallback,Ye=new Promise(Gt=>{Re.onFinish(Yt=>Gt(1===Yt))});return Ue?(Re.progressStart(!0),Ue(Re)):Re.play(),Ye},bt=(Re,Ie)=>{Ke(Ie,it),Ke(Re,je)},Pe=(Re,Ie)=>{Ke(Re,nt),Ke(Ie,Qe)},Ke=(Re,Ie)=>{if(Re){const Ue=new CustomEvent(Ie,{bubbles:!1,cancelable:!1});Re.dispatchEvent(Ue)}},Pt=Re=>Re?new Promise(Ie=>(0,$.c)(Re,Ie)):Promise.resolve(),at=function(){var Re=(0,g.Z)(function*(Ie){const Ue=Ie;if(Ue){if(null!=Ue.componentOnReady){if(null!=(yield Ue.componentOnReady()))return}else if(null!=Ue.__registerHost)return void(yield new Promise(Gt=>(0,$.r)(Gt)));yield Promise.all(Array.from(Ue.children).map(at))}});return function(Ue){return Re.apply(this,arguments)}}(),Ft=(Re,Ie)=>{Ie?(Re.setAttribute("aria-hidden","true"),Re.classList.add("ion-page-hidden")):(Re.hidden=!1,Re.removeAttribute("aria-hidden"),Re.classList.remove("ion-page-hidden"))},We=(Re,Ie,Ue)=>{void 0!==Re&&(Re.style.zIndex="back"===Ue?"99":"101"),void 0!==Ie&&(Ie.style.zIndex="100")},Ge=Re=>Re.classList.contains("ion-page")?Re:Re.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Re},8686:(Sn,Lt,de)=>{"use strict";de.d(Lt,{a:()=>Ee,b:()=>Gt,c:()=>$,g:()=>fe,i:()=>Yt});var g=de(2361);class Ae{constructor(){this.m=new Map}reset(ot){this.m=new Map(Object.entries(ot))}get(ot,ht){const st=this.m.get(ot);return void 0!==st?st:ht}getBoolean(ot,ht=!1){const st=this.m.get(ot);return void 0===st?ht:"string"==typeof st?"true"===st:!!st}getNumber(ot,ht){const st=parseFloat(this.m.get(ot));return isNaN(st)?void 0!==ht?ht:NaN:st}set(ot,ht){this.m.set(ot,ht)}}const $=new Ae,ke="ionic-persist-config",fe=pt=>ve(pt),Ee=(pt,ot)=>("string"==typeof pt&&(ot=pt,pt=void 0),fe(pt).includes(ot)),ve=(pt=window)=>{if(void 0===pt)return[];pt.Ionic=pt.Ionic||{};let ot=pt.Ionic.platforms;return null==ot&&(ot=pt.Ionic.platforms=ae(pt),ot.forEach(ht=>pt.document.documentElement.classList.add(`plt-${ht}`))),ot},ae=pt=>{const ot=$.get("platform");return Object.keys(Ue).filter(ht=>{const st=ot&&ot[ht];return"function"==typeof st?st(pt):Ue[ht](pt)})},qe=pt=>!!(Re(pt,/iPad/i)||Re(pt,/Macintosh/i)&&Pe(pt)),Ve=pt=>Re(pt,/android|sink/i),Pe=pt=>Ie(pt,"(any-pointer:coarse)"),Pt=pt=>at(pt)||Ft(pt),at=pt=>!!(pt.cordova||pt.phonegap||pt.PhoneGap),Ft=pt=>{const ot=pt.Capacitor;return!(!ot||!ot.isNative)},Re=(pt,ot)=>ot.test(pt.navigator.userAgent),Ie=(pt,ot)=>pt.matchMedia&&pt.matchMedia(ot).matches,Ue={ipad:qe,iphone:pt=>Re(pt,/iPhone/i),ios:pt=>Re(pt,/iPhone|iPod/i)||qe(pt),android:Ve,phablet:pt=>{const ot=pt.innerWidth,ht=pt.innerHeight,st=Math.min(ot,ht),Je=Math.max(ot,ht);return st>390&&st<520&&Je>620&&Je<800},tablet:pt=>{const ot=pt.innerWidth,ht=pt.innerHeight,st=Math.min(ot,ht),Je=Math.max(ot,ht);return qe(pt)||(pt=>Ve(pt)&&!Re(pt,/mobile/i))(pt)||st>460&&st<820&&Je>780&&Je<1400},cordova:at,capacitor:Ft,electron:pt=>Re(pt,/electron/i),pwa:pt=>!!(pt.matchMedia&&pt.matchMedia("(display-mode: standalone)").matches||pt.navigator.standalone),mobile:Pe,mobileweb:pt=>Pe(pt)&&!Pt(pt),desktop:pt=>!Pe(pt),hybrid:Pt};let Ye;const Gt=pt=>pt&&(0,g.g)(pt)||Ye,Yt=(pt={})=>{if("undefined"==typeof window)return;const ot=window.document,ht=window,st=ht.Ionic=ht.Ionic||{},Je={};pt._ael&&(Je.ael=pt._ael),pt._rel&&(Je.rel=pt._rel),pt._ce&&(Je.ce=pt._ce),(0,g.s)(Je);const ft=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(pt=>{try{const ot=pt.sessionStorage.getItem(ke);return null!==ot?JSON.parse(ot):{}}catch(ot){return{}}})(ht)),{persistConfig:!1}),st.config),(pt=>{const ot={};return pt.location.search.slice(1).split("&").map(ht=>ht.split("=")).map(([ht,st])=>[decodeURIComponent(ht),decodeURIComponent(st)]).filter(([ht])=>((pt,ot)=>pt.substr(0,ot.length)===ot)(ht,"ionic:")).map(([ht,st])=>[ht.slice("ionic:".length),st]).forEach(([ht,st])=>{ot[ht]=st}),ot})(ht)),pt);$.reset(ft),$.getBoolean("persistConfig")&&((pt,ot)=>{try{pt.sessionStorage.setItem(ke,JSON.stringify(ot))}catch(ht){return}})(ht,ft),ve(ht),st.config=$,st.mode=Ye=$.get("mode",ot.documentElement.getAttribute("mode")||(Ee(ht,"ios")?"ios":"md")),$.set("mode",Ye),ot.documentElement.setAttribute("mode",Ye),ot.documentElement.classList.add(Ye),$.getBoolean("_testing")&&$.set("animated",!1);const vt=Xe=>Xe.tagName&&Xe.tagName.startsWith("ION-"),Vt=Xe=>["ios","md"].includes(Xe);(0,g.a)(Xe=>{for(;Xe;){const mn=Xe.mode||Xe.getAttribute("mode");if(mn){if(Vt(mn))return mn;vt(Xe)&&console.warn('Invalid ionic mode: "'+mn+'", expected: "ios" or "md"')}Xe=Xe.parentElement}return Ye})}},5797:(Sn,Lt,de)=>{"use strict";de.r(Lt),de.d(Lt,{iosTransitionAnimation:()=>ve,shadow:()=>it});var g=de(6304),Ae=de(358);de(2361);const nt=ae=>document.querySelector(`${ae}.ion-cloned-element`),it=ae=>ae.shadowRoot||ae,Qe=ae=>{const ye="ION-TABS"===ae.tagName?ae:ae.querySelector("ion-tabs"),qe="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=ye){const he=ye.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=he?he.querySelector(qe):null}return ae.querySelector(qe)},yt=(ae,ye)=>{const qe="ION-TABS"===ae.tagName?ae:ae.querySelector("ion-tabs");let he=[];if(null!=qe){const Me=qe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Me&&(he=Me.querySelectorAll("ion-buttons"))}else he=ae.querySelectorAll("ion-buttons");for(const Me of he){const Ve=Me.closest("ion-header"),rt=Ve&&!Ve.classList.contains("header-collapse-condense-inactive"),et=Me.querySelector("ion-back-button"),bt=Me.classList.contains("buttons-collapse"),Pe="start"===Me.slot||""===Me.slot;if(null!==et&&Pe&&(bt&&rt&&ye||!bt))return et}return null},fe=(ae,ye,qe,he,Me,Ve)=>{const rt=ye?`calc(100% - ${Ve.right+4}px)`:Ve.left-4+"px",et=ye?"7px":"-7px",bt=ye?"-4px":"4px",Pe=ye?"-4px":"4px",Ke=ye?"right":"left",Pt=ye?"left":"right",We=qe?[{offset:0,opacity:1,transform:`translate3d(${bt}, ${Ve.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${et}, ${Me.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${et}, ${Me.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${bt}, ${Ve.top-46}px, 0) scale(1)`}],Ie=qe?[{offset:0,opacity:1,transform:`translate3d(${Pe}, ${Ve.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Pe}, ${Ve.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Pe}, ${Ve.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Pe}, ${Ve.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Pe}, ${Ve.top-46}px, 0) scale(1)`}],Ue=(0,g.c)(),Ye=(0,g.c)(),Gt=nt("ion-back-button"),Yt=it(Gt).querySelector(".button-text"),pt=it(Gt).querySelector("ion-icon");Gt.text=he.text,Gt.mode=he.mode,Gt.icon=he.icon,Gt.color=he.color,Gt.disabled=he.disabled,Gt.style.setProperty("display","block"),Gt.style.setProperty("position","fixed"),Ye.addElement(pt),Ue.addElement(Yt),Ue.beforeStyles({"transform-origin":`${Ke} center`}).beforeAddWrite(()=>{he.style.setProperty("display","none"),Gt.style.setProperty(Ke,rt)}).afterAddWrite(()=>{he.style.setProperty("display",""),Gt.style.setProperty("display","none"),Gt.style.removeProperty(Ke)}).keyframes(We),Ye.beforeStyles({"transform-origin":`${Pt} center`}).keyframes(Ie),ae.addAnimation([Ue,Ye])},Ee=(ae,ye,qe,he,Me,Ve)=>{const rt=ye?`calc(100% - ${Me.right}px)`:`${Me.left}px`,et=ye?"-18px":"18px",bt=ye?"right":"left",Pt=qe?[{offset:0,opacity:0,transform:`translate3d(${et}, ${Ve.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Me.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Me.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${et}, ${Ve.top-4}px, 0) scale(0.5)`}],at=nt("ion-title"),Ft=(0,g.c)();at.innerText=he.innerText,at.size=he.size,at.color=he.color,Ft.addElement(at),Ft.beforeStyles({"transform-origin":`${bt} center`,height:"46px",display:"",position:"relative",[bt]:rt}).beforeAddWrite(()=>{he.style.setProperty("display","none")}).afterAddWrite(()=>{he.style.setProperty("display",""),at.style.setProperty("display","none")}).keyframes(Pt),ae.addAnimation(Ft)},ve=(ae,ye)=>{try{const qe="cubic-bezier(0.32,0.72,0,1)",he="opacity",Me="transform",Ve="0%",et="rtl"===ae.ownerDocument.dir,bt=et?"-99.5%":"99.5%",Pe=et?"33%":"-33%",Ke=ye.enteringEl,Pt=ye.leavingEl,at="back"===ye.direction,Ft=Ke.querySelector(":scope > ion-content"),We=Ke.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Ge=Ke.querySelectorAll(":scope > ion-header > ion-toolbar"),Re=(0,g.c)(),Ie=(0,g.c)();if(Re.addElement(Ke).duration(ye.duration||540).easing(ye.easing||qe).fill("both").beforeRemoveClass("ion-page-invisible"),Pt&&ae){const Yt=(0,g.c)();Yt.addElement(ae),Re.addAnimation(Yt)}if(Ft||0!==Ge.length||0!==We.length?(Ie.addElement(Ft),Ie.addElement(We)):Ie.addElement(Ke.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Re.addAnimation(Ie),at?Ie.beforeClearStyles([he]).fromTo("transform",`translateX(${Pe})`,`translateX(${Ve})`).fromTo(he,.8,1):Ie.beforeClearStyles([he]).fromTo("transform",`translateX(${bt})`,`translateX(${Ve})`),Ft){const Yt=it(Ft).querySelector(".transition-effect");if(Yt){const pt=Yt.querySelector(".transition-cover"),ot=Yt.querySelector(".transition-shadow"),ht=(0,g.c)(),st=(0,g.c)(),Je=(0,g.c)();ht.addElement(Yt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),st.addElement(pt).beforeClearStyles([he]).fromTo(he,0,.1),Je.addElement(ot).beforeClearStyles([he]).fromTo(he,.03,.7),ht.addAnimation([st,Je]),Ie.addAnimation([ht])}}const Ue=Ke.querySelector("ion-header.header-collapse-condense"),{forward:Ye,backward:Gt}=((ae,ye,qe,he,Me)=>{const Ve=yt(he,qe),rt=Qe(Me),et=Qe(he),bt=yt(Me,qe),Pe=null!==Ve&&null!==rt&&!qe,Ke=null!==et&&null!==bt&&qe;if(Pe){const Pt=rt.getBoundingClientRect(),at=Ve.getBoundingClientRect();Ee(ae,ye,qe,rt,Pt,at),fe(ae,ye,qe,Ve,Pt,at)}else if(Ke){const Pt=et.getBoundingClientRect(),at=bt.getBoundingClientRect();Ee(ae,ye,qe,et,Pt,at),fe(ae,ye,qe,bt,Pt,at)}return{forward:Pe,backward:Ke}})(Re,et,at,Ke,Pt);if(Ge.forEach(Yt=>{const pt=(0,g.c)();pt.addElement(Yt),Re.addAnimation(pt);const ot=(0,g.c)();ot.addElement(Yt.querySelector("ion-title"));const ht=(0,g.c)(),st=Array.from(Yt.querySelectorAll("ion-buttons,[menuToggle]")),Je=Yt.closest("ion-header"),ft=Je&&Je.classList.contains("header-collapse-condense-inactive");let vt;vt=st.filter(at?Vn=>{const In=Vn.classList.contains("buttons-collapse");return In&&!ft||!In}:Vn=>!Vn.classList.contains("buttons-collapse")),ht.addElement(vt);const Vt=(0,g.c)();Vt.addElement(Yt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Xe=(0,g.c)();Xe.addElement(it(Yt).querySelector(".toolbar-background"));const mn=(0,g.c)(),Zt=Yt.querySelector("ion-back-button");if(Zt&&mn.addElement(Zt),pt.addAnimation([ot,ht,Vt,Xe,mn]),ht.fromTo(he,.01,1),Vt.fromTo(he,.01,1),at)ft||ot.fromTo("transform",`translateX(${Pe})`,`translateX(${Ve})`).fromTo(he,.01,1),Vt.fromTo("transform",`translateX(${Pe})`,`translateX(${Ve})`),mn.fromTo(he,.01,1);else if(Ue||ot.fromTo("transform",`translateX(${bt})`,`translateX(${Ve})`).fromTo(he,.01,1),Vt.fromTo("transform",`translateX(${bt})`,`translateX(${Ve})`),Xe.beforeClearStyles([he,"transform"]),(null==Je?void 0:Je.translucent)?Xe.fromTo("transform",et?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Xe.fromTo(he,.01,"var(--opacity)"),Ye||mn.fromTo(he,.01,1),Zt&&!Ye){const In=(0,g.c)();In.addElement(it(Zt).querySelector(".button-text")).fromTo("transform",et?"translateX(-100px)":"translateX(100px)","translateX(0px)"),pt.addAnimation(In)}}),Pt){const Yt=(0,g.c)(),pt=Pt.querySelector(":scope > ion-content"),ot=Pt.querySelectorAll(":scope > ion-header > ion-toolbar"),ht=Pt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(pt||0!==ot.length||0!==ht.length?(Yt.addElement(pt),Yt.addElement(ht)):Yt.addElement(Pt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Re.addAnimation(Yt),at){Yt.beforeClearStyles([he]).fromTo("transform",`translateX(${Ve})`,et?"translateX(-100%)":"translateX(100%)");const st=(0,Ae.g)(Pt);Re.afterAddWrite(()=>{"normal"===Re.getDirection()&&st.style.setProperty("display","none")})}else Yt.fromTo("transform",`translateX(${Ve})`,`translateX(${Pe})`).fromTo(he,1,.8);if(pt){const st=it(pt).querySelector(".transition-effect");if(st){const Je=st.querySelector(".transition-cover"),ft=st.querySelector(".transition-shadow"),vt=(0,g.c)(),Vt=(0,g.c)(),Xe=(0,g.c)();vt.addElement(st).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Vt.addElement(Je).beforeClearStyles([he]).fromTo(he,.1,0),Xe.addElement(ft).beforeClearStyles([he]).fromTo(he,.7,.03),vt.addAnimation([Vt,Xe]),Yt.addAnimation([vt])}}ot.forEach(st=>{const Je=(0,g.c)();Je.addElement(st);const ft=(0,g.c)();ft.addElement(st.querySelector("ion-title"));const vt=(0,g.c)(),Vt=st.querySelectorAll("ion-buttons,[menuToggle]"),Xe=st.closest("ion-header"),mn=Xe&&Xe.classList.contains("header-collapse-condense-inactive"),Zt=Array.from(Vt).filter(_n=>{const rr=_n.classList.contains("buttons-collapse");return rr&&!mn||!rr});vt.addElement(Zt);const Vn=(0,g.c)(),In=st.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");In.length>0&&Vn.addElement(In);const Un=(0,g.c)();Un.addElement(it(st).querySelector(".toolbar-background"));const nr=(0,g.c)(),Pn=st.querySelector("ion-back-button");if(Pn&&nr.addElement(Pn),Je.addAnimation([ft,vt,Vn,nr,Un]),Re.addAnimation(Je),nr.fromTo(he,.99,0),vt.fromTo(he,.99,0),Vn.fromTo(he,.99,0),at){if(mn||ft.fromTo("transform",`translateX(${Ve})`,et?"translateX(-100%)":"translateX(100%)").fromTo(he,.99,0),Vn.fromTo("transform",`translateX(${Ve})`,et?"translateX(-100%)":"translateX(100%)"),Un.beforeClearStyles([he,"transform"]),(null==Xe?void 0:Xe.translucent)?Un.fromTo("transform","translateX(0px)",et?"translateX(-100%)":"translateX(100%)"):Un.fromTo(he,"var(--opacity)",0),Pn&&!Gt){const rr=(0,g.c)();rr.addElement(it(Pn).querySelector(".button-text")).fromTo("transform",`translateX(${Ve})`,`translateX(${(et?-124:124)+"px"})`),Je.addAnimation(rr)}}else mn||ft.fromTo("transform",`translateX(${Ve})`,`translateX(${Pe})`).fromTo(he,.99,0).afterClearStyles([Me,he]),Vn.fromTo("transform",`translateX(${Ve})`,`translateX(${Pe})`).afterClearStyles([Me,he]),nr.afterClearStyles([he]),ft.afterClearStyles([he]),vt.afterClearStyles([he])})}return Re}catch(qe){throw qe}}},6409:(Sn,Lt,de)=>{"use strict";de.r(Lt),de.d(Lt,{mdTransitionAnimation:()=>je});var g=de(6304),Ae=de(358);de(2361);const je=(nt,it)=>{const ke="back"===it.direction,Ee=it.leavingEl,ve=(0,Ae.g)(it.enteringEl),ae=ve.querySelector("ion-toolbar"),ye=(0,g.c)();if(ye.addElement(ve).fill("both").beforeRemoveClass("ion-page-invisible"),ke?ye.duration(it.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):ye.duration(it.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),ae){const qe=(0,g.c)();qe.addElement(ae),ye.addAnimation(qe)}if(Ee&&ke){ye.duration(it.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const qe=(0,g.c)();qe.addElement((0,Ae.g)(Ee)).onFinish(he=>{1===he&&qe.elements.length>0&&qe.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),ye.addAnimation(qe)}return ye}},3986:(Sn,Lt,de)=>{"use strict";de.d(Lt,{B:()=>st,a:()=>yt,b:()=>ke,c:()=>ae,d:()=>Ge,e:()=>qe,f:()=>Ie,g:()=>Gt,h:()=>it,i:()=>pt,j:()=>rt,k:()=>Ft,m:()=>Ee,s:()=>ht});var g=de(5861),Ae=de(8686),$=de(527),je=de(206);let nt=0;const it=new WeakMap,Qe=Je=>({create:ft=>he(Je,ft),dismiss:(ft,vt,Vt)=>Pt(document,ft,vt,Je,Vt),getTop:()=>(0,g.Z)(function*(){return Ft(document,Je)})()}),yt=Qe("ion-alert"),ke=Qe("ion-action-sheet"),Ee=Qe("ion-modal"),ae=Qe("ion-popover"),qe=Je=>{"undefined"!=typeof document&&Ke(document);const ft=nt++;Je.overlayIndex=ft,Je.hasAttribute("id")||(Je.id=`ion-overlay-${ft}`)},he=(Je,ft)=>"undefined"!=typeof window&&void 0!==window.customElements?window.customElements.whenDefined(Je).then(()=>{const vt=document.createElement(Je);return vt.classList.add("overlay-hidden"),Object.assign(vt,Object.assign(Object.assign({},ft),{hasController:!0})),Ue(document).appendChild(vt),new Promise(Vt=>(0,je.c)(vt,Vt))}):Promise.resolve(),Me='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',Ve="input:not([type=hidden]), textarea, button, select",rt=(Je,ft)=>{let vt=Je.querySelector(Me);const Vt=vt&&vt.shadowRoot;Vt&&(vt=Vt.querySelector(Ve)||vt),vt?(0,je.f)(vt):ft.focus()},bt=(Je,ft)=>{const vt=Array.from(Je.querySelectorAll(Me));let Vt=vt.length>0?vt[vt.length-1]:null;const Xe=Vt&&Vt.shadowRoot;Xe&&(Vt=Xe.querySelector(Ve)||Vt),Vt?Vt.focus():ft.focus()},Ke=Je=>{0===nt&&(nt=1,Je.addEventListener("focus",ft=>{((Je,ft)=>{const vt=Ft(ft,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Vt=Je.target;vt&&Vt&&!vt.classList.contains("ion-disable-focus-trap")&&(vt.shadowRoot?(()=>{if(vt.contains(Vt))vt.lastFocus=Vt;else{const Zt=vt.lastFocus;rt(vt,vt),Zt===ft.activeElement&&bt(vt,vt),vt.lastFocus=ft.activeElement}})():(()=>{if(vt===Vt)vt.lastFocus=void 0;else{const Zt=(0,je.g)(vt);if(!Zt.contains(Vt))return;const Vn=Zt.querySelector(".ion-overlay-wrapper");if(!Vn)return;if(Vn.contains(Vt))vt.lastFocus=Vt;else{const In=vt.lastFocus;rt(Vn,vt),In===ft.activeElement&&bt(Vn,vt),vt.lastFocus=ft.activeElement}}})())})(ft,Je)},!0),Je.addEventListener("ionBackButton",ft=>{const vt=Ft(Je);vt&&vt.backdropDismiss&&ft.detail.register($.OVERLAY_BACK_BUTTON_PRIORITY,()=>vt.dismiss(void 0,st))}),Je.addEventListener("keyup",ft=>{if("Escape"===ft.key){const vt=Ft(Je);vt&&vt.backdropDismiss&&vt.dismiss(void 0,st)}}))},Pt=(Je,ft,vt,Vt,Xe)=>{const mn=Ft(Je,Vt,Xe);return mn?mn.dismiss(ft,vt):Promise.reject("overlay does not exist")},Ft=(Je,ft,vt)=>{const Vt=((Je,ft)=>(void 0===ft&&(ft="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Je.querySelectorAll(ft)).filter(vt=>vt.overlayIndex>0)))(Je,ft).filter(Xe=>!(Je=>Je.classList.contains("overlay-hidden"))(Xe));return void 0===vt?Vt[Vt.length-1]:Vt.find(Xe=>Xe.id===vt)},We=(Je=!1)=>{const vt=Ue(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!vt||(Je?vt.setAttribute("aria-hidden","true"):vt.removeAttribute("aria-hidden"))},Ge=function(){var Je=(0,g.Z)(function*(ft,vt,Vt,Xe,mn){var Zt,Vn;if(ft.presented)return;We(!0),ft.presented=!0,ft.willPresent.emit(),null===(Zt=ft.willPresentShorthand)||void 0===Zt||Zt.emit();const In=(0,Ae.b)(ft),Un=ft.enterAnimation?ft.enterAnimation:Ae.c.get(vt,"ios"===In?Vt:Xe);(yield Ye(ft,Un,ft.el,mn))&&(ft.didPresent.emit(),null===(Vn=ft.didPresentShorthand)||void 0===Vn||Vn.emit()),"ION-TOAST"!==ft.el.tagName&&Re(ft.el),ft.keyboardClose&&ft.el.focus()});return function(vt,Vt,Xe,mn,Zt){return Je.apply(this,arguments)}}(),Re=function(){var Je=(0,g.Z)(function*(ft){let vt=document.activeElement;if(!vt)return;const Vt=vt&&vt.shadowRoot;Vt&&(vt=Vt.querySelector(Ve)||vt),yield ft.onDidDismiss(),vt.focus()});return function(vt){return Je.apply(this,arguments)}}(),Ie=function(){var Je=(0,g.Z)(function*(ft,vt,Vt,Xe,mn,Zt,Vn){var In,Un;if(!ft.presented)return!1;We(!1),ft.presented=!1;try{ft.el.style.setProperty("pointer-events","none"),ft.willDismiss.emit({data:vt,role:Vt}),null===(In=ft.willDismissShorthand)||void 0===In||In.emit({data:vt,role:Vt});const nr=(0,Ae.b)(ft),Pn=ft.leaveAnimation?ft.leaveAnimation:Ae.c.get(Xe,"ios"===nr?mn:Zt);"gesture"!==Vt&&(yield Ye(ft,Pn,ft.el,Vn)),ft.didDismiss.emit({data:vt,role:Vt}),null===(Un=ft.didDismissShorthand)||void 0===Un||Un.emit({data:vt,role:Vt}),it.delete(ft),ft.el.classList.add("overlay-hidden"),ft.el.style.removeProperty("pointer-events")}catch(nr){console.error(nr)}return ft.el.remove(),!0});return function(vt,Vt,Xe,mn,Zt,Vn,In){return Je.apply(this,arguments)}}(),Ue=Je=>Je.querySelector("ion-app")||Je.body,Ye=function(){var Je=(0,g.Z)(function*(ft,vt,Vt,Xe){Vt.classList.remove("overlay-hidden");const Zt=vt(ft.el,Xe);(!ft.animated||!Ae.c.getBoolean("animated",!0))&&Zt.duration(0),ft.keyboardClose&&Zt.beforeAddWrite(()=>{const In=Vt.ownerDocument.activeElement;In&&In.matches("input,ion-input, ion-textarea")&&In.blur()});const Vn=it.get(ft)||[];return it.set(ft,[...Vn,Zt]),yield Zt.play(),!0});return function(vt,Vt,Xe,mn){return Je.apply(this,arguments)}}(),Gt=(Je,ft)=>{let vt;const Vt=new Promise(Xe=>vt=Xe);return Yt(Je,ft,Xe=>{vt(Xe.detail)}),Vt},Yt=(Je,ft,vt)=>{const Vt=Xe=>{(0,je.b)(Je,ft,Vt),vt(Xe)};(0,je.a)(Je,ft,Vt)},pt=Je=>"cancel"===Je||Je===st,ot=Je=>Je(),ht=(Je,ft)=>{if("function"==typeof Je)return Ae.c.get("_zoneGate",ot)(()=>{try{return Je(ft)}catch(Vt){throw Vt}})},st="backdrop"},1936:(Sn,Lt,de)=>{"use strict";var g=de(9808),Ae=de(2096);class $ extends g.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class je extends ${static makeCurrent(){(0,g.HT)(new je)}onAndCancel(e,n,s){return e.addEventListener(n,s,!1),()=>{e.removeEventListener(n,s,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function it(){return nt=nt||document.querySelector("base"),nt?nt.getAttribute("href"):null}();return null==n?null:function yt(t){Qe=Qe||document.createElement("a"),Qe.setAttribute("href",t);const e=Qe.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){nt=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,g.Mx)(document.cookie,e)}}let Qe,nt=null;const ke=new Ae.OlP("TRANSITION_ID"),Ee=[{provide:Ae.ip1,useFactory:function fe(t,e,n){return()=>{n.get(Ae.CZH).donePromise.then(()=>{const s=(0,g.q)(),u=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let h=0;h<u.length;h++)s.remove(u[h])})}},deps:[ke,g.K0,Ae.zs3],multi:!0}];class ve{static init(){(0,Ae.VLi)(new ve)}addToWindow(e){Ae.dqk.getAngularTestability=(s,u=!0)=>{const h=e.findTestabilityInTree(s,u);if(null==h)throw new Error("Could not find testability for element.");return h},Ae.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ae.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),Ae.dqk.frameworkStabilizers||(Ae.dqk.frameworkStabilizers=[]),Ae.dqk.frameworkStabilizers.push(s=>{const u=Ae.dqk.getAllAngularTestabilities();let h=u.length,_=!1;const w=function(A){_=_||A,h--,0==h&&s(_)};u.forEach(function(A){A.whenStable(w)})})}findTestabilityInTree(e,n,s){if(null==n)return null;const u=e.getTestability(n);return null!=u?u:s?(0,g.q)().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let ae=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Ae.Yz7({token:t,factory:t.\u0275fac}),t})();const ye=new Ae.OlP("EventManagerPlugins");let qe=(()=>{class t{constructor(n,s){this._zone=s,this._eventNameToPlugin=new Map,n.forEach(u=>u.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,s,u){return this._findPluginFor(s).addEventListener(n,s,u)}addGlobalEventListener(n,s,u){return this._findPluginFor(s).addGlobalEventListener(n,s,u)}getZone(){return this._zone}_findPluginFor(n){const s=this._eventNameToPlugin.get(n);if(s)return s;const u=this._plugins;for(let h=0;h<u.length;h++){const _=u[h];if(_.supports(n))return this._eventNameToPlugin.set(n,_),_}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(Ae.LFG(ye),Ae.LFG(Ae.R0b))},t.\u0275prov=Ae.Yz7({token:t,factory:t.\u0275fac}),t})();class he{constructor(e){this._doc=e}addGlobalEventListener(e,n,s){const u=(0,g.q)().getGlobalEventTarget(this._doc,e);if(!u)throw new Error(`Unsupported event target ${u} for event ${n}`);return this.addEventListener(u,n,s)}}let Me=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const s=new Set;n.forEach(u=>{this._stylesSet.has(u)||(this._stylesSet.add(u),s.add(u))}),this.onStylesAdded(s)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Ae.Yz7({token:t,factory:t.\u0275fac}),t})(),Ve=(()=>{class t extends Me{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,s,u){n.forEach(h=>{const _=this._doc.createElement("style");_.textContent=h,u.push(s.appendChild(_))})}addHost(n){const s=[];this._addStylesToHost(this._stylesSet,n,s),this._hostNodes.set(n,s)}removeHost(n){const s=this._hostNodes.get(n);s&&s.forEach(rt),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((s,u)=>{this._addStylesToHost(n,u,s)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(rt))}}return t.\u0275fac=function(n){return new(n||t)(Ae.LFG(g.K0))},t.\u0275prov=Ae.Yz7({token:t,factory:t.\u0275fac}),t})();function rt(t){(0,g.q)().remove(t)}const et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},bt=/%COMP%/g;function Ge(t,e,n){for(let s=0;s<e.length;s++){let u=e[s];Array.isArray(u)?Ge(t,u,n):(u=u.replace(bt,t),n.push(u))}return n}function Re(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ue=(()=>{class t{constructor(n,s,u){this.eventManager=n,this.sharedStylesHost=s,this.appId=u,this.rendererByCompId=new Map,this.defaultRenderer=new Ye(n)}createRenderer(n,s){if(!n||!s)return this.defaultRenderer;switch(s.encapsulation){case Ae.ifc.Emulated:{let u=this.rendererByCompId.get(s.id);return u||(u=new pt(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,u)),u.applyToHost(n),u}case 1:case Ae.ifc.ShadowDom:return new ot(this.eventManager,this.sharedStylesHost,n,s);default:if(!this.rendererByCompId.has(s.id)){const u=Ge(s.id,s.styles,[]);this.sharedStylesHost.addStyles(u),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(Ae.LFG(qe),Ae.LFG(Ve),Ae.LFG(Ae.AFp))},t.\u0275prov=Ae.Yz7({token:t,factory:t.\u0275fac}),t})();class Ye{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(et[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,s){e&&e.insertBefore(n,s)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let s="string"==typeof e?document.querySelector(e):e;if(!s)throw new Error(`The selector "${e}" did not match any elements`);return n||(s.textContent=""),s}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,s,u){if(u){n=u+":"+n;const h=et[u];h?e.setAttributeNS(h,n,s):e.setAttribute(n,s)}else e.setAttribute(n,s)}removeAttribute(e,n,s){if(s){const u=et[s];u?e.removeAttributeNS(u,n):e.removeAttribute(`${s}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,s,u){u&(Ae.JOm.DashCase|Ae.JOm.Important)?e.style.setProperty(n,s,u&Ae.JOm.Important?"important":""):e.style[n]=s}removeStyle(e,n,s){s&Ae.JOm.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,s){e[n]=s}setValue(e,n){e.nodeValue=n}listen(e,n,s){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,Re(s)):this.eventManager.addEventListener(e,n,Re(s))}}class pt extends Ye{constructor(e,n,s,u){super(e),this.component=s;const h=Ge(u+"-"+s.id,s.styles,[]);n.addStyles(h),this.contentAttr=function Ft(t){return"_ngcontent-%COMP%".replace(bt,t)}(u+"-"+s.id),this.hostAttr=function We(t){return"_nghost-%COMP%".replace(bt,t)}(u+"-"+s.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const s=super.createElement(e,n);return super.setAttribute(s,this.contentAttr,""),s}}class ot extends Ye{constructor(e,n,s,u){super(e),this.sharedStylesHost=n,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const h=Ge(u.id,u.styles,[]);for(let _=0;_<h.length;_++){const w=document.createElement("style");w.textContent=h[_],this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,s){return super.insertBefore(this.nodeOrShadowRoot(e),n,s)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ht=(()=>{class t extends he{constructor(n){super(n)}supports(n){return!0}addEventListener(n,s,u){return n.addEventListener(s,u,!1),()=>this.removeEventListener(n,s,u)}removeEventListener(n,s,u){return n.removeEventListener(s,u)}}return t.\u0275fac=function(n){return new(n||t)(Ae.LFG(g.K0))},t.\u0275prov=Ae.Yz7({token:t,factory:t.\u0275fac}),t})();const st=["alt","control","meta","shift"],ft={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Vt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Xe=(()=>{class t extends he{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,s,u){const h=t.parseEventName(s),_=t.eventCallback(h.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,g.q)().onAndCancel(n,h.domEventName,_))}static parseEventName(n){const s=n.toLowerCase().split("."),u=s.shift();if(0===s.length||"keydown"!==u&&"keyup"!==u)return null;const h=t._normalizeKey(s.pop());let _="";if(st.forEach(A=>{const B=s.indexOf(A);B>-1&&(s.splice(B,1),_+=A+".")}),_+=h,0!=s.length||0===h.length)return null;const w={};return w.domEventName=u,w.fullKey=_,w}static getEventFullKey(n){let s="",u=function mn(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&vt.hasOwnProperty(e)&&(e=vt[e]))}return ft[e]||e}(n);return u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),st.forEach(h=>{h!=u&&Vt[h](n)&&(s+=h+".")}),s+=u,s}static eventCallback(n,s,u){return h=>{t.getEventFullKey(h)===n&&u.runGuarded(()=>s(h))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(Ae.LFG(g.K0))},t.\u0275prov=Ae.Yz7({token:t,factory:t.\u0275fac}),t})();const nr=(0,Ae.eFA)(Ae._c5,"browser",[{provide:Ae.Lbi,useValue:g.bD},{provide:Ae.g9A,useValue:function Zt(){je.makeCurrent(),ve.init()},multi:!0},{provide:g.K0,useFactory:function In(){return(0,Ae.RDi)(document),document},deps:[]}]),Pn=[{provide:Ae.zSh,useValue:"root"},{provide:Ae.qLn,useFactory:function Vn(){return new Ae.qLn},deps:[]},{provide:ye,useClass:ht,multi:!0,deps:[g.K0,Ae.R0b,Ae.Lbi]},{provide:ye,useClass:Xe,multi:!0,deps:[g.K0]},{provide:Ue,useClass:Ue,deps:[qe,Ve,Ae.AFp]},{provide:Ae.FYo,useExisting:Ue},{provide:Me,useExisting:Ve},{provide:Ve,useClass:Ve,deps:[g.K0]},{provide:Ae.dDg,useClass:Ae.dDg,deps:[Ae.R0b]},{provide:qe,useClass:qe,deps:[ye,Ae.R0b]},{provide:g.JF,useClass:ae,deps:[]}];let _n=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:Ae.AFp,useValue:n.appId},{provide:ke,useExisting:Ae.AFp},Ee]}}}return t.\u0275fac=function(n){return new(n||t)(Ae.LFG(t,12))},t.\u0275mod=Ae.oAB({type:t}),t.\u0275inj=Ae.cJS({providers:Pn,imports:[g.ez,Ae.hGG]}),t})();"undefined"!=typeof window&&window;var ai=de(501),vi=de(9537),rn=de(8367);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(r,c,v){r!=Array.prototype&&r!=Object.prototype&&(r[c]=v.value)},s=function n(r){r=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,r];for(var c=0;c<r.length;++c){var v=r[c];if(v&&v.Math==Math)return v}return globalThis}(this);function h(r){var c=0;return function(){return c<r.length?{done:!1,value:r[c++]}:{done:!0}}}function _(r){var c="undefined"!=typeof Symbol&&Symbol.iterator&&r[Symbol.iterator];return c?c.call(r):{next:h(r)}}!function u(r,c){if(c){var v=s;r=r.split(".");for(var I=0;I<r.length-1;I++){var O=r[I];O in v||(v[O]={}),v=v[O]}(c=c(I=v[r=r[r.length-1]]))!=I&&null!=c&&e(v,r,{configurable:!0,writable:!0,value:c})}}("Promise",function(r){function c(te){this.b=0,this.c=void 0,this.a=[];var Se=this.f();try{te(Se.resolve,Se.reject)}catch(Nt){Se.reject(Nt)}}function v(){this.a=null}function I(te){return te instanceof c?te:new c(function(Se){Se(te)})}if(r)return r;v.prototype.b=function(te){if(null==this.a){this.a=[];var Se=this;this.c(function(){Se.g()})}this.a.push(te)};var O=s.setTimeout;v.prototype.c=function(te){O(te,0)},v.prototype.g=function(){for(;this.a&&this.a.length;){var te=this.a;this.a=[];for(var Se=0;Se<te.length;++Se){var Nt=te[Se];te[Se]=null;try{Nt()}catch(zt){this.f(zt)}}}this.a=null},v.prototype.f=function(te){this.c(function(){throw te})},c.prototype.f=function(){function te(zt){return function(vr){Nt||(Nt=!0,zt.call(Se,vr))}}var Se=this,Nt=!1;return{resolve:te(this.m),reject:te(this.g)}},c.prototype.m=function(te){if(te===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(te instanceof c)this.s(te);else{e:switch(typeof te){case"object":var Se=null!=te;break e;case"function":Se=!0;break e;default:Se=!1}Se?this.v(te):this.h(te)}},c.prototype.v=function(te){var Se=void 0;try{Se=te.then}catch(Nt){return void this.g(Nt)}"function"==typeof Se?this.u(Se,te):this.h(te)},c.prototype.g=function(te){this.i(2,te)},c.prototype.h=function(te){this.i(1,te)},c.prototype.i=function(te,Se){if(0!=this.b)throw Error("Cannot settle("+te+", "+Se+"): Promise already settled in state"+this.b);this.b=te,this.c=Se,this.l()},c.prototype.l=function(){if(null!=this.a){for(var te=0;te<this.a.length;++te)Q.b(this.a[te]);this.a=null}};var Q=new v;return c.prototype.s=function(te){var Se=this.f();te.Ra(Se.resolve,Se.reject)},c.prototype.u=function(te,Se){var Nt=this.f();try{te.call(Se,Nt.resolve,Nt.reject)}catch(zt){Nt.reject(zt)}},c.prototype.then=function(te,Se){function Nt(pi,xs){return"function"==typeof pi?function(ad){try{zt(pi(ad))}catch(g1){vr(g1)}}:xs}var zt,vr,Ri=new c(function(pi,xs){zt=pi,vr=xs});return this.Ra(Nt(te,zt),Nt(Se,vr)),Ri},c.prototype.catch=function(te){return this.then(void 0,te)},c.prototype.Ra=function(te,Se){function Nt(){switch(zt.b){case 1:te(zt.c);break;case 2:Se(zt.c);break;default:throw Error("Unexpected state: "+zt.b)}}var zt=this;null==this.a?Q.b(Nt):this.a.push(Nt)},c.resolve=I,c.reject=function(te){return new c(function(Se,Nt){Nt(te)})},c.race=function(te){return new c(function(Se,Nt){for(var zt=_(te),vr=zt.next();!vr.done;vr=zt.next())I(vr.value).Ra(Se,Nt)})},c.all=function(te){var Se=_(te),Nt=Se.next();return Nt.done?I([]):new c(function(zt,vr){function Ri(ad){return function(g1){pi[ad]=g1,0==--xs&&zt(pi)}}var pi=[],xs=0;do{pi.push(void 0),xs++,I(Nt.value).Ra(Ri(pi.length-1),vr),Nt=Se.next()}while(!Nt.done)})},c});var w=w||{},A=this||self,B=/^[\w+/_-]+[=]{0,2}$/,Y=null;function ue(r){return(r=r.querySelector&&r.querySelector("script[nonce]"))&&(r=r.nonce||r.getAttribute("nonce"))&&B.test(r)?r:""}function pe(){}function ze(r){var c=typeof r;return"object"!=c?c:r?Array.isArray(r)?"array":c:"null"}function Le(r){var c=ze(r);return"array"==c||"object"==c&&"number"==typeof r.length}function ut(r){return"function"==ze(r)}function Mt(r){var c=typeof r;return"object"==c&&null!=r||"function"==c}function Wt(r){return Object.prototype.hasOwnProperty.call(r,hn)&&r[hn]||(r[hn]=++bn)}var hn="closure_uid_"+(1e9*Math.random()>>>0),bn=0;function tr(r,c,v){return r.call.apply(r.bind,arguments)}function Yn(r,c,v){if(!r)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,I),r.apply(c,O)}}return function(){return r.apply(c,arguments)}}function an(r,c,v){return(an=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tr:Yn).apply(null,arguments)}function Ai(r,c){var v=Array.prototype.slice.call(arguments,1);return function(){var I=v.slice();return I.push.apply(I,arguments),r.apply(this,I)}}var Ja=Date.now;function Gn(r,c){function v(){}v.prototype=c.prototype,r.bb=c.prototype,r.prototype=new v,r.prototype.constructor=r}function lv(r){return r}function mt(r,c,v){this.code=A0+r,this.message=c||yN[r]||"",this.a=v||null}function IR(r){var c=r&&r.code;return c?new mt(c.substring(A0.length),r.message,r.serverResponse):null}Gn(mt,Error),mt.prototype.w=function(){var r={code:this.code,message:this.message};return this.a&&(r.serverResponse=this.a),r},mt.prototype.toJSON=function(){return this.w()};var R0,A0="auth/",yN={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},PS={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function M0(r){for(var c in PS)if(PS[c].id===r)return{firebaseEndpoint:(r=PS[c]).Ua,secureTokenEndpoint:r.$a,identityPlatformEndpoint:r.Xa};return null}function DR(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch(c){return!1}}function Tu(r){if(Error.captureStackTrace)Error.captureStackTrace(this,Tu);else{var c=Error().stack;c&&(this.stack=c)}r&&(this.message=String(r))}function FS(r,c){for(var v="",I=(r=r.split("%s")).length-1,O=0;O<I;O++)v+=r[O]+(O<c.length?c[O]:"%s");Tu.call(this,v+r[I])}function fv(r,c){throw new FS("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}function LS(r,c){this.c=r,this.f=c,this.b=0,this.a=null}function TR(r,c){r.f(c),100>r.b&&(r.b++,c.next=r.a,r.a=c)}function SR(){this.b=this.a=null}R0=M0("__EID__")?"__EID__":void 0,Gn(Tu,Error),Tu.prototype.name="CustomError",Gn(FS,Tu),FS.prototype.name="AssertionError",LS.prototype.get=function(){if(0<this.b){this.b--;var r=this.a;this.a=r.next,r.next=null}else r=this.c();return r};var AR=new LS(function(){return new BS},function(r){r.reset()});function _N(){var r=tx,c=null;return r.a&&(c=r.a,r.a=r.a.next,r.a||(r.b=null),c.next=null),c}function BS(){this.next=this.b=this.a=null}SR.prototype.add=function(r,c){var v=AR.get();v.set(r,c),this.b?this.b.next=v:this.a=v,this.b=v},BS.prototype.set=function(r,c){this.a=r,this.b=c,this.next=null},BS.prototype.reset=function(){this.next=this.b=this.a=null};var MR=Array.prototype.indexOf?function(r,c){return Array.prototype.indexOf.call(r,c,void 0)}:function(r,c){if("string"==typeof r)return"string"!=typeof c||1!=c.length?-1:r.indexOf(c,0);for(var v=0;v<r.length;v++)if(v in r&&r[v]===c)return v;return-1},po=Array.prototype.forEach?function(r,c,v){Array.prototype.forEach.call(r,c,v)}:function(r,c,v){for(var I=r.length,O="string"==typeof r?r.split(""):r,Q=0;Q<I;Q++)Q in O&&c.call(v,O[Q],Q,r)},wN=Array.prototype.filter?function(r,c){return Array.prototype.filter.call(r,c,void 0)}:function(r,c){for(var v=r.length,I=[],O=0,Q="string"==typeof r?r.split(""):r,te=0;te<v;te++)if(te in Q){var Se=Q[te];c.call(void 0,Se,te,r)&&(I[O++]=Se)}return I},VC=Array.prototype.map?function(r,c){return Array.prototype.map.call(r,c,void 0)}:function(r,c){for(var v=r.length,I=Array(v),O="string"==typeof r?r.split(""):r,Q=0;Q<v;Q++)Q in O&&(I[Q]=c.call(void 0,O[Q],Q,r));return I},EN=Array.prototype.some?function(r,c){return Array.prototype.some.call(r,c,void 0)}:function(r,c){for(var v=r.length,I="string"==typeof r?r.split(""):r,O=0;O<v;O++)if(O in I&&c.call(void 0,I[O],O,r))return!0;return!1};function nd(r,c){return 0<=MR(r,c)}function UC(r,c){var v;return(v=0<=(c=MR(r,c)))&&Array.prototype.splice.call(r,c,1),v}function tl(r,c){!function bN(r,c){for(var v="string"==typeof r?r.split(""):r,I=r.length-1;0<=I;--I)I in v&&c.call(void 0,v[I],I,r)}(r,function(I,O){c.call(void 0,I,O,r)&&Array.prototype.splice.call(r,O,1)})}function VS(r){return Array.prototype.concat.apply([],arguments)}function qp(r){var c=r.length;if(0<c){for(var v=Array(c),I=0;I<c;I++)v[I]=r[I];return v}return[]}var dv,RR=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},IN=/&/g,DN=/</g,TN=/>/g,SN=/"/g,AN=/'/g,MN=/\x00/g,RN=/[\x00&<>"']/;function Hi(r,c){return-1!=r.indexOf(c)}function US(r,c){return r<c?-1:r>c?1:0}e:{var xR=A.navigator;if(xR){var kR=xR.userAgent;if(kR){dv=kR;break e}}dv=""}function ds(r){return Hi(dv,r)}function OR(r,c){for(var v in r)c.call(void 0,r[v],v,r)}function zp(r){for(var c in r)return!1;return!0}function vh(r){var v,c={};for(v in r)c[v]=r[v];return c}var NR="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Za(r,c){for(var v,I,O=1;O<arguments.length;O++){for(v in I=arguments[O])r[v]=I[v];for(var Q=0;Q<NR.length;Q++)v=NR[Q],Object.prototype.hasOwnProperty.call(I,v)&&(r[v]=I[v])}}function PR(r,c){e:{try{var v=r&&r.ownerDocument,I=v&&(v.defaultView||v.parentWindow);if((I=I||A).Element&&I.Location){var O=I;break e}}catch(te){}O=null}if(O&&void 0!==O[c]&&(!r||!(r instanceof O[c])&&(r instanceof O.Location||r instanceof O.Element))){if(Mt(r))try{var Q=r.constructor.displayName||r.constructor.name||Object.prototype.toString.call(r)}catch(te){Q="<object could not be stringified>"}else Q=void 0===r?"undefined":null===r?"null":typeof r;fv("Argument is not a %s (or a non-Element, non-Location mock); got: %s",c,Q)}}function Xl(r,c){this.a=r===jC&&c||"",this.b=FR}function jS(r){return r instanceof Xl&&r.constructor===Xl&&r.b===FR?r.a:(fv("expected object of type Const, got '"+r+"'"),"type_error:Const")}Xl.prototype.ta=!0,Xl.prototype.sa=function(){return this.a},Xl.prototype.toString=function(){return"Const{"+this.a+"}"};var $C,FR={},jC={};function LR(){if(void 0===$C){var r=null,c=A.trustedTypes;if(c&&c.createPolicy){try{r=c.createPolicy("goog#html",{createHTML:lv,createScript:lv,createScriptURL:lv})}catch(v){A.console&&A.console.error(v.message)}$C=r}else $C=r}return $C}function hv(r,c){this.a=c===VR?r:""}function BR(r){return r instanceof hv&&r.constructor===hv?r.a:(fv("expected object of type TrustedResourceUrl, got '"+r+"' of type "+ze(r)),"type_error:TrustedResourceUrl")}function $S(r,c){var v=jS(r);if(!kN.test(v))throw Error("Invalid TrustedResourceUrl format: "+v);return function ON(r){var c=LR();return new hv(r=c?c.createScriptURL(r):r,VR)}(r=v.replace(xN,function(I,O){if(!Object.prototype.hasOwnProperty.call(c,O))throw Error('Found marker, "'+O+'", in format string, "'+v+'", but no valid label mapping found in args: '+JSON.stringify(c));return(I=c[O])instanceof Xl?jS(I):encodeURIComponent(String(I))}))}hv.prototype.ta=!0,hv.prototype.sa=function(){return this.a.toString()},hv.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var xN=/%{(\w+)}/g,kN=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,VR={};function eu(r,c){this.a=c===x0?r:""}function HC(r){return r instanceof eu&&r.constructor===eu?r.a:(fv("expected object of type SafeUrl, got '"+r+"' of type "+ze(r)),"type_error:SafeUrl")}eu.prototype.ta=!0,eu.prototype.sa=function(){return this.a.toString()},eu.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var NN=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,PN=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,UR=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function jR(r){if(r instanceof eu)return r;if(r="object"==typeof r&&r.ta?r.sa():String(r),UR.test(r))r=new eu(r,x0);else{var c=(r=(r=String(r)).replace(/(%0A|%0D)/g,"")).match(PN);r=c&&NN.test(c[1])?new eu(r,x0):null}return r}function $R(r){return r instanceof eu?r:(r="object"==typeof r&&r.ta?r.sa():String(r),UR.test(r)||(r="about:invalid#zClosurez"),new eu(r,x0))}var x0={},HR=new eu("about:invalid#zClosurez",x0);function pv(r,c,v){this.a=v===GR?r:""}pv.prototype.ta=!0,pv.prototype.sa=function(){return this.a.toString()},pv.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var GR={};function qR(r,c,v,I){return r=r instanceof eu?r:$R(r),c=c||A,v=v instanceof Xl?jS(v):v||"",c.open(HC(r),v,I,void 0)}function zR(r,c){for(var v=r.split("%s"),I="",O=Array.prototype.slice.call(arguments,1);O.length&&1<v.length;)I+=v.shift()+O.shift();return I+v.join("%s")}function HS(r){return RN.test(r)&&(-1!=r.indexOf("&")&&(r=r.replace(IN,"&amp;")),-1!=r.indexOf("<")&&(r=r.replace(DN,"&lt;")),-1!=r.indexOf(">")&&(r=r.replace(TN,"&gt;")),-1!=r.indexOf('"')&&(r=r.replace(SN,"&quot;")),-1!=r.indexOf("'")&&(r=r.replace(AN,"&#39;")),-1!=r.indexOf("\0")&&(r=r.replace(MN,"&#0;"))),r}function GS(r){return GS[" "](r),r}GS[" "]=pe;var GC,r,VN=ds("Opera"),nl=ds("Trident")||ds("MSIE"),WR=ds("Edge"),UN=WR||nl,YR=ds("Gecko")&&!(Hi(dv.toLowerCase(),"webkit")&&!ds("Edge"))&&!(ds("Trident")||ds("MSIE"))&&!ds("Edge"),jN=Hi(dv.toLowerCase(),"webkit")&&!ds("Edge");function KR(){var r=A.document;return r?r.documentMode:void 0}e:{var qS="",zS=(r=dv,YR?/rv:([^\);]+)(\)|;)/.exec(r):WR?/Edge\/([\d\.]+)/.exec(r):nl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):jN?/WebKit\/(\S+)/.exec(r):VN?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(zS&&(qS=zS?zS[1]:""),nl){var WS=KR();if(null!=WS&&WS>parseFloat(qS)){GC=String(WS);break e}}GC=qS}var $N={};function XR(r){return function BN(r,c){var v=$N;return Object.prototype.hasOwnProperty.call(v,r)?v[r]:v[r]=c(r)}(r,function(){for(var c=0,v=RR(String(GC)).split("."),I=RR(String(r)).split("."),O=Math.max(v.length,I.length),Q=0;0==c&&Q<O;Q++){var te=v[Q]||"",Se=I[Q]||"";do{if(te=/(\d*)(\D*)(.*)/.exec(te)||["","","",""],Se=/(\d*)(\D*)(.*)/.exec(Se)||["","","",""],0==te[0].length&&0==Se[0].length)break;c=US(0==te[1].length?0:parseInt(te[1],10),0==Se[1].length?0:parseInt(Se[1],10))||US(0==te[2].length,0==Se[2].length)||US(te[2],Se[2]),te=te[3],Se=Se[3]}while(0==c)}return 0<=c})}var yh=A.document&&nl&&(KR()||parseInt(GC,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(r){}var HN=!nl||9<=Number(yh);function k0(r){var c=document;return"string"==typeof r?c.getElementById(r):r}function JR(r,c){OR(c,function(v,I){v&&"object"==typeof v&&v.ta&&(v=v.sa()),"style"==I?r.style.cssText=v:"class"==I?r.className=v:"for"==I?r.htmlFor=v:ZR.hasOwnProperty(I)?r.setAttribute(ZR[I],v):0==I.lastIndexOf("aria-",0)||0==I.lastIndexOf("data-",0)?r.setAttribute(I,v):r[I]=v})}var KS,WC,ZR={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function qN(r,c,v){function I(Se){Se&&c.appendChild("string"==typeof Se?r.createTextNode(Se):Se)}for(var O=2;O<v.length;O++){var Q=v[O];if(!Le(Q)||Mt(Q)&&0<Q.nodeType)I(Q);else{e:{if(Q&&"number"==typeof Q.length){if(Mt(Q)){var te="function"==typeof Q.item||"string"==typeof Q.item;break e}if(ut(Q)){te="function"==typeof Q.item;break e}}te=!1}po(te?qp(Q):Q,I)}}}function qC(r,c){return c=String(c),"application/xhtml+xml"===r.contentType&&(c=c.toLowerCase()),r.createElement(c)}function ex(r){A.setTimeout(function(){throw r},0)}function zC(r,c){WC||function WN(){if(A.Promise&&A.Promise.resolve){var r=A.Promise.resolve(void 0);WC=function(){r.then(nx)}}else WC=function(){var c=nx;!ut(A.setImmediate)||A.Window&&A.Window.prototype&&!ds("Edge")&&A.Window.prototype.setImmediate==A.setImmediate?(KS||(KS=function zN(){var r=A.MessageChannel;if(void 0===r&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ds("Presto")&&(r=function(){var O=qC(document,"IFRAME");O.style.display="none",document.documentElement.appendChild(O);var Q=O.contentWindow;(O=Q.document).open(),O.close();var te="callImmediate"+Math.random(),Se="file:"==Q.location.protocol?"*":Q.location.protocol+"//"+Q.location.host;O=an(function(Nt){("*"==Se||Nt.origin==Se)&&Nt.data==te&&this.port1.onmessage()},this),Q.addEventListener("message",O,!1),this.port1={},this.port2={postMessage:function(){Q.postMessage(te,Se)}}}),void 0!==r&&!ds("Trident")&&!ds("MSIE")){var c=new r,v={},I=v;return c.port1.onmessage=function(){if(void 0!==v.next){var O=(v=v.next).Hb;v.Hb=null,O()}},function(O){I.next={Hb:O},I=I.next,c.port2.postMessage(0)}}return function(O){A.setTimeout(O,0)}}()),KS(c)):A.setImmediate(c)}}(),XS||(WC(),XS=!0),tx.add(r,c)}var XS=!1,tx=new SR;function nx(){for(var r;r=_N();){try{r.a.call(r.b)}catch(c){ex(c)}TR(AR,r)}XS=!1}function Wr(r,c){if(this.a=Wp,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,r!=pe)try{var v=this;r.call(c,function(I){Yp(v,O0,I)},function(I){if(!(I instanceof gv))try{throw I instanceof Error?I:Error("Promise rejected.")}catch(O){}Yp(v,rd,I)})}catch(I){Yp(this,rd,I)}}var Wp=0,O0=2,rd=3;function rx(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}rx.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var ix=new LS(function(){return new rx},function(r){r.reset()});function QS(r,c,v){var I=ix.get();return I.g=r,I.b=c,I.f=v,I}function Zn(r){if(r instanceof Wr)return r;var c=new Wr(pe);return Yp(c,O0,r),c}function ro(r){return new Wr(function(c,v){v(r)})}function ox(r,c,v){cx(r,c,v,null)||zC(Ai(c,r))}function sx(r){return new Wr(function(c){var v=r.length,I=[];if(v)for(var O=function(Se,Nt,zt){v--,I[Se]=Nt?{Qb:!0,value:zt}:{Qb:!1,reason:zt},0==v&&c(I)},Q=0;Q<r.length;Q++)ox(r[Q],Ai(O,Q,!0),Ai(O,Q,!1));else c(I)})}function ax(r,c){if(r.a==Wp)if(r.c){var v=r.c;if(v.b){for(var I=0,O=null,Q=null,te=v.b;te&&(te.c||(I++,te.a==r&&(O=te),!(O&&1<I)));te=te.next)O||(Q=te);O&&(v.a==Wp&&1==I?ax(v,c):(Q?((I=Q).next==v.f&&(v.f=I),I.next=I.next.next):fx(v),dx(v,O,rd,c)))}r.c=null}else Yp(r,rd,c)}function JS(r,c){r.b||r.a!=O0&&r.a!=rd||lx(r),r.f?r.f.next=c:r.b=c,r.f=c}function ux(r,c,v,I){var O=QS(null,null,null);return O.a=new Wr(function(Q,te){O.g=c?function(Se){try{var Nt=c.call(I,Se);Q(Nt)}catch(zt){te(zt)}}:Q,O.b=v?function(Se){try{var Nt=v.call(I,Se);void 0===Nt&&Se instanceof gv?te(Se):Q(Nt)}catch(zt){te(zt)}}:te}),O.a.c=r,JS(r,O),O.a}function Yp(r,c,v){r.a==Wp&&(r===v&&(c=rd,v=new TypeError("Promise cannot resolve to itself")),r.a=1,cx(v,r.$c,r.ad,r)||(r.i=v,r.a=c,r.c=null,lx(r),c!=rd||v instanceof gv||function XN(r,c){r.g=!0,zC(function(){r.g&&px.call(null,c)})}(r,v)))}function cx(r,c,v,I){if(r instanceof Wr)return JS(r,QS(c||pe,v||null,I)),!0;if(DR(r))return r.then(c,v,I),!0;if(Mt(r))try{var O=r.then;if(ut(O))return function KN(r,c,v,I,O){function Q(Nt){Se||(Se=!0,I.call(O,Nt))}var Se=!1;try{c.call(r,function te(Nt){Se||(Se=!0,v.call(O,Nt))},Q)}catch(Nt){Q(Nt)}}(r,O,c,v,I),!0}catch(Q){return v.call(I,Q),!0}return!1}function lx(r){r.h||(r.h=!0,zC(r.gc,r))}function fx(r){var c=null;return r.b&&(r.b=(c=r.b).next,c.next=null),r.b||(r.f=null),c}function dx(r,c,v,I){if(v==rd&&c.b&&!c.c)for(;r&&r.g;r=r.c)r.g=!1;if(c.a)c.a.c=null,hx(c,v,I);else try{c.c?c.g.call(c.f):hx(c,v,I)}catch(O){px.call(null,O)}TR(ix,c)}function hx(r,c,v){c==O0?r.g.call(r.f,v):r.b&&r.b.call(r.f,v)}Wr.prototype.then=function(r,c,v){return ux(this,ut(r)?r:null,ut(c)?c:null,v)},Wr.prototype.$goog_Thenable=!0,(t=Wr.prototype).oa=function(r,c){return(r=QS(r,r,c)).c=!0,JS(this,r),this},t.o=function(r,c){return ux(this,null,r,c)},t.cancel=function(r){if(this.a==Wp){var c=new gv(r);zC(function(){ax(this,c)},this)}},t.$c=function(r){this.a=Wp,Yp(this,O0,r)},t.ad=function(r){this.a=Wp,Yp(this,rd,r)},t.gc=function(){for(var r;r=fx(this);)dx(this,r,this.a,this.i);this.h=!1};var px=ex;function gv(r){Tu.call(this,r)}function YC(){0!=ZS&&(gx[Wt(this)]=this),this.ya=this.ya,this.pa=this.pa}Gn(gv,Tu),gv.prototype.name="cancel";var ZS=0,gx={};function mx(r){if(!r.ya&&(r.ya=!0,r.Da(),0!=ZS)){var c=Wt(r);if(0!=ZS&&r.pa&&0<r.pa.length)throw Error(r+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete gx[c]}}YC.prototype.ya=!1,YC.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var QN=Object.freeze||function(r){return r},vx=!nl||9<=Number(yh),JN=nl&&!XR("9"),ZN=function(){if(!A.addEventListener||!Object.defineProperty)return!1;var r=!1,c=Object.defineProperty({},"passive",{get:function(){r=!0}});try{A.addEventListener("test",pe,c),A.removeEventListener("test",pe,c)}catch(v){}return r}();function tu(r,c){this.type=r,this.b=this.target=c,this.defaultPrevented=!1}function Kp(r,c){if(tu.call(this,r?r.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var v=this.type=r.type,I=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.b=c,c=r.relatedTarget){if(YR){e:{try{GS(c.nodeName);var O=!0;break e}catch(Q){}O=!1}O||(c=null)}}else"mouseover"==v?c=r.fromElement:"mouseout"==v&&(c=r.toElement);this.relatedTarget=c,I?(this.clientX=void 0!==I.clientX?I.clientX:I.pageX,this.clientY=void 0!==I.clientY?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:eP[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}tu.prototype.preventDefault=function(){this.defaultPrevented=!0},Gn(Kp,tu);var eP=QN({2:"touch",3:"pen",4:"mouse"});Kp.prototype.preventDefault=function(){Kp.bb.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,JN)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch(c){}},Kp.prototype.g=function(){return this.a};var N0="closure_listenable_"+(1e6*Math.random()|0),tP=0;function nP(r,c,v,I,O){this.listener=r,this.proxy=null,this.src=c,this.type=v,this.capture=!!I,this.Wa=O,this.key=++tP,this.wa=this.Qa=!1}function KC(r){r.wa=!0,r.listener=null,r.proxy=null,r.src=null,r.Wa=null}function XC(r){this.src=r,this.a={},this.b=0}function eA(r,c){var v=c.type;v in r.a&&UC(r.a[v],c)&&(KC(c),0==r.a[v].length&&(delete r.a[v],r.b--))}function tA(r,c,v,I){for(var O=0;O<r.length;++O){var Q=r[O];if(!Q.wa&&Q.listener==c&&Q.capture==!!v&&Q.Wa==I)return O}return-1}XC.prototype.add=function(r,c,v,I,O){var Q=r.toString();(r=this.a[Q])||(r=this.a[Q]=[],this.b++);var te=tA(r,c,I,O);return-1<te?(c=r[te],v||(c.Qa=!1)):((c=new nP(c,this.src,Q,!!I,O)).Qa=v,r.push(c)),c};var nA="closure_lm_"+(1e6*Math.random()|0),rA={};function ac(r,c,v,I,O){if(I&&I.once)iA(r,c,v,I,O);else if(Array.isArray(c))for(var Q=0;Q<c.length;Q++)ac(r,c[Q],v,I,O);else v=sA(v),r&&r[N0]?Ix(r,c,v,Mt(I)?!!I.capture:!!I,O):_x(r,c,v,!1,I,O)}function _x(r,c,v,I,O,Q){if(!c)throw Error("Invalid event type");var te=Mt(O)?!!O.capture:!!O,Se=QC(r);if(Se||(r[nA]=Se=new XC(r)),!(v=Se.add(c,v,I,te,Q)).proxy)if(I=function rP(){var r=iP,c=vx?function(v){return r.call(c.src,c.listener,v)}:function(v){if(!(v=r.call(c.src,c.listener,v)))return v};return c}(),v.proxy=I,I.src=r,I.listener=v,r.addEventListener)ZN||(O=te),void 0===O&&(O=!1),r.addEventListener(c.toString(),I,O);else if(r.attachEvent)r.attachEvent(wx(c.toString()),I);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(I)}}function iA(r,c,v,I,O){if(Array.isArray(c))for(var Q=0;Q<c.length;Q++)iA(r,c[Q],v,I,O);else v=sA(v),r&&r[N0]?aA(r,c,v,Mt(I)?!!I.capture:!!I,O):_x(r,c,v,!0,I,O)}function Su(r,c,v,I,O){if(Array.isArray(c))for(var Q=0;Q<c.length;Q++)Su(r,c[Q],v,I,O);else I=Mt(I)?!!I.capture:!!I,v=sA(v),r&&r[N0]?(r=r.v,(c=String(c).toString())in r.a&&-1<(v=tA(Q=r.a[c],v,I,O))&&(KC(Q[v]),Array.prototype.splice.call(Q,v,1),0==Q.length&&(delete r.a[c],r.b--))):r&&(r=QC(r))&&(c=r.a[c.toString()],r=-1,c&&(r=tA(c,v,I,O)),(v=-1<r?c[r]:null)&&bx(v))}function bx(r){if("number"!=typeof r&&r&&!r.wa){var c=r.src;if(c&&c[N0])eA(c.v,r);else{var v=r.type,I=r.proxy;c.removeEventListener?c.removeEventListener(v,I,r.capture):c.detachEvent?c.detachEvent(wx(v),I):c.addListener&&c.removeListener&&c.removeListener(I),(v=QC(c))?(eA(v,r),0==v.b&&(v.src=null,c[nA]=null)):KC(r)}}}function wx(r){return r in rA?rA[r]:rA[r]="on"+r}function Ex(r,c,v,I){var O=!0;if((r=QC(r))&&(c=r.a[c.toString()]))for(c=c.concat(),r=0;r<c.length;r++){var Q=c[r];Q&&Q.capture==v&&!Q.wa&&(Q=Cx(Q,I),O=O&&!1!==Q)}return O}function Cx(r,c){var v=r.listener,I=r.Wa||r.src;return r.Qa&&bx(r),v.call(I,c)}function iP(r,c){if(r.wa)return!0;if(!vx){if(!c)e:{c=["window","event"];for(var v=A,I=0;I<c.length;I++)if(null==(v=v[c[I]])){c=null;break e}c=v}if(c=new Kp(I=c,this),v=!0,!(0>I.keyCode||null!=I.returnValue)){e:{var O=!1;if(0==I.keyCode)try{I.keyCode=-1;break e}catch(te){O=!0}(O||null==I.returnValue)&&(I.returnValue=!0)}for(I=[],O=c.b;O;O=O.parentNode)I.push(O);for(r=r.type,O=I.length-1;0<=O;O--){c.b=I[O];var Q=Ex(I[O],r,!0,c);v=v&&Q}for(O=0;O<I.length;O++)c.b=I[O],Q=Ex(I[O],r,!1,c),v=v&&Q}return v}return Cx(r,new Kp(c,this))}function QC(r){return(r=r[nA])instanceof XC?r:null}var oA="__closure_events_fn_"+(1e9*Math.random()>>>0);function sA(r){return ut(r)?r:(r[oA]||(r[oA]=function(c){return r.handleEvent(c)}),r[oA])}function Da(){YC.call(this),this.v=new XC(this),this.bc=this,this.hb=null}function Ix(r,c,v,I,O){r.v.add(String(c),v,!1,I,O)}function aA(r,c,v,I,O){r.v.add(String(c),v,!0,I,O)}function JC(r,c,v,I){if(!(c=r.v.a[String(c)]))return!0;c=c.concat();for(var O=!0,Q=0;Q<c.length;++Q){var te=c[Q];if(te&&!te.wa&&te.capture==v){var Se=te.listener,Nt=te.Wa||te.src;te.Qa&&eA(r.v,te),O=!1!==Se.call(Nt,I)&&O}}return O&&!I.defaultPrevented}function uA(r,c,v){if(ut(r))v&&(r=an(r,v));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=an(r.handleEvent,r)}return 2147483647<Number(c)?-1:A.setTimeout(r,c||0)}function mv(r){var c=null;return new Wr(function(v,I){-1==(c=uA(function(){v(void 0)},r))&&I(Error("Failed to schedule timer."))}).o(function(v){throw A.clearTimeout(c),v})}function Dx(r){if(r.X&&"function"==typeof r.X)return r.X();if("string"==typeof r)return r.split("");if(Le(r)){for(var c=[],v=r.length,I=0;I<v;I++)c.push(r[I]);return c}for(I in c=[],v=0,r)c[v++]=r[I];return c}function Tx(r){if(r.Y&&"function"==typeof r.Y)return r.Y();if(!r.X||"function"!=typeof r.X){if(Le(r)||"string"==typeof r){var c=[];r=r.length;for(var v=0;v<r;v++)c.push(v);return c}for(var I in c=[],v=0,r)c[v++]=I;return c}}function vv(r,c){this.b={},this.a=[],this.c=0;var v=arguments.length;if(1<v){if(v%2)throw Error("Uneven number of arguments");for(var I=0;I<v;I+=2)this.set(arguments[I],arguments[I+1])}else if(r)if(r instanceof vv)for(v=r.Y(),I=0;I<v.length;I++)this.set(v[I],r.get(v[I]));else for(I in r)this.set(I,r[I])}function cA(r){if(r.c!=r.a.length){for(var c=0,v=0;c<r.a.length;){var I=r.a[c];Xp(r.b,I)&&(r.a[v++]=I),c++}r.a.length=v}if(r.c!=r.a.length){var O={};for(v=c=0;c<r.a.length;)Xp(O,I=r.a[c])||(r.a[v++]=I,O[I]=1),c++;r.a.length=v}}function Xp(r,c){return Object.prototype.hasOwnProperty.call(r,c)}Gn(Da,YC),Da.prototype[N0]=!0,Da.prototype.addEventListener=function(r,c,v,I){ac(this,r,c,v,I)},Da.prototype.removeEventListener=function(r,c,v,I){Su(this,r,c,v,I)},Da.prototype.dispatchEvent=function(r){var c,v=this.hb;if(v)for(c=[];v;v=v.hb)c.push(v);v=this.bc;var I=r.type||r;if("string"==typeof r)r=new tu(r,v);else if(r instanceof tu)r.target=r.target||v;else{var O=r;Za(r=new tu(I,v),O)}if(O=!0,c)for(var Q=c.length-1;0<=Q;Q--){var te=r.b=c[Q];O=JC(te,I,!0,r)&&O}if(O=JC(te=r.b=v,I,!0,r)&&O,O=JC(te,I,!1,r)&&O,c)for(Q=0;Q<c.length;Q++)O=JC(te=r.b=c[Q],I,!1,r)&&O;return O},Da.prototype.Da=function(){if(Da.bb.Da.call(this),this.v){var v,r=this.v;for(v in r.a){for(var I=r.a[v],O=0;O<I.length;O++)KC(I[O]);delete r.a[v],r.b--}}this.hb=null},(t=vv.prototype).X=function(){cA(this);for(var r=[],c=0;c<this.a.length;c++)r.push(this.b[this.a[c]]);return r},t.Y=function(){return cA(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(r,c){return Xp(this.b,r)?this.b[r]:c},t.set=function(r,c){Xp(this.b,r)||(this.c++,this.a.push(r)),this.b[r]=c},t.forEach=function(r,c){for(var v=this.Y(),I=0;I<v.length;I++){var O=v[I],Q=this.get(O);r.call(c,Q,O,this)}};var Sx=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function _h(r,c){var v;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,r instanceof _h?(this.i=void 0!==c?c:r.i,P0(this,r.c),this.l=r.l,this.a=r.a,F0(this,r.g),this.f=r.f,lA(this,xx(r.b)),this.h=r.h):r&&(v=String(r).match(Sx))?(this.i=!!c,P0(this,v[1]||"",!0),this.l=L0(v[2]||""),this.a=L0(v[3]||"",!0),F0(this,v[4]),this.f=L0(v[5]||"",!0),lA(this,v[6]||"",!0),this.h=L0(v[7]||"")):(this.i=!!c,this.b=new Qp(null,this.i))}function P0(r,c,v){r.c=v?L0(c,!0):c,r.c&&(r.c=r.c.replace(/:$/,""))}function F0(r,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);r.g=c}else r.g=null}function lA(r,c,v){c instanceof Qp?(r.b=c,function dP(r,c){c&&!r.f&&(bh(r),r.c=null,r.a.forEach(function(v,I){var O=I.toLowerCase();I!=O&&(Ql(this,I),Rx(this,O,v))},r)),r.f=c}(r.b,r.i)):(v||(c=B0(c,lP)),r.b=new Qp(c,r.i))}function Po(r,c,v){r.b.set(c,v)}function uc(r,c){return r.b.get(c)}function nu(r){return r instanceof _h?new _h(r):new _h(r,void 0)}function ZC(r,c,v,I){var O=new _h(null,void 0);return r&&P0(O,r),c&&(O.a=c),v&&F0(O,v),I&&(O.f=I),O}function L0(r,c){return r?c?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function B0(r,c,v){return"string"==typeof r?(r=encodeURI(r).replace(c,aP),v&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function aP(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}_h.prototype.toString=function(){var r=[],c=this.c;c&&r.push(B0(c,Ax,!0),":");var v=this.a;return(v||"file"==c)&&(r.push("//"),(c=this.l)&&r.push(B0(c,Ax,!0),"@"),r.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(v=this.g)&&r.push(":",String(v))),(v=this.f)&&(this.a&&"/"!=v.charAt(0)&&r.push("/"),r.push(B0(v,"/"==v.charAt(0)?cP:uP,!0))),(v=this.b.toString())&&r.push("?",v),(v=this.h)&&r.push("#",B0(v,fP)),r.join("")},_h.prototype.resolve=function(r){var c=new _h(this),v=!!r.c;v?P0(c,r.c):v=!!r.l,v?c.l=r.l:v=!!r.a,v?c.a=r.a:v=null!=r.g;var I=r.f;if(v)F0(c,r.g);else if(v=!!r.f){if("/"!=I.charAt(0))if(this.a&&!this.f)I="/"+I;else{var O=c.f.lastIndexOf("/");-1!=O&&(I=c.f.substr(0,O+1)+I)}if(".."==(O=I)||"."==O)I="";else if(Hi(O,"./")||Hi(O,"/.")){I=0==O.lastIndexOf("/",0),O=O.split("/");for(var Q=[],te=0;te<O.length;){var Se=O[te++];"."==Se?I&&te==O.length&&Q.push(""):".."==Se?((1<Q.length||1==Q.length&&""!=Q[0])&&Q.pop(),I&&te==O.length&&Q.push("")):(Q.push(Se),I=!0)}I=Q.join("/")}else I=O}return v?c.f=I:v=""!==r.b.toString(),v?lA(c,xx(r.b)):v=!!r.h,v&&(c.h=r.h),c};var Ax=/[#\/\?@]/g,uP=/[#\?:]/g,cP=/[#\?]/g,lP=/[#\?@]/g,fP=/#/g;function Qp(r,c){this.b=this.a=null,this.c=r||null,this.f=!!c}function bh(r){r.a||(r.a=new vv,r.b=0,r.c&&function sP(r,c){if(r){r=r.split("&");for(var v=0;v<r.length;v++){var I=r[v].indexOf("="),O=null;if(0<=I){var Q=r[v].substring(0,I);O=r[v].substring(I+1)}else Q=r[v];c(Q,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}(r.c,function(c,v){r.add(decodeURIComponent(c.replace(/\+/g," ")),v)}))}function Mx(r){var c=Tx(r);if(void 0===c)throw Error("Keys are undefined");var v=new Qp(null,void 0);r=Dx(r);for(var I=0;I<c.length;I++){var O=c[I],Q=r[I];Array.isArray(Q)?Rx(v,O,Q):v.add(O,Q)}return v}function Ql(r,c){bh(r),c=yv(r,c),Xp(r.a.b,c)&&(r.c=null,r.b-=r.a.get(c).length,Xp((r=r.a).b,c)&&(delete r.b[c],r.c--,r.a.length>2*r.c&&cA(r)))}function fA(r,c){return bh(r),c=yv(r,c),Xp(r.a.b,c)}function Rx(r,c,v){Ql(r,c),0<v.length&&(r.c=null,r.a.set(yv(r,c),qp(v)),r.b+=v.length)}function xx(r){var c=new Qp;return c.c=r.c,r.a&&(c.a=new vv(r.a),c.b=r.b),c}function yv(r,c){return c=String(c),r.f&&(c=c.toLowerCase()),c}function kx(r){var c=[];return dA(new hP,r,c),c.join("")}function hP(){}function dA(r,c,v){if(null==c)v.push("null");else{if("object"==typeof c){if(Array.isArray(c)){var I=c;c=I.length,v.push("[");for(var O="",Q=0;Q<c;Q++)v.push(O),dA(r,I[Q],v),O=",";return void v.push("]")}if(!(c instanceof String||c instanceof Number||c instanceof Boolean)){for(I in v.push("{"),O="",c)Object.prototype.hasOwnProperty.call(c,I)&&"function"!=typeof(Q=c[I])&&(v.push(O),Nx(I,v),v.push(":"),dA(r,Q,v),O=",");return void v.push("}")}c=c.valueOf()}switch(typeof c){case"string":Nx(c,v);break;case"number":v.push(isFinite(c)&&!isNaN(c)?String(c):"null");break;case"boolean":v.push(String(c));break;case"function":v.push("null");break;default:throw Error("Unknown type: "+typeof c)}}}(t=Qp.prototype).add=function(r,c){bh(this),this.c=null,r=yv(this,r);var v=this.a.get(r);return v||this.a.set(r,v=[]),v.push(c),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(r,c){bh(this),this.a.forEach(function(v,I){po(v,function(O){r.call(c,O,I,this)},this)},this)},t.Y=function(){bh(this);for(var r=this.a.X(),c=this.a.Y(),v=[],I=0;I<c.length;I++)for(var O=r[I],Q=0;Q<O.length;Q++)v.push(c[I]);return v},t.X=function(r){bh(this);var c=[];if("string"==typeof r)fA(this,r)&&(c=VS(c,this.a.get(yv(this,r))));else{r=this.a.X();for(var v=0;v<r.length;v++)c=VS(c,r[v])}return c},t.set=function(r,c){return bh(this),this.c=null,fA(this,r=yv(this,r))&&(this.b-=this.a.get(r).length),this.a.set(r,[c]),this.b+=1,this},t.get=function(r,c){return r&&0<(r=this.X(r)).length?String(r[0]):c},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var r=[],c=this.a.Y(),v=0;v<c.length;v++){var I=c[v],O=encodeURIComponent(String(I));I=this.X(I);for(var Q=0;Q<I.length;Q++){var te=O;""!==I[Q]&&(te+="="+encodeURIComponent(String(I[Q]))),r.push(te)}}return this.c=r.join("&")};var Ox={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},pP=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Nx(r,c){c.push('"',r.replace(pP,function(v){var I=Ox[v];return I||(I="\\u"+(65536|v.charCodeAt(0)).toString(16).substr(1),Ox[v]=I),I}),'"')}function hA(){var r=$s();return nl&&!!yh&&11==yh||/Edge\/\d+/.test(r)}function V0(){return A.window&&A.window.location.href||self&&self.location&&self.location.href||""}function Px(r,c){c=c||A.window;var v="about:blank";r&&(v=HC(jR(r)||HR)),c.location.href=v}function Fx(r,c){var I,v=[];for(I in r)I in c?typeof r[I]!=typeof c[I]?v.push(I):"object"==typeof r[I]&&null!=r[I]&&null!=c[I]?0<Fx(r[I],c[I]).length&&v.push(I):r[I]!==c[I]&&v.push(I):v.push(I);for(I in c)I in r||v.push(I);return v}function Lx(r){return!!((r=(r||$s()).toLowerCase()).match(/android/)||r.match(/webos/)||r.match(/iphone|ipad|ipod/)||r.match(/blackberry/)||r.match(/windows phone/)||r.match(/iemobile/))}function Jp(r){r=r||A.window;try{r.close()}catch(c){}}function Bx(r,c,v){var I=Math.floor(1e9*Math.random()).toString();c=c||500,v=v||600;var O=(window.screen.availHeight-v)/2,Q=(window.screen.availWidth-c)/2;for(te in c={width:c,height:v,top:0<O?O:0,left:0<Q?Q:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},v=$s().toLowerCase(),I&&(c.target=I,Hi(v,"crios/")&&(c.target="_blank")),_v($s())==mA&&(r=r||"http://localhost",c.scrollbars=!0),v=r||"",(r=c)||(r={}),I=window,c=v instanceof eu?v:jR(void 0!==v.href?v.href:String(v))||HR,v=r.target||v.target,O=[],r)switch(te){case"width":case"height":case"top":case"left":O.push(te+"="+r[te]);break;case"target":case"noopener":case"noreferrer":break;default:O.push(te+"="+(r[te]?1:0))}var te=O.join(",");if((ds("iPhone")&&!ds("iPod")&&!ds("iPad")||ds("iPad")||ds("iPod"))&&I.navigator&&I.navigator.standalone&&v&&"_self"!=v?(PR(te=qC(document,"A"),"HTMLAnchorElement"),c=c instanceof eu?c:$R(c),te.href=HC(c),te.setAttribute("target",v),r.noreferrer&&te.setAttribute("rel","noreferrer"),(r=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,I,1),te.dispatchEvent(r),te={}):r.noreferrer?(te=qR("",I,v,te),r=HC(c),te&&(UN&&Hi(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),te.opener=null,r='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+HS(r)+'">',r=new pv(r=(I=LR())?I.createHTML(r):r,null,GR),I=te.document)&&(I.write(function FN(r){return r instanceof pv&&r.constructor===pv?r.a:(fv("expected object of type SafeHtml, got '"+r+"' of type "+ze(r)),"type_error:SafeHtml")}(r)),I.close())):(te=qR(c,I,v,te))&&r.noopener&&(te.opener=null),te)try{te.focus()}catch(Se){}return te}var vP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yP=/^[^@]+@[^@]+$/;function eI(){var r=null;return new Wr(function(c){"complete"==A.document.readyState?c():(r=function(){c()},iA(window,"load",r))}).o(function(c){throw Su(window,"load",r),c})}function pA(r){return r=r||$s(),!("file:"!==wv()&&"ionic:"!==wv()||!r.toLowerCase().match(/iphone|ipad|ipod|android/))}function gA(){var r=A.window;try{return!(!r||r==r.top)}catch(c){return!1}}function rl(){return void 0!==A.WorkerGlobalScope&&"function"==typeof A.importScripts}function Jl(){return rn.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":rn.default.INTERNAL.hasOwnProperty("node")?"Node":rl()?"Worker":"Browser"}function Vx(){var r=Jl();return"ReactNative"===r||"Node"===r}var mA="Firefox";function _v(r){var c=r.toLowerCase();return Hi(c,"opera/")||Hi(c,"opr/")||Hi(c,"opios/")?"Opera":Hi(c,"iemobile")?"IEMobile":Hi(c,"msie")||Hi(c,"trident/")?"IE":Hi(c,"edge/")?"Edge":Hi(c,"firefox/")?mA:Hi(c,"silk/")?"Silk":Hi(c,"blackberry")?"Blackberry":Hi(c,"webos")?"Webos":!Hi(c,"safari/")||Hi(c,"chrome/")||Hi(c,"crios/")||Hi(c,"android")?!Hi(c,"chrome/")&&!Hi(c,"crios/")||Hi(c,"edge/")?Hi(c,"android")?"Android":(r=r.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==r.length?r[1]:"Other":"Chrome":"Safari"}var jx={md:"FirebaseCore-web",od:"FirebaseUI-web"};function bv(r,c){c=c||[];var O,v=[],I={};for(O in jx)I[jx[O]]=!0;for(O=0;O<c.length;O++)void 0!==I[c[O]]&&(delete I[c[O]],v.push(c[O]));return v.sort(),(c=v).length||(c=["FirebaseCore-web"]),"Browser"===(v=Jl())?v=_v(I=$s()):"Worker"===v&&(v=_v(I=$s())+"-"+v),v+"/JsCore/"+r+"/"+c.join(",")}function $s(){return A.navigator&&A.navigator.userAgent||""}function io(r,c){r=r.split("."),c=c||A;for(var v=0;v<r.length&&"object"==typeof c&&null!=c;v++)c=c[r[v]];return v!=r.length&&(c=void 0),c}function vA(){try{var r=A.localStorage,c=eg();if(r)return r.setItem(c,"1"),r.removeItem(c),!hA()||!!A.indexedDB}catch(v){return rl()&&!!A.indexedDB}return!1}function Zp(){return(tI()||"chrome-extension:"===wv()||pA())&&!Vx()&&vA()&&!rl()}function tI(){return"http:"===wv()||"https:"===wv()}function wv(){return A.location&&A.location.protocol||null}function U0(r){return!(Lx(r=r||$s())||_v(r)==mA)}function j0(r){return void 0===r?null:kx(r)}function $x(r){var v,c={};for(v in r)r.hasOwnProperty(v)&&null!=r[v]&&(c[v]=r[v]);return c}function Ev(r){if(null!==r)return JSON.parse(r)}function eg(r){return r||Math.floor(1e9*Math.random()).toString()}function Hx(r){return!("Safari"==_v(r=r||$s())||r.toLowerCase().match(/iphone|ipad|ipod/))}function Gx(){var r=A.___jsl;if(r&&r.H)for(var c in r.H)if(r.H[c].r=r.H[c].r||[],r.H[c].L=r.H[c].L||[],r.H[c].r=r.H[c].L.concat(),r.CP)for(var v=0;v<r.CP.length;v++)r.CP[v]=null}function wh(r,c){if(r>c)throw Error("Short delay should be less than long delay!");this.a=r,this.c=c,r=$s(),c=Jl(),this.b=Lx(r)||"ReactNative"===c}function yA(){var r=A.document;return!r||void 0===r.visibilityState||"visible"==r.visibilityState}function $0(r){try{var c=new Date(parseInt(r,10));if(!isNaN(c.getTime())&&!/[^0-9]/.test(r))return c.toUTCString()}catch(v){}return null}function qx(){return!(!io("fireauth.oauthhelper",A)&&!io("fireauth.iframe",A))}wh.prototype.get=function(){var r=A.navigator;return!r||"boolean"!=typeof r.onLine||!tI()&&"chrome-extension:"!==wv()&&void 0===r.connection||r.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var bA,zx={};function _A(r){zx[r]||(zx[r]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(r))}try{var wA={};Object.defineProperty(wA,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(wA,"abcd",{configurable:!0,enumerable:!0,value:2}),bA=2==wA.abcd}catch(r){bA=!1}function Bn(r,c,v){bA?Object.defineProperty(r,c,{configurable:!0,enumerable:!0,value:v}):r[c]=v}function Ta(r,c){if(c)for(var v in c)c.hasOwnProperty(v)&&Bn(r,v,c[v])}function Zl(r){var c={};return Ta(c,r),c}function EA(r){var c=r;if("object"==typeof r&&null!=r)for(var v in c="length"in r?[]:{},r)Bn(c,v,EA(r[v]));return c}function CA(r){var c=r&&(r[SA]?"phone":null);if(!(c&&r&&r[TA]))throw new mt("internal-error","Internal assert: invalid MultiFactorInfo object");Bn(this,"uid",r[TA]),Bn(this,"displayName",r[Wx]||null);var v=null;r[DA]&&(v=new Date(r[DA]).toUTCString()),Bn(this,"enrollmentTime",v),Bn(this,"factorId",c)}function IA(r){try{var c=new H0(r)}catch(v){c=null}return c}CA.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Wx="displayName",DA="enrolledAt",TA="mfaEnrollmentId",SA="phoneInfo";function H0(r){CA.call(this,r),Bn(this,"phoneNumber",r[SA])}function TP(r){var c={},v=r[SP],I=r[MP],O=r[RP];if(r=IA(r[AP]),!O||O!=nI&&O!=G0&&!v||O==G0&&!I||O==AA&&!r)throw Error("Invalid checkActionCode response!");O==G0?(c[Kx]=v||null,c[Xx]=v||null,c[Yx]=I):(c[Kx]=I||null,c[Xx]=I||null,c[Yx]=v||null),c[xP]=r||null,Bn(this,OP,O),Bn(this,kP,EA(c))}Gn(H0,CA),H0.prototype.w=function(){var r=H0.bb.w.call(this);return r.phoneNumber=this.phoneNumber,r};var AA="REVERT_SECOND_FACTOR_ADDITION",nI="EMAIL_SIGNIN",G0="VERIFY_AND_CHANGE_EMAIL",SP="email",AP="mfaInfo",MP="newEmail",RP="requestType",Yx="email",Kx="fromEmail",xP="multiFactorInfo",Xx="previousEmail",kP="data",OP="operation";function MA(r){var c=uc(r=nu(r),Qx)||null,v=uc(r,Jx)||null,I=uc(r,Zx)||null;if(I=I&&LP[I]||null,!c||!v||!I)throw new mt("argument-error",Qx+", "+Jx+"and "+Zx+" are required in a valid action code URL.");Ta(this,{apiKey:c,operation:I,code:v,continueUrl:uc(r,NP)||null,languageCode:uc(r,PP)||null,tenantId:uc(r,FP)||null})}var Qx="apiKey",Jx="oobCode",NP="continueUrl",PP="languageCode",Zx="mode",FP="tenantId",LP={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:AA,signIn:nI,verifyAndChangeEmail:G0,verifyEmail:"VERIFY_EMAIL"};function ek(r){try{return new MA(r)}catch(c){return null}}function rI(r){var c=r[BP];if(void 0===c)throw new mt("missing-continue-uri");if("string"!=typeof c||"string"==typeof c&&!c.length)throw new mt("invalid-continue-uri");this.h=c,this.b=this.a=null,this.g=!1;var v=r[tk];if(v&&"object"==typeof v){c=v[sk];var I=v[ik];if(v=v[ok],"string"==typeof c&&c.length){if(this.a=c,void 0!==I&&"boolean"!=typeof I)throw new mt("argument-error",ik+" property must be a boolean when specified.");if(this.g=!!I,void 0!==v&&("string"!=typeof v||"string"==typeof v&&!v.length))throw new mt("argument-error",ok+" property must be a non empty string when specified.");this.b=v||null}else{if(void 0!==c)throw new mt("argument-error",sk+" property must be a non empty string when specified.");if(void 0!==I||void 0!==v)throw new mt("missing-android-pkg-name")}}else if(void 0!==v)throw new mt("argument-error",tk+" property must be a non null object when specified.");if(this.f=null,(c=r[rk])&&"object"==typeof c){if("string"==typeof(c=c[ak])&&c.length)this.f=c;else if(void 0!==c)throw new mt("argument-error",ak+" property must be a non empty string when specified.")}else if(void 0!==c)throw new mt("argument-error",rk+" property must be a non null object when specified.");if(void 0!==(c=r[RA])&&"boolean"!=typeof c)throw new mt("argument-error",RA+" property must be a boolean when specified.");if(this.c=!!c,void 0!==(r=r[nk])&&("string"!=typeof r||"string"==typeof r&&!r.length))throw new mt("argument-error",nk+" property must be a non empty string when specified.");this.i=r||null}var tk="android",nk="dynamicLinkDomain",RA="handleCodeInApp",rk="iOS",BP="url",ik="installApp",ok="minimumVersion",sk="packageName",ak="bundleId";function iI(r){var c={};for(var v in c.continueUrl=r.h,c.canHandleCodeInApp=r.c,(c.androidPackageName=r.a)&&(c.androidMinimumVersion=r.b,c.androidInstallApp=r.g),c.iOSBundleId=r.f,c.dynamicLinkDomain=r.i,c)null===c[v]&&delete c[v];return c}var q0=null;function oI(r){var c=uk(r);if(!(c&&c.sub&&c.iss&&c.aud&&c.exp))throw Error("Invalid JWT");this.h=r,this.a=c.exp,this.i=c.sub,r=Date.now()/1e3,this.g=c.iat||(r>this.a?this.a:r),this.b=c.provider_id||c.firebase&&c.firebase.sign_in_provider||null,this.f=c.firebase&&c.firebase.tenant||null,this.c=!!c.is_anonymous||"anonymous"==this.b}function sI(r){try{return new oI(r)}catch(c){return null}}function uk(r){if(!r||3!=(r=r.split(".")).length)return null;for(var c=(4-(r=r[1]).length%4)%4,v=0;v<c;v++)r+=".";try{var I=function UP(r){var c=[];return function jP(r,c){function v(Nt){for(;I<r.length;){var zt=r.charAt(I++),vr=q0[zt];if(null!=vr)return vr;if(!/^[\s\xa0]*$/.test(zt))throw Error("Unknown base64 encoding at char: "+zt)}return Nt}!function $P(){if(!q0){q0={};for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),c=["+/=","+/","-_=","-_.","-_"],v=0;5>v;v++)for(var I=r.concat(c[v].split("")),O=0;O<I.length;O++){var Q=I[O];void 0===q0[Q]&&(q0[Q]=O)}}}();for(var I=0;;){var O=v(-1),Q=v(0),te=v(64),Se=v(64);if(64===Se&&-1===O)break;c(O<<2|Q>>4),64!=te&&(c(Q<<4&240|te>>2),64!=Se&&c(te<<6&192|Se))}}(r,function(v){c.push(v)}),c}(r);for(r=[],v=c=0;c<I.length;){var O=I[c++];if(128>O)r[v++]=String.fromCharCode(O);else if(191<O&&224>O){var Q=I[c++];r[v++]=String.fromCharCode((31&O)<<6|63&Q)}else if(239<O&&365>O){Q=I[c++];var te=I[c++],Nt=((7&O)<<18|(63&Q)<<12|(63&te)<<6|63&I[c++])-65536;r[v++]=String.fromCharCode(55296+(Nt>>10)),r[v++]=String.fromCharCode(56320+(1023&Nt))}else Q=I[c++],te=I[c++],r[v++]=String.fromCharCode((15&O)<<12|(63&Q)<<6|63&te)}return JSON.parse(r.join(""))}catch(zt){}return null}oI.prototype.T=function(){return this.f},oI.prototype.l=function(){return this.c},oI.prototype.toString=function(){return this.h};var ck="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),aI=["client_id","response_type","scope","redirect_uri","state"],xA={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:aI},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:aI},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:aI},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:ck},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function kA(r){for(var c in xA)if(xA[c].fa==r)return xA[c];return null}function lk(r){var c={};c["facebook.com"]=dk,c["google.com"]=pk,c["github.com"]=hk,c["twitter.com"]=gk;var v=r&&r[fk];try{if(v)return c[v]?new c[v](r):new ef(r);if(void 0!==r[OA])return new NA(r)}catch(I){}return null}var OA="idToken",fk="providerId";function NA(r){var c=r[fk];if(!c&&r[OA]){var v=sI(r[OA]);v&&v.b&&(c=v.b)}if(!c)throw Error("Invalid additional user info!");("anonymous"==c||"custom"==c)&&(c=null),v=!1,void 0!==r.isNewUser?v=!!r.isNewUser:"identitytoolkit#SignupNewUserResponse"===r.kind&&(v=!0),Bn(this,"providerId",c),Bn(this,"isNewUser",v)}function ef(r){NA.call(this,r),Bn(this,"profile",EA((r=Ev(r.rawUserInfo||"{}"))||{}))}function dk(r){if(ef.call(this,r),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function hk(r){if(ef.call(this,r),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Bn(this,"username",this.profile&&this.profile.login||null)}function pk(r){if(ef.call(this,r),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function gk(r){if(ef.call(this,r),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Bn(this,"username",r.screenName||null)}function mk(r){var c=nu(r),v=uc(c,"link"),I=uc(nu(v),"link");return c=uc(c,"deep_link_id"),uc(nu(c),"link")||c||I||v||r}function uI(r,c){if(!r&&!c)throw new mt("internal-error","Internal assert: no raw session string available");if(r&&c)throw new mt("internal-error","Internal assert: unable to determine the session type");this.a=r||null,this.b=c||null,this.type=this.a?z0:cI}Gn(ef,NA),Gn(dk,ef),Gn(hk,ef),Gn(pk,ef),Gn(gk,ef);var z0="enroll",cI="signin";function Cv(){}function Iv(r,c){return r.then(function(v){if(v[sl]){var I=sI(v[sl]);if(!I||c!=I.i)throw new mt("user-mismatch");return v}throw new mt("user-mismatch")}).o(function(v){throw v&&v.code&&v.code==A0+"user-not-found"?new mt("user-mismatch"):v})}function tg(r,c){if(!c)throw new mt("internal-error","failed to construct a credential");this.a=c,Bn(this,"providerId",r),Bn(this,"signInMethod",r)}function PA(r){return{pendingToken:r.a,requestUri:"http://localhost"}}function HP(r){if(r&&r.providerId&&r.signInMethod&&0==r.providerId.indexOf("saml.")&&r.pendingToken)try{return new tg(r.providerId,r.pendingToken)}catch(c){}return null}function id(r,c,v){if(this.a=null,c.idToken||c.accessToken)c.idToken&&Bn(this,"idToken",c.idToken),c.accessToken&&Bn(this,"accessToken",c.accessToken),c.nonce&&!c.pendingToken&&Bn(this,"nonce",c.nonce),c.pendingToken&&(this.a=c.pendingToken);else{if(!c.oauthToken||!c.oauthTokenSecret)throw new mt("internal-error","failed to construct a credential");Bn(this,"accessToken",c.oauthToken),Bn(this,"secret",c.oauthTokenSecret)}Bn(this,"providerId",r),Bn(this,"signInMethod",v)}function FA(r){var c={};return r.idToken&&(c.id_token=r.idToken),r.accessToken&&(c.access_token=r.accessToken),r.secret&&(c.oauth_token_secret=r.secret),c.providerId=r.providerId,r.nonce&&!r.a&&(c.nonce=r.nonce),c={postBody:Mx(c).toString(),requestUri:"http://localhost"},r.a&&(delete c.postBody,c.pendingToken=r.a),c}function GP(r){if(r&&r.providerId&&r.signInMethod){var c={idToken:r.oauthIdToken,accessToken:r.oauthTokenSecret?null:r.oauthAccessToken,oauthTokenSecret:r.oauthTokenSecret,oauthToken:r.oauthTokenSecret&&r.oauthAccessToken,nonce:r.nonce,pendingToken:r.pendingToken};try{return new id(r.providerId,c,r.signInMethod)}catch(v){}}return null}function ng(r,c){this.Qc=c||[],Ta(this,{providerId:r,isOAuthProvider:!0}),this.Jb={},this.qb=(kA(r)||{}).Ja||null,this.pb=null}function vk(r){if("string"!=typeof r||0!=r.indexOf("saml."))throw new mt("argument-error",'SAML provider IDs must be prefixed with "saml."');ng.call(this,r,[])}function Au(r){ng.call(this,r,aI),this.a=[]}function rg(){Au.call(this,"facebook.com")}function yk(r){if(!r)throw new mt("argument-error","credential failed: expected 1 argument (the OAuth access token).");var c=r;return Mt(r)&&(c=r.accessToken),(new rg).credential({accessToken:c})}function ig(){Au.call(this,"github.com")}function _k(r){if(!r)throw new mt("argument-error","credential failed: expected 1 argument (the OAuth access token).");var c=r;return Mt(r)&&(c=r.accessToken),(new ig).credential({accessToken:c})}function og(){Au.call(this,"google.com"),this.Ca("profile")}function bk(r,c){var v=r;return Mt(r)&&(v=r.idToken,c=r.accessToken),(new og).credential({idToken:v,accessToken:c})}function Dv(){ng.call(this,"twitter.com",ck)}function wk(r,c){var v=r;if(Mt(v)||(v={oauthToken:r,oauthTokenSecret:c}),!v.oauthToken||!v.oauthTokenSecret)throw new mt("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new id("twitter.com",v,"twitter.com")}function Eh(r,c,v){this.a=r,this.f=c,Bn(this,"providerId","password"),Bn(this,"signInMethod",v===cc.EMAIL_LINK_SIGN_IN_METHOD?cc.EMAIL_LINK_SIGN_IN_METHOD:cc.EMAIL_PASSWORD_SIGN_IN_METHOD)}function qP(r){return r&&r.email&&r.password?new Eh(r.email,r.password,r.signInMethod):null}function cc(){Ta(this,{providerId:"password",isOAuthProvider:!1})}function Ek(r,c){if(!(c=LA(c)))throw new mt("argument-error","Invalid email link!");return new Eh(r,c.code,cc.EMAIL_LINK_SIGN_IN_METHOD)}function LA(r){return(r=ek(r=mk(r)))&&r.operation===nI?r:null}function Ch(r){if(!(r.fb&&r.eb||r.La&&r.ea))throw new mt("internal-error");this.a=r,Bn(this,"providerId","phone"),this.fa="phone",Bn(this,"signInMethod","phone")}function zP(r){if(r&&"phone"===r.providerId&&(r.verificationId&&r.verificationCode||r.temporaryProof&&r.phoneNumber)){var c={};return po(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(v){r[v]&&(c[v]=r[v])}),new Ch(c)}return null}function W0(r){return r.a.La&&r.a.ea?{temporaryProof:r.a.La,phoneNumber:r.a.ea}:{sessionInfo:r.a.fb,code:r.a.eb}}function od(r){try{this.a=r||rn.default.auth()}catch(c){throw new mt("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Ta(this,{providerId:"phone",isOAuthProvider:!1})}function Ck(r,c){if(!r)throw new mt("missing-verification-id");if(!c)throw new mt("missing-verification-code");return new Ch({fb:r,eb:c})}function BA(r){if(r.temporaryProof&&r.phoneNumber)return new Ch({La:r.temporaryProof,ea:r.phoneNumber});var c=r&&r.providerId;if(!c||"password"===c)return null;var v=r&&r.oauthAccessToken,I=r&&r.oauthTokenSecret,O=r&&r.nonce,Q=r&&r.oauthIdToken,te=r&&r.pendingToken;try{switch(c){case"google.com":return bk(Q,v);case"facebook.com":return yk(v);case"github.com":return _k(v);case"twitter.com":return wk(v,I);default:return v||I||Q||te?te?0==c.indexOf("saml.")?new tg(c,te):new id(c,{pendingToken:te,idToken:r.oauthIdToken,accessToken:r.oauthAccessToken},c):new Au(c).credential({idToken:Q,accessToken:v,rawNonce:O}):null}}catch(Se){return null}}function VA(r){if(!r.isOAuthProvider)throw new mt("invalid-oauth-provider")}function il(r,c,v,I,O,Q,te){if(this.c=r,this.b=c||null,this.g=v||null,this.f=I||null,this.i=Q||null,this.h=te||null,this.a=O||null,!this.g&&!this.a)throw new mt("invalid-auth-event");if(this.g&&this.a)throw new mt("invalid-auth-event");if(this.g&&!this.f)throw new mt("invalid-auth-event")}function Ik(r){return(r=r||{}).type?new il(r.type,r.eventId,r.urlResponse,r.sessionId,r.error&&IR(r.error),r.postBody,r.tenantId):null}function WP(){this.b=null,this.a=[]}uI.prototype.Ha=function(){return Zn(this.a?this.a:this.b)},uI.prototype.w=function(){return this.type==z0?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},Cv.prototype.ka=function(){},Cv.prototype.b=function(){},Cv.prototype.c=function(){},Cv.prototype.w=function(){},tg.prototype.ka=function(r){return iM(r,PA(this))},tg.prototype.b=function(r,c){var v=PA(this);return v.idToken=c,oM(r,v)},tg.prototype.c=function(r,c){return Iv(sM(r,PA(this)),c)},tg.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},id.prototype.ka=function(r){return iM(r,FA(this))},id.prototype.b=function(r,c){var v=FA(this);return v.idToken=c,oM(r,v)},id.prototype.c=function(r,c){return Iv(sM(r,FA(this)),c)},id.prototype.w=function(){var r={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(r.oauthIdToken=this.idToken),this.accessToken&&(r.oauthAccessToken=this.accessToken),this.secret&&(r.oauthTokenSecret=this.secret),this.nonce&&(r.nonce=this.nonce),this.a&&(r.pendingToken=this.a),r},ng.prototype.Ka=function(r){return this.Jb=vh(r),this},Gn(vk,ng),Gn(Au,ng),Au.prototype.Ca=function(r){return nd(this.a,r)||this.a.push(r),this},Au.prototype.Rb=function(){return qp(this.a)},Au.prototype.credential=function(r,c){var v;if(!(v=Mt(r)?{idToken:r.idToken||null,accessToken:r.accessToken||null,nonce:r.rawNonce||null}:{idToken:r||null,accessToken:c||null}).idToken&&!v.accessToken)throw new mt("argument-error","credential failed: must provide the ID token and/or the access token.");return new id(this.providerId,v,this.providerId)},Gn(rg,Au),Bn(rg,"PROVIDER_ID","facebook.com"),Bn(rg,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),Gn(ig,Au),Bn(ig,"PROVIDER_ID","github.com"),Bn(ig,"GITHUB_SIGN_IN_METHOD","github.com"),Gn(og,Au),Bn(og,"PROVIDER_ID","google.com"),Bn(og,"GOOGLE_SIGN_IN_METHOD","google.com"),Gn(Dv,ng),Bn(Dv,"PROVIDER_ID","twitter.com"),Bn(Dv,"TWITTER_SIGN_IN_METHOD","twitter.com"),Eh.prototype.ka=function(r){return this.signInMethod==cc.EMAIL_LINK_SIGN_IN_METHOD?Xr(r,MF,{email:this.a,oobCode:this.f}):Xr(r,Kk,{email:this.a,password:this.f})},Eh.prototype.b=function(r,c){return this.signInMethod==cc.EMAIL_LINK_SIGN_IN_METHOD?Xr(r,RF,{idToken:c,email:this.a,oobCode:this.f}):Xr(r,Yk,{idToken:c,email:this.a,password:this.f})},Eh.prototype.c=function(r,c){return Iv(this.ka(r),c)},Eh.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Ta(cc,{PROVIDER_ID:"password"}),Ta(cc,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Ta(cc,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ch.prototype.ka=function(r){return r.gb(W0(this))},Ch.prototype.b=function(r,c){var v=W0(this);return v.idToken=c,Xr(r,XF,v)},Ch.prototype.c=function(r,c){var v=W0(this);return v.operation="REAUTH",Iv(r=Xr(r,QF,v),c)},Ch.prototype.w=function(){var r={providerId:"phone"};return this.a.fb&&(r.verificationId=this.a.fb),this.a.eb&&(r.verificationCode=this.a.eb),this.a.La&&(r.temporaryProof=this.a.La),this.a.ea&&(r.phoneNumber=this.a.ea),r},od.prototype.gb=function(r,c){var v=this.a.a;return Zn(c.verify()).then(function(I){if("string"!=typeof I)throw new mt("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===c.type){var te,O=Mt(r)?r.session:null,Q=Mt(r)?r.phoneNumber:r;return te=O&&O.type==z0?O.Ha().then(function(Se){return function bF(r,c){return Xr(r,HF,c).then(function(v){return v.phoneSessionInfo.sessionInfo})}(v,{idToken:Se,phoneEnrollmentInfo:{phoneNumber:Q,recaptchaToken:I}})}):O&&O.type==cI?O.Ha().then(function(Se){return function wF(r,c){return Xr(r,GF,c).then(function(v){return v.phoneResponseInfo.sessionInfo})}(v,{mfaPendingCredential:Se,mfaEnrollmentId:r.multiFactorHint&&r.multiFactorHint.uid||r.multiFactorUid,phoneSignInInfo:{recaptchaToken:I}})}):function _F(r,c){return Xr(r,jF,c)}(v,{phoneNumber:Q,recaptchaToken:I}),te.then(function(Se){return"function"==typeof c.reset&&c.reset(),Se},function(Se){throw"function"==typeof c.reset&&c.reset(),Se})}throw new mt("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')})},Ta(od,{PROVIDER_ID:"phone"}),Ta(od,{PHONE_SIGN_IN_METHOD:"phone"}),il.prototype.getUid=function(){var r=[];return r.push(this.c),this.b&&r.push(this.b),this.f&&r.push(this.f),this.h&&r.push(this.h),r.join("-")},il.prototype.T=function(){return this.h},il.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var $A,UA=null;function jA(r){var c="unauthorized-domain",v=void 0,I=nu(r);r=I.a,"chrome-extension"==(I=I.c)?v=zR("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):"http"==I||"https"==I?v=zR("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):c="operation-not-supported-in-this-environment",mt.call(this,c,v)}function Y0(r,c,v){mt.call(this,r,v),(r=c||{}).Kb&&Bn(this,"email",r.Kb),r.ea&&Bn(this,"phoneNumber",r.ea),r.credential&&Bn(this,"credential",r.credential),r.$b&&Bn(this,"tenantId",r.$b)}function lI(r){if(r.code){var c=r.code||"";0==c.indexOf(A0)&&(c=c.substring(A0.length));var v={credential:BA(r),$b:r.tenantId};if(r.email)v.Kb=r.email;else if(r.phoneNumber)v.ea=r.phoneNumber;else if(!v.credential)return new mt(c,r.message||void 0);return new Y0(c,v,r.message)}return null}function K0(){}function fI(){}function Tk(r){if(!r.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var c=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],v=0;v<c.length;v++){var I=c[v];try{return new ActiveXObject(I),r.f=I}catch(O){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return r.f}function dI(){}function Sk(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=an(this.qc,this),this.a.onerror=an(this.Tb,this),this.a.onprogress=an(this.rc,this),this.a.ontimeout=an(this.vc,this)}function HA(r,c){r.readyState=c,r.onreadystatechange&&r.onreadystatechange()}function GA(r,c,v){this.reset(r,c,v,void 0,void 0)}function qA(r){this.f=r,this.b=this.c=this.a=null}function X0(r,c){this.name=r,this.value=c}Gn(jA,mt),Gn(Y0,mt),Y0.prototype.w=function(){var r={code:this.code,message:this.message};this.email&&(r.email=this.email),this.phoneNumber&&(r.phoneNumber=this.phoneNumber),this.tenantId&&(r.tenantId=this.tenantId);var c=this.credential&&this.credential.w();return c&&Za(r,c),r},Y0.prototype.toJSON=function(){return this.w()},K0.prototype.c=null,Gn(fI,K0),fI.prototype.a=function(){var r=Tk(this);return r?new ActiveXObject(r):new XMLHttpRequest},fI.prototype.b=function(){var r={};return Tk(this)&&(r[0]=!0,r[1]=!0),r},$A=new fI,Gn(dI,K0),dI.prototype.a=function(){var r=new XMLHttpRequest;if("withCredentials"in r)return r;if("undefined"!=typeof XDomainRequest)return new Sk;throw Error("Unsupported browser")},dI.prototype.b=function(){return{}},(t=Sk.prototype).open=function(r,c,v){if(null!=v&&!v)throw Error("Only async requests are supported.");this.a.open(r,c)},t.send=function(r){if(r){if("string"!=typeof r)throw Error("Only string data is supported");this.a.send(r)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(r){return"content-type"==r.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,HA(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",HA(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,HA(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},GA.prototype.a=null,GA.prototype.reset=function(r,c,v,I,O){I||Ja(),delete this.a},X0.prototype.toString=function(){return this.name};var Ak=new X0("SEVERE",1e3),zA=new X0("WARNING",900),XP=new X0("CONFIG",700),QP=new X0("FINE",500);function Mk(r){return r.c?r.c:r.a?Mk(r.a):(fv("Root logger has no level set."),null)}qA.prototype.log=function(r,c,v){if(r.value>=Mk(this).value)for(ut(c)&&(c=c()),r=new GA(r,String(c),this.f),v&&(r.a=v),v=this;v;)v=v.a};var WA={},hI=null;function YA(r){var c;if(hI||(hI=new qA(""),WA[""]=hI,hI.c=XP),!(c=WA[r])){c=new qA(r);var v=r.lastIndexOf("."),I=r.substr(v+1);(v=YA(r.substr(0,v))).b||(v.b={}),v.b[I]=c,c.a=v,WA[r]=c}return c}function lc(r,c){r&&r.log(QP,c,void 0)}function pI(r){this.f=r}function gI(r){Da.call(this),this.u=r,this.h=void 0,this.readyState=KA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=YA("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}Gn(pI,K0),pI.prototype.a=function(){return new gI(this.f)},pI.prototype.b=function(r){return function(){return r}}({}),Gn(gI,Da);var KA=0;function Rk(r){r.c.read().then(r.pc.bind(r)).catch(r.Va.bind(r))}function Q0(r){r.readyState=4,r.g=null,r.c=null,r.m=null,J0(r)}function J0(r){r.onreadystatechange&&r.onreadystatechange.call(r)}function Z0(r){Da.call(this),this.headers=new vv,this.D=r||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=xk,this.u=this.S=!1}(t=gI.prototype).open=function(r,c){if(this.readyState!=KA)throw this.abort(),Error("Error reopening a connection");this.s=r,this.f=c,this.readyState=1,J0(this)},t.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var c={headers:this.l,method:this.s,credentials:this.h,cache:void 0};r&&(c.body=r),this.u.fetch(new Request(this.f,c)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Q0(this)),this.readyState=KA},t.uc=function(r){this.a&&(this.g=r,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=r.headers,this.readyState=2,J0(this)),this.a&&(this.readyState=3,J0(this),this.a&&("arraybuffer"===this.responseType?r.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==A.ReadableStream&&"body"in r?(this.response=this.responseText="",this.c=r.body.getReader(),this.m=new TextDecoder,Rk(this)):r.text().then(this.tc.bind(this),this.Va.bind(this)))))},t.pc=function(r){if(this.a){var c=this.m.decode(r.value?r.value:new Uint8Array(0),{stream:!r.done});c&&(this.response=this.responseText+=c),r.done?Q0(this):J0(this),3==this.readyState&&Rk(this)}},t.tc=function(r){this.a&&(this.response=this.responseText=r,Q0(this))},t.sc=function(r){this.a&&(this.response=r,Q0(this))},t.Va=function(r){var c=this.i;c&&c.log(zA,"Failed to fetch url "+this.f,r instanceof Error?r:Error(r)),this.a&&Q0(this)},t.setRequestHeader=function(r,c){this.l.append(r,c)},t.getResponseHeader=function(r){return this.b?this.b.get(r.toLowerCase())||"":((r=this.i)&&r.log(zA,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var r=this.i;return r&&r.log(zA,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}r=[];for(var c=this.b.entries(),v=c.next();!v.done;)r.push((v=v.value)[0]+": "+v[1]),v=c.next();return r.join("\r\n")},Object.defineProperty(gI.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(r){this.h=r?"include":"same-origin"}}),Gn(Z0,Da);var xk="";Z0.prototype.b=YA("goog.net.XhrIo");var JP=/^https?$/i,ZP=["POST","PUT"];function nF(r){return"content-type"==r.toLowerCase()}function kk(r,c){r.c=!1,r.a&&(r.f=!0,r.a.abort(),r.f=!1),r.h=c,Ok(r),mI(r)}function Ok(r){r.J||(r.J=!0,r.dispatchEvent("complete"),r.dispatchEvent("error"))}function Nk(r){if(r.c&&void 0!==w)if(r.C[1]&&4==eb(r)&&2==vI(r))lc(r.b,sd(r,"Local request error detected and ignored"));else if(r.i&&4==eb(r))uA(r.Wb,0,r);else if(r.dispatchEvent("readystatechange"),4==eb(r)){lc(r.b,sd(r,"Request complete")),r.c=!1;try{var I,c=vI(r);e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}if(!(I=v)){var O;if(O=0===c){var Q=String(r.l).match(Sx)[1]||null;if(!Q&&A.self&&A.self.location){var te=A.self.location.protocol;Q=te.substr(0,te.length-1)}O=!JP.test(Q?Q.toLowerCase():"")}I=O}if(I)r.dispatchEvent("complete"),r.dispatchEvent("success");else{try{var Se=2<eb(r)?r.a.statusText:""}catch(Nt){lc(r.b,"Can not get status: "+Nt.message),Se=""}r.h=Se+" ["+vI(r)+"]",Ok(r)}}finally{mI(r)}}}function mI(r,c){if(r.a){Pk(r);var v=r.a,I=r.C[0]?pe:null;r.a=null,r.C=null,c||r.dispatchEvent("ready");try{v.onreadystatechange=I}catch(O){(r=r.b)&&r.log(Ak,"Problem encountered resetting onreadystatechange: "+O.message,void 0)}}}function Pk(r){r.a&&r.u&&(r.a.ontimeout=null),r.s&&(A.clearTimeout(r.s),r.s=null)}function eb(r){return r.a?r.a.readyState:0}function vI(r){try{return 2<eb(r)?r.a.status:-1}catch(c){return-1}}function sd(r,c){return c+" ["+r.P+" "+r.l+" "+vI(r)+"]"}function sg(r){var c=sF;this.g=[],this.u=c,this.s=r||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function tb(r,c,v){r.a=!0,r.c=v,r.f=!c,Lk(r)}function yI(r){if(r.a){if(!r.v)throw new _I(r);r.v=!1}}function XA(r,c,v,I){r.g.push([c,v,I]),r.a&&Lk(r)}function Fk(r){return EN(r.g,function(c){return ut(c[1])})}function Lk(r){if(r.h&&r.a&&Fk(r)){var c=r.h,v=bI[c];v&&(A.clearTimeout(v.a),delete bI[c]),r.h=0}r.b&&(r.b.l--,delete r.b),c=r.c;for(var I=v=!1;r.g.length&&!r.i;){var O=r.g.shift(),Q=O[0],te=O[1];if(O=O[2],Q=r.f?te:Q)try{var Se=Q.call(O||r.s,c);void 0!==Se&&(r.f=r.f&&(Se==c||Se instanceof Error),r.c=c=Se),(DR(c)||"function"==typeof A.Promise&&c instanceof A.Promise)&&(I=!0,r.i=!0)}catch(Nt){c=Nt,r.f=!0,Fk(r)||(v=!0)}}r.c=c,I&&(Se=an(r.m,r,!0),I=an(r.m,r,!1),c instanceof sg?(XA(c,Se,I),c.C=!0):c.then(Se,I)),v&&(c=new Bk(c),bI[c.a]=c,r.h=c.a)}function _I(){Tu.call(this)}function nb(){Tu.call(this)}function Bk(r){this.a=A.setTimeout(an(this.c,this),0),this.b=r}(t=Z0.prototype).Ma=function(){void 0!==w&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",lc(this.b,sd(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(lc(this.b,sd(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),mI(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),mI(this,!0)),Z0.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?Nk(this):this.Jc())},t.Jc=function(){Nk(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case xk:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var r=this.b;return r&&r.log(Ak,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(c){return lc(this.b,"Can not get response: "+c.message),null}},sg.prototype.cancel=function(r){if(this.a)this.c instanceof sg&&this.c.cancel();else{if(this.b){var c=this.b;delete this.b,r?c.cancel(r):(c.l--,0>=c.l&&c.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(r=new nb(this),yI(this),tb(this,!1,r))}},sg.prototype.m=function(r,c){this.i=!1,tb(this,r,c)},sg.prototype.then=function(r,c,v){var I,O,Q=new Wr(function(te,Se){I=te,O=Se});return XA(this,I,function(te){te instanceof nb?Q.cancel():O(te)}),Q.then(r,c,v)},sg.prototype.$goog_Thenable=!0,Gn(_I,Tu),_I.prototype.message="Deferred has already fired",_I.prototype.name="AlreadyCalledError",Gn(nb,Tu),nb.prototype.message="Deferred was canceled",nb.prototype.name="CanceledError",Bk.prototype.c=function(){throw delete bI[this.a],this.b};var bI={};function QA(r){var c={},v=c.document||document,I=BR(r).toString(),O=qC(document,"SCRIPT"),Q={Xb:O,Ma:void 0},te=new sg(Q),Se=null,Nt=null!=c.timeout?c.timeout:5e3;return 0<Nt&&(Se=window.setTimeout(function(){wI(O,!0);var zt=new JA(uF,"Timeout reached for loading script "+I);yI(te),tb(te,!1,zt)},Nt),Q.Ma=Se),O.onload=O.onreadystatechange=function(){O.readyState&&"loaded"!=O.readyState&&"complete"!=O.readyState||(wI(O,c.xd||!1,Se),yI(te),tb(te,!0,null))},O.onerror=function(){wI(O,!0,Se);var zt=new JA(aF,"Error while loading script "+I);yI(te),tb(te,!1,zt)},Za(Q=c.attributes||{},{type:"text/javascript",charset:"UTF-8"}),JR(O,Q),function LN(r,c){PR(r,"HTMLScriptElement"),r.src=BR(c),(c=r.ownerDocument&&r.ownerDocument.defaultView)&&c!=A?c=ue(c.document):(null===Y&&(Y=ue(A.document)),c=Y),c&&r.setAttribute("nonce",c)}(O,r),function oF(r){var c;return(c=(r||document).getElementsByTagName("HEAD"))&&0!=c.length?c[0]:r.documentElement}(v).appendChild(O),te}function sF(){if(this&&this.Xb){var r=this.Xb;r&&"SCRIPT"==r.tagName&&wI(r,!0,this.Ma)}}function wI(r,c,v){null!=v&&A.clearTimeout(v),r.onload=pe,r.onerror=pe,r.onreadystatechange=pe,c&&window.setTimeout(function(){r&&r.parentNode&&r.parentNode.removeChild(r)},0)}var aF=0,uF=1;function JA(r,c){var v="Jsloader error (code #"+r+")";c&&(v+=": "+c),Tu.call(this,v),this.code=r}function EI(r){this.f=r}function ol(r,c,v){if(this.c=r,this.l=(r=c||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=r.secureTokenTimeout||cF,this.g=vh(r.secureTokenHeaders||lF),this.h=r.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=r.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=r.firebaseTimeout||fF,this.a=vh(r.firebaseHeaders||dF),v&&(this.a["X-Client-Version"]=v,this.g["X-Client-Version"]=v),v="Node"==Jl(),!(v=A.XMLHttpRequest||v&&rn.default.INTERNAL.node&&rn.default.INTERNAL.node.XMLHttpRequest)&&!rl())throw new mt("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=rl()?new pI(self):Vx()?new EI(v):new dI,this.b=null}Gn(JA,Tu),Gn(EI,K0),EI.prototype.a=function(){return new this.f},EI.prototype.b=function(){return{}};var ZA,sl="idToken",cF=new wh(3e4,6e4),lF={"Content-Type":"application/x-www-form-urlencoded"},fF=new wh(3e4,6e4),dF={"Content-Type":"application/json"};function Vk(r,c){c?r.a["X-Firebase-Locale"]=c:delete r.a["X-Firebase-Locale"]}function CI(r,c){c&&(r.l=eM("https://securetoken.googleapis.com/v1/token",c),r.h=eM("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",c),r.i=eM("https://identitytoolkit.googleapis.com/v2/",c))}function eM(r,c){return r=nu(r),c=nu(c.url),r.f=r.a+r.f,P0(r,c.c),r.a=c.a,F0(r,c.g),r.toString()}function Uk(r,c){c?(r.a["X-Client-Version"]=c,r.g["X-Client-Version"]=c):(delete r.a["X-Client-Version"],delete r.g["X-Client-Version"])}function jk(r,c,v,I,O,Q,te){(function gP(){var r=$s();return!((r="Chrome"!=_v(r)?null:(r=r.match(/\sChrome\/(\d+)/i))&&2==r.length?parseInt(r[1],10):null)&&30>r||nl&&yh&&!(9<yh))})()||rl()?r=an(r.u,r):(ZA||(ZA=new Wr(function(Se,Nt){!function pF(r,c){((window.gapi||{}).client||{}).request?r():(A[$k]=function(){((window.gapi||{}).client||{}).request?r():c(Error("CORS_UNSUPPORTED"))},function iF(r,c){XA(r,null,c,void 0)}(QA($S(hF,{onload:$k})),function(){c(Error("CORS_UNSUPPORTED"))}))}(Se,Nt)})),r=an(r.s,r)),r(c,v,I,O,Q,te)}ol.prototype.T=function(){return this.b},ol.prototype.u=function(r,c,v,I,O,Q){if(rl()&&(void 0===A.fetch||void 0===A.Headers||void 0===A.Request))throw new mt("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var te=new Z0(this.f);if(Q){te.g=Math.max(0,Q);var Se=setTimeout(function(){te.dispatchEvent("timeout")},Q)}Ix(te,"complete",function(){Se&&clearTimeout(Se);var Nt=null;try{Nt=JSON.parse(function rF(r){try{return r.a?r.a.responseText:""}catch(c){return lc(r.b,"Can not get responseText: "+c.message),""}}(this))||null}catch(zt){Nt=null}c&&c(Nt)}),aA(te,"ready",function(){Se&&clearTimeout(Se),mx(this)}),aA(te,"timeout",function(){Se&&clearTimeout(Se),mx(this),c&&c(null)}),function eF(r,c,v,I,O){if(r.a)throw Error("[goog.net.XhrIo] Object is active with another request="+r.l+"; newUri="+c);v=v?v.toUpperCase():"GET",r.l=c,r.h="",r.P=v,r.J=!1,r.c=!0,r.a=r.D?r.D.a():$A.a(),r.C=function Dk(r){return r.c||(r.c=r.b())}(r.D?r.D:$A),r.a.onreadystatechange=an(r.Wb,r);try{lc(r.b,sd(r,"Opening Xhr")),r.N=!0,r.a.open(v,String(c),!0),r.N=!1}catch(te){return lc(r.b,sd(r,"Error opening Xhr: "+te.message)),void kk(r,te)}c=I||"";var Q=new vv(r.headers);O&&function oP(r,c){if(r.forEach&&"function"==typeof r.forEach)r.forEach(c,void 0);else if(Le(r)||"string"==typeof r)po(r,c,void 0);else for(var v=Tx(r),I=Dx(r),O=I.length,Q=0;Q<O;Q++)c.call(void 0,I[Q],v&&v[Q],r)}(O,function(te,Se){Q.set(Se,te)}),O=function CN(r){e:{for(var c=nF,v=r.length,I="string"==typeof r?r.split(""):r,O=0;O<v;O++)if(O in I&&c.call(void 0,I[O],O,r)){c=O;break e}c=-1}return 0>c?null:"string"==typeof r?r.charAt(c):r[c]}(Q.Y()),I=A.FormData&&c instanceof A.FormData,!nd(ZP,v)||O||I||Q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),Q.forEach(function(te,Se){this.a.setRequestHeader(Se,te)},r),r.m&&(r.a.responseType=r.m),"withCredentials"in r.a&&r.a.withCredentials!==r.S&&(r.a.withCredentials=r.S);try{Pk(r),0<r.g&&(r.u=function tF(r){return nl&&XR(9)&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(r.a),lc(r.b,sd(r,"Will abort after "+r.g+"ms if incomplete, xhr2 "+r.u)),r.u?(r.a.timeout=r.g,r.a.ontimeout=an(r.Ma,r)):r.s=uA(r.Ma,r.g,r)),lc(r.b,sd(r,"Sending request")),r.i=!0,r.a.send(c),r.i=!1}catch(te){lc(r.b,sd(r,"Send error: "+te.message)),kk(r,te)}}(te,r,v,I,O)};var hF=new Xl(jC,"https://apis.google.com/js/client.js?onload=%{onload}"),$k="__fcb"+Math.floor(1e6*Math.random()).toString();function ag(r){if("string"!=typeof(r=r.email)||!yP.test(r))throw new mt("invalid-email")}function Gk(r){"email"in r&&ag(r)}function ru(r){if(!r[sl])throw r.mfaPendingCredential?new mt("multi-factor-auth-required",null,vh(r)):new mt("internal-error")}function tM(r){if(r.phoneNumber||r.temporaryProof){if(!r.phoneNumber||!r.temporaryProof)throw new mt("internal-error")}else{if(!r.sessionInfo)throw new mt("missing-verification-id");if(!r.code)throw new mt("missing-verification-code")}}ol.prototype.s=function(r,c,v,I,O){var Q=this;ZA.then(function(){window.gapi.client.setApiKey(Q.c);var te=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:r,method:v,body:I,headers:O,authType:"none",callback:function(Se){window.gapi.auth.setToken(te),c&&c(Se)}})}).o(function(te){c&&c({error:{message:te&&te.message||"CORS_UNSUPPORTED"}})})},ol.prototype.Ab=function(){return Xr(this,$F,{})},ol.prototype.Cb=function(r,c){return Xr(this,Wk,{idToken:r,email:c})},ol.prototype.Db=function(r,c){return Xr(this,Yk,{idToken:r,password:c})};var yF={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function qk(r){if(!r.phoneVerificationInfo)throw new mt("internal-error");if(!r.phoneVerificationInfo.sessionInfo)throw new mt("missing-verification-id");if(!r.phoneVerificationInfo.code)throw new mt("missing-verification-code")}function nM(r){if(!r.requestUri||!r.sessionId&&!r.postBody&&!r.pendingToken)throw new mt("internal-error")}function rM(r,c){return c.oauthIdToken&&c.providerId&&0==c.providerId.indexOf("oidc.")&&!c.pendingToken&&(r.sessionId?c.nonce=r.sessionId:r.postBody&&fA(r=new Qp(r.postBody),"nonce")&&(c.nonce=r.get("nonce"))),c}function zk(r){var c=null;if(r.needConfirmation?(r.code="account-exists-with-different-credential",c=lI(r)):"FEDERATED_USER_ID_ALREADY_LINKED"==r.errorMessage?(r.code="credential-already-in-use",c=lI(r)):"EMAIL_EXISTS"==r.errorMessage?(r.code="email-already-in-use",c=lI(r)):r.errorMessage&&(c=Xk(r.errorMessage)),c)throw c;ru(r)}function iM(r,c){return c.returnIdpCredential=!0,Xr(r,qF,c)}function oM(r,c){return c.returnIdpCredential=!0,Xr(r,WF,c)}function sM(r,c){return c.returnIdpCredential=!0,c.autoCreate=!1,Xr(r,zF,c)}function aM(r){if(!r.oobCode)throw new mt("invalid-action-code")}(t=ol.prototype).Eb=function(r,c){var v={idToken:r},I=[];return OR(yF,function(O,Q){var te=c[Q];null===te?I.push(O):Q in c&&(v[Q]=te)}),I.length&&(v.deleteAttribute=I),Xr(this,Wk,v)},t.wb=function(r,c){return Za(r={requestType:"PASSWORD_RESET",email:r},c),Xr(this,LF,r)},t.xb=function(r,c){return Za(r={requestType:"EMAIL_SIGNIN",email:r},c),Xr(this,NF,r)},t.vb=function(r,c){return Za(r={requestType:"VERIFY_EMAIL",idToken:r},c),Xr(this,PF,r)},t.Fb=function(r,c,v){return Za(r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:r,newEmail:c},v),Xr(this,FF,r)},t.gb=function(r){return Xr(this,KF,r)},t.ob=function(r,c){return Xr(this,UF,{oobCode:r,newPassword:c})},t.Sa=function(r){return Xr(this,IF,{oobCode:r})},t.kb=function(r){return Xr(this,CF,{oobCode:r})};var CF={endpoint:"setAccountInfo",A:aM,Z:"email",B:!0},IF={endpoint:"resetPassword",A:aM,G:function(r){var c=r.requestType;if(!c||!r.email&&"EMAIL_SIGNIN"!=c&&"VERIFY_AND_CHANGE_EMAIL"!=c)throw new mt("internal-error")},B:!0},DF={endpoint:"signupNewUser",A:function(r){if(ag(r),!r.password)throw new mt("weak-password")},G:ru,V:!0,B:!0},TF={endpoint:"createAuthUri",B:!0},SF={endpoint:"deleteAccount",O:["idToken"]},AF={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(r){if(!Array.isArray(r.deleteProvider))throw new mt("internal-error")}},MF={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ag,G:ru,V:!0,B:!0},RF={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ag,G:ru,V:!0},xF={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:qk,G:ru,B:!0,Na:!0},kF={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:qk,G:ru,B:!0,Na:!0},OF={endpoint:"getAccountInfo"},NF={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if("EMAIL_SIGNIN"!=r.requestType)throw new mt("internal-error");ag(r)},Z:"email",B:!0},PF={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(r){if("VERIFY_EMAIL"!=r.requestType)throw new mt("internal-error")},Z:"email",B:!0},FF={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(r){if("VERIFY_AND_CHANGE_EMAIL"!=r.requestType)throw new mt("internal-error")},Z:"email",B:!0},LF={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if("PASSWORD_RESET"!=r.requestType)throw new mt("internal-error");ag(r)},Z:"email",B:!0},BF={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},VF={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(r){if(!r.recaptchaSiteKey)throw new mt("internal-error")}},UF={endpoint:"resetPassword",A:aM,Z:"email",B:!0},jF={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Wk={endpoint:"setAccountInfo",O:["idToken"],A:Gk,V:!0},Yk={endpoint:"setAccountInfo",O:["idToken"],A:function(r){if(Gk(r),!r.password)throw new mt("weak-password")},G:ru,V:!0},$F={endpoint:"signupNewUser",G:ru,V:!0,B:!0},HF={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(r){if(!r.phoneEnrollmentInfo)throw new mt("internal-error");if(!r.phoneEnrollmentInfo.phoneNumber)throw new mt("missing-phone-number");if(!r.phoneEnrollmentInfo.recaptchaToken)throw new mt("missing-app-credential")},G:function(r){if(!r.phoneSessionInfo||!r.phoneSessionInfo.sessionInfo)throw new mt("internal-error")},B:!0,Na:!0},GF={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(r){if(!r.phoneSignInInfo||!r.phoneSignInInfo.recaptchaToken)throw new mt("missing-app-credential")},G:function(r){if(!r.phoneResponseInfo||!r.phoneResponseInfo.sessionInfo)throw new mt("internal-error")},B:!0,Na:!0},qF={endpoint:"verifyAssertion",A:nM,Za:rM,G:zk,V:!0,B:!0},zF={endpoint:"verifyAssertion",A:nM,Za:rM,G:function(r){if(r.errorMessage&&"USER_NOT_FOUND"==r.errorMessage)throw new mt("user-not-found");if(r.errorMessage)throw Xk(r.errorMessage);ru(r)},V:!0,B:!0},WF={endpoint:"verifyAssertion",A:function(r){if(nM(r),!r.idToken)throw new mt("internal-error")},Za:rM,G:zk,V:!0},YF={endpoint:"verifyCustomToken",A:function(r){if(!r.token)throw new mt("invalid-custom-token")},G:ru,V:!0,B:!0},Kk={endpoint:"verifyPassword",A:function(r){if(ag(r),!r.password)throw new mt("wrong-password")},G:ru,V:!0,B:!0},KF={endpoint:"verifyPhoneNumber",A:tM,G:ru,B:!0},XF={endpoint:"verifyPhoneNumber",A:function(r){if(!r.idToken)throw new mt("internal-error");tM(r)},G:function(r){if(r.temporaryProof)throw r.code="credential-already-in-use",lI(r);ru(r)}},QF={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:tM,G:ru,B:!0},JF={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(r){if(!!r[sl]^!!r.refreshToken)throw new mt("internal-error")},B:!0,Na:!0};function Xr(r,c,v){if(!function DP(r,c){if(!c||!c.length)return!0;if(!r)return!1;for(var v=0;v<c.length;v++){var I=r[c[v]];if(null==I||""===I)return!1}return!0}(v,c.O))return ro(new mt("internal-error"));var Q,I=!!c.Na,O=c.Vb||"POST";return Zn(v).then(c.A).then(function(){return c.V&&(v.returnSecureToken=!0),c.B&&r.b&&void 0===v.tenantId&&(v.tenantId=r.b),function Hk(r,c,v,I,O,Q,te){var Se=nu(c+v);Po(Se,"key",r.c),te&&Po(Se,"cb",Date.now().toString());var Nt="GET"==I;if(Nt)for(var zt in O)O.hasOwnProperty(zt)&&Po(Se,zt,O[zt]);return new Wr(function(vr,Ri){jk(r,Se.toString(),function(pi){pi?pi.error?Ri(uM(pi,Q||{})):vr(pi):Ri(new mt("network-request-failed"))},I,Nt?void 0:kx($x(O)),r.a,r.v.get())})}(r,I?r.i:r.h,c.endpoint,O,v,c.Ib,c.mb||!1)}).then(function(te){return Q=te,c.Za?c.Za(v,Q):Q}).then(c.G).then(function(){if(!c.Z)return Q;if(!(c.Z in Q))throw new mt("internal-error");return Q[c.Z]})}function Xk(r){return uM({error:{errors:[{message:r}],code:400,message:r}})}function uM(r,c){var v=(r.error&&r.error.errors&&r.error.errors[0]||{}).reason||"",I={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(v=I[v]?new mt(I[v]):null)return v;for(var O in v=r.error&&r.error.message||"",Za(I={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},c||{}),c=(c=v.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<c.length?c[1]:void 0,I)if(0===v.indexOf(O))return new mt(I[O],c);return!c&&r&&(c=j0(r)),new mt("internal-error",c)}function ZF(r){this.b=r,this.a=null,this.sb=function eL(r){return function sL(){return II||(II=new Wr(function(r,c){function v(){Gx(),io("gapi.load")("gapi.iframes",{callback:r,ontimeout:function(){Gx(),c(Error("Network Error"))},timeout:iL.get()})}if(io("gapi.iframes.Iframe"))r();else if(io("gapi.load"))v();else{var I="__iframefcb"+Math.floor(1e6*Math.random()).toString();A[I]=function(){io("gapi.load")?v():c(Error("Network Error"))},Zn(QA(I=$S(rL,{onload:I}))).o(function(){c(Error("Network Error"))})}}).o(function(r){throw II=null,r}))}().then(function(){return new Wr(function(c,v){io("gapi.iframes.getContext")().open({where:document.body,url:r.b,messageHandlersFilter:io("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(I){function O(){clearTimeout(Q),c()}r.a=I,r.a.restyle({setHideOnLeave:!1});var Q=setTimeout(function(){v(Error("Network Error"))},oL.get());I.ping(O).then(O,function(){v(Error("Network Error"))})})})})}(this)}var rL=new Xl(jC,"https://apis.google.com/js/api.js?onload=%{onload}"),iL=new wh(3e4,6e4),oL=new wh(5e3,15e3),II=null;function Qk(r,c,v,I){this.l=r,this.h=c,this.i=v,this.g=I,this.f=null,r=this.g?ZC((r=nu(this.g.url)).c,r.a,r.g,"/emulator/auth/iframe"):ZC("https",this.l,null,"/__/auth/iframe"),this.a=r,Po(this.a,"apiKey",this.h),Po(this.a,"appName",this.i),this.b=null,this.c=[]}function cM(r,c,v,I,O,Q){this.u=r,this.s=c,this.c=v,this.m=I,this.v=Q,this.i=this.g=this.l=null,this.a=O,this.h=this.f=null}function lM(r){try{return rn.default.app(r).auth().Ga()}catch(c){return[]}}function Jk(r,c,v,I,O,Q){this.s=r,this.g=c,this.b=v,this.f=Q,this.c=I||null,this.i=O||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function Zk(r){var c=V0();return function vF(r){return Xr(r,BF,{}).then(function(c){return c.authorizedDomains||[]})}(r).then(function(v){e:{var I=nu(c),O=I.c;I=I.a;for(var Q=0;Q<v.length;Q++){var te=v[Q],Se=I,Nt=O;if(0==te.indexOf("chrome-extension://")?Se=nu(te).a==Se&&"chrome-extension"==Nt:"http"!=Nt&&"https"!=Nt?Se=!1:vP.test(te)?Se=Se==te:(te=te.split(".").join("\\."),Se=new RegExp("^(.+\\."+te+"|"+te+")$","i").test(Se)),Se){v=!0;break e}}v=!1}if(!v)throw new jA(V0())})}function eO(r){return r.m||(r.m=eI().then(function(){if(!r.u){var c=r.c,v=r.i,I=lM(r.b),O=new Qk(r.s,r.g,r.b,r.f);O.f=c,O.b=v,O.c=qp(I||[]),r.u=O.toString()}r.v=new ZF(r.u),function aL(r){if(!r.v)throw Error("IfcHandler must be initialized!");!function nL(r,c){r.sb.then(function(){r.a.register("authEvent",c,io("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(r.v,function(c){var v={};if(c&&c.authEvent){var I=!1;for(c=Ik(c.authEvent),v=0;v<r.h.length;v++)I=r.h[v](c)||I;return(v={}).status=I?"ACK":"ERROR",Zn(v)}return v.status="ERROR",Zn(v)})}(r)})),r.m}function tO(r){return r.l||(r.C=r.c?bv(r.c,lM(r.b)):null,r.l=new ol(r.g,M0(r.i),r.C),r.f&&CI(r.l,r.f)),r.l}function rb(r,c,v,I,O,Q,te,Se,Nt,zt,vr,Ri){return(r=new cM(r,c,v,I,O,Ri)).l=Q,r.g=te,r.i=Se,r.b=vh(Nt||null),r.f=zt,r.zb(vr).toString()}function nO(r){if(this.a=r||rn.default.INTERNAL.reactNative&&rn.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new mt("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function rO(r){this.b=r,this.a={},this.f=an(this.c,this)}Qk.prototype.toString=function(){return this.f?Po(this.a,"v",this.f):Ql(this.a.b,"v"),this.b?Po(this.a,"eid",this.b):Ql(this.a.b,"eid"),this.c.length?Po(this.a,"fw",this.c.join(",")):Ql(this.a.b,"fw"),this.a.toString()},cM.prototype.zb=function(r){return this.h=r,this},cM.prototype.toString=function(){if(this.v){var r=nu(this.v.url);r=ZC(r.c,r.a,r.g,"/emulator/auth/handler")}else r=ZC("https",this.u,null,"/__/auth/handler");if(Po(r,"apiKey",this.s),Po(r,"appName",this.c),Po(r,"authType",this.m),this.a.isOAuthProvider){var c=this.a;try{var v=rn.default.app(this.c).auth().la()}catch(Se){v=null}for(var I in c.pb=v,Po(r,"providerId",this.a.providerId),c=$x((v=this.a).Jb))c[I]=c[I].toString();I=v.Qc,c=vh(c);for(var O=0;O<I.length;O++){var Q=I[O];Q in c&&delete c[Q]}v.qb&&v.pb&&!c[v.qb]&&(c[v.qb]=v.pb),zp(c)||Po(r,"customParameters",j0(c))}if("function"==typeof this.a.Rb&&(v=this.a.Rb()).length&&Po(r,"scopes",v.join(",")),this.l?Po(r,"redirectUrl",this.l):Ql(r.b,"redirectUrl"),this.g?Po(r,"eventId",this.g):Ql(r.b,"eventId"),this.i?Po(r,"v",this.i):Ql(r.b,"v"),this.b)for(var te in this.b)this.b.hasOwnProperty(te)&&!uc(r,te)&&Po(r,te,this.b[te]);return this.h?Po(r,"tid",this.h):Ql(r.b,"tid"),this.f?Po(r,"eid",this.f):Ql(r.b,"eid"),(te=lM(this.c)).length&&Po(r,"fw",te.join(",")),r.toString()},(t=Jk.prototype).Pb=function(r,c,v){var I=new mt("popup-closed-by-user"),O=new mt("web-storage-unsupported"),Q=this,te=!1;return this.ma().then(function(){(function uL(r){var c={type:"webStorageSupport"};return eO(r).then(function(){return function tL(r,c){return r.sb.then(function(){return new Wr(function(v){r.a.send(c.type,c,v,io("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(r.v,c)}).then(function(v){if(v&&v.length&&void 0!==v[0].webStorageSupport)return v[0].webStorageSupport;throw Error()})})(Q).then(function(Se){Se||(r&&Jp(r),c(O),te=!0)})}).o(function(){}).then(function(){if(!te)return function mP(r){return new Wr(function(c){return function v(){mv(2e3).then(function(){if(r&&!r.closed)return v();c()})}()})}(r)}).then(function(){if(!te)return mv(v).then(function(){c(I)})})},t.Yb=function(){var r=$s();return!U0(r)&&!Hx(r)},t.Ub=function(){return!1},t.Nb=function(r,c,v,I,O,Q,te,Se){if(!r)return ro(new mt("popup-blocked"));if(te&&!U0())return this.ma().o(function(zt){Jp(r),O(zt)}),I(),Zn();this.a||(this.a=Zk(tO(this)));var Nt=this;return this.a.then(function(){var zt=Nt.ma().o(function(vr){throw Jp(r),O(vr),vr});return I(),zt}).then(function(){VA(v),te||Px(rb(Nt.s,Nt.g,Nt.b,c,v,null,Q,Nt.c,void 0,Nt.i,Se,Nt.f),r)}).o(function(zt){throw"auth/network-request-failed"==zt.code&&(Nt.a=null),zt})},t.Ob=function(r,c,v,I){this.a||(this.a=Zk(tO(this)));var O=this;return this.a.then(function(){VA(c),Px(rb(O.s,O.g,O.b,r,c,V0(),v,O.c,void 0,O.i,I,O.f))}).o(function(Q){throw"auth/network-request-failed"==Q.code&&(O.a=null),Q})},t.ma=function(){var r=this;return eO(this).then(function(){return r.v.sb}).o(function(){throw r.a=null,new mt("network-request-failed")})},t.ac=function(){return!0},t.Ea=function(r){this.h.push(r)},t.Ta=function(r){tl(this.h,function(c){return c==r})},(t=nO.prototype).get=function(r){return Zn(this.a.getItem(r)).then(function(c){return c&&Ev(c)})},t.set=function(r,c){return Zn(this.a.setItem(r,j0(c)))},t.U=function(r){return Zn(this.a.removeItem(r))},t.ca=function(){},t.ia=function(){};var dM,iO=[];function oO(r,c,v){zp(r.a)&&r.b.addEventListener("message",r.f),void 0===r.a[c]&&(r.a[c]=[]),r.a[c].push(v)}function sO(r){this.a=r}function aO(r){this.c=r,this.b=!1,this.a=[]}function uO(r,c,v,I){var O,te,Se,Nt,Q=v||{},zt=null;if(r.b)return ro(Error("connection_unavailable"));var vr=I?800:50,Ri="undefined"!=typeof MessageChannel?new MessageChannel:null;return new Wr(function(pi,xs){Ri?(O=Math.floor(Math.random()*Math.pow(10,20)).toString(),Ri.port1.start(),Se=setTimeout(function(){xs(Error("unsupported_event"))},vr),r.a.push(zt={messageChannel:Ri,onMessage:te=function(ad){ad.data.eventId===O&&("ack"===ad.data.status?(clearTimeout(Se),Nt=setTimeout(function(){xs(Error("timeout"))},3e3)):"done"===ad.data.status?(clearTimeout(Nt),void 0!==ad.data.response?pi(ad.data.response):xs(Error("unknown_error"))):(clearTimeout(Se),clearTimeout(Nt),xs(Error("invalid_response"))))}}),Ri.port1.addEventListener("message",te),r.c.postMessage({eventType:c,eventId:O,data:Q},[Ri.port2])):xs(Error("connection_unavailable"))}).then(function(pi){return fM(r,zt),pi}).o(function(pi){throw fM(r,zt),pi})}function fM(r,c){if(c){var v=c.messageChannel;v&&(v.port1.removeEventListener("message",c.onMessage),v.port1.close()),tl(r.a,function(O){return O==c})}}function cO(){if(!pM())throw new mt("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=A.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var r=this;rl()&&self?(this.v=function cL(){var r=rl()?self:null;if(po(iO,function(v){v.b==r&&(c=v)}),!c){var c=new rO(r);iO.push(c)}return c}(),oO(this.v,"keyChanged",function(c,v){return dO(r).then(function(I){return 0<I.length&&po(r.a,function(O){O(I)}),{keyProcessed:nd(I,v.key)}})}),oO(this.v,"ping",function(){return Zn(["keyChanged"])})):function CP(){var r=A.navigator;return r&&r.serviceWorker?Zn().then(function(){return r.serviceWorker.ready}).then(function(c){return c.active||null}).o(function(){return null}):Zn(null)}().then(function(c){(r.h=c)&&(r.g=new aO(new sO(c)),uO(r.g,"ping",null,!0).then(function(v){v[0].fulfilled&&nd(v[0].value,"keyChanged")&&(r.s=!0)}).o(function(){}))})}function lO(r){return new Wr(function(c,v){var I=r.m.open("firebaseLocalStorageDb",1);I.onerror=function(O){try{O.preventDefault()}catch(Q){}v(Error(O.target.error))},I.onupgradeneeded=function(O){O=O.target.result;try{O.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(Q){v(Q)}},I.onsuccess=function(O){(O=O.target.result).objectStoreNames.contains("firebaseLocalStorage")?c(O):function lL(r){return new Wr(function(c,v){var I=r.m.deleteDatabase("firebaseLocalStorageDb");I.onsuccess=function(){c()},I.onerror=function(O){v(Error(O.target.error))}})}(r).then(function(){return lO(r)}).then(function(Q){c(Q)}).o(function(Q){v(Q)})}})}function hM(r){return r.i||(r.i=lO(r)),r.i}function DI(r,c){var I=0;return new Wr(function v(O,Q){hM(r).then(c).then(O).o(function(te){if(!(3<++I))return hM(r).then(function(Se){return Se.close(),r.i=void 0,v(O,Q)}).o(function(Se){Q(Se)});Q(te)})})}function pM(){try{return!!A.indexedDB}catch(r){return!1}}function ib(r){return r.objectStore("firebaseLocalStorage")}function ob(r,c){return r.transaction(["firebaseLocalStorage"],c?"readwrite":"readonly")}function Tv(r){return new Wr(function(c,v){r.onsuccess=function(I){I&&I.target?c(I.target.result):c()},r.onerror=function(I){v(I.target.error)}})}function fO(r,c){return r.g&&r.h&&function EP(){var r=A.navigator;return r&&r.serviceWorker&&r.serviceWorker.controller||null}()===r.h?uO(r.g,"keyChanged",{key:c},r.s).then(function(){}).o(function(){}):Zn()}function dO(r){return hM(r).then(function(c){var v=ib(ob(c,!1));return v.getAll?Tv(v.getAll()):new Wr(function(I,O){var Q=[],te=v.openCursor();te.onsuccess=function(Se){(Se=Se.target.result)?(Q.push(Se.value),Se.continue()):I(Q)},te.onerror=function(Se){O(Se.target.error)}})}).then(function(c){var v={},I=[];if(0==r.b){for(I=0;I<c.length;I++)v[c[I].fbase_key]=c[I].value;I=Fx(r.c,v),r.c=v}return I})}function hO(r){r.l&&r.l.cancel("STOP_EVENT"),r.f&&(clearTimeout(r.f),r.f=null)}function pO(r){var c=this,v=null;this.a=[],this.type="indexedDB",this.c=r,this.b=Zn().then(function(){if(pM()){var I=eg(),O="__sak"+I;return dM||(dM=new cO),(v=dM).set(O,I).then(function(){return v.get(O)}).then(function(Q){if(Q!==I)throw Error("indexedDB not supported!");return v.U(O)}).then(function(){return v}).o(function(){return c.c})}return c.c}).then(function(I){return c.type=I.type,I.ca(function(O){po(c.a,function(Q){Q(O)})}),I})}function sb(){this.a={},this.type="inMemory"}function TI(){if(!function dL(){var r="Node"==Jl();if(!(r=gO()||r&&rn.default.INTERNAL.node&&rn.default.INTERNAL.node.localStorage))return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch(c){return!1}}())throw"Node"==Jl()?new mt("internal-error","The LocalStorage compatibility library was not found."):new mt("web-storage-unsupported");this.a=gO()||rn.default.INTERNAL.node.localStorage,this.type="localStorage"}function gO(){try{var r=A.localStorage,c=eg();return r&&(r.setItem(c,"1"),r.removeItem(c)),r}catch(v){return null}}function gM(){this.type="nullStorage"}function mM(){if(!function hL(){var r="Node"==Jl();if(!(r=mO()||r&&rn.default.INTERNAL.node&&rn.default.INTERNAL.node.sessionStorage))return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch(c){return!1}}())throw"Node"==Jl()?new mt("internal-error","The SessionStorage compatibility library was not found."):new mt("web-storage-unsupported");this.a=mO()||rn.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function mO(){try{var r=A.sessionStorage,c=eg();return r&&(r.setItem(c,"1"),r.removeItem(c)),r}catch(v){return null}}function pL(){var r={};r.Browser=gL,r.Node=mL,r.ReactNative=vL,r.Worker=yL,this.a=r[Jl()]}rO.prototype.c=function(r){var c=r.data.eventType,v=r.data.eventId,I=this.a[c];if(I&&0<I.length){r.ports[0].postMessage({status:"ack",eventId:v,eventType:c,response:null});var O=[];po(I,function(Q){O.push(Zn().then(function(){return Q(r.origin,r.data.data)}))}),sx(O).then(function(Q){var te=[];po(Q,function(Se){te.push({fulfilled:Se.Qb,value:Se.value,reason:Se.reason?Se.reason.message:void 0})}),po(te,function(Se){for(var Nt in Se)void 0===Se[Nt]&&delete Se[Nt]}),r.ports[0].postMessage({status:"done",eventId:v,eventType:c,response:te})})}},sO.prototype.postMessage=function(r,c){this.a.postMessage(r,c)},aO.prototype.close=function(){for(;0<this.a.length;)fM(this,this.a[0]);this.b=!0},(t=cO.prototype).set=function(r,c){var v=this,I=!1;return DI(this,function(O){return Tv((O=ib(ob(O,!0))).get(r))}).then(function(O){return DI(v,function(Q){if(Q=ib(ob(Q,!0)),O)return O.value=c,Tv(Q.put(O));v.b++,I=!0;var te={};return te.fbase_key=r,te.value=c,Tv(Q.add(te))})}).then(function(){return v.c[r]=c,fO(v,r)}).oa(function(){I&&v.b--})},t.get=function(r){return DI(this,function(c){return Tv(ib(ob(c,!1)).get(r))}).then(function(c){return c&&c.value})},t.U=function(r){var c=this,v=!1;return DI(this,function(I){return v=!0,c.b++,Tv(ib(ob(I,!0)).delete(r))}).then(function(){return delete c.c[r],fO(c,r)}).oa(function(){v&&c.b--})},t.ca=function(r){0==this.a.length&&function fL(r){hO(r),function c(){r.f=setTimeout(function(){r.l=dO(r).then(function(v){0<v.length&&po(r.a,function(I){I(v)})}).then(function(){c()}).o(function(v){"STOP_EVENT"!=v.message&&c()})},800)}()}(this),this.a.push(r)},t.ia=function(r){tl(this.a,function(c){return c==r}),0==this.a.length&&hO(this)},(t=pO.prototype).get=function(r){return this.b.then(function(c){return c.get(r)})},t.set=function(r,c){return this.b.then(function(v){return v.set(r,c)})},t.U=function(r){return this.b.then(function(c){return c.U(r)})},t.ca=function(r){this.a.push(r)},t.ia=function(r){tl(this.a,function(c){return c==r})},(t=sb.prototype).get=function(r){return Zn(this.a[r])},t.set=function(r,c){return this.a[r]=c,Zn()},t.U=function(r){return delete this.a[r],Zn()},t.ca=function(){},t.ia=function(){},(t=TI.prototype).get=function(r){var c=this;return Zn().then(function(){return Ev(c.a.getItem(r))})},t.set=function(r,c){var v=this;return Zn().then(function(){var I=j0(c);null===I?v.U(r):v.a.setItem(r,I)})},t.U=function(r){var c=this;return Zn().then(function(){c.a.removeItem(r)})},t.ca=function(r){A.window&&ac(A.window,"storage",r)},t.ia=function(r){A.window&&Su(A.window,"storage",r)},(t=gM.prototype).get=function(){return Zn(null)},t.set=function(){return Zn()},t.U=function(){return Zn()},t.ca=function(){},t.ia=function(){},(t=mM.prototype).get=function(r){var c=this;return Zn().then(function(){return Ev(c.a.getItem(r))})},t.set=function(r,c){var v=this;return Zn().then(function(){var I=j0(c);null===I?v.U(r):v.a.setItem(r,I)})},t.U=function(r){var c=this;return Zn().then(function(){c.a.removeItem(r)})},t.ca=function(){},t.ia=function(){};var vM,yM,gL={F:TI,cb:mM},mL={F:TI,cb:mM},vL={F:nO,cb:gM},yL={F:TI,cb:gM},Sv={rd:"local",NONE:"none",td:"session"};function vO(){var r=!(Hx($s())||!gA()),c=U0(),v=vA();this.m=r,this.h=c,this.l=v,this.a={},vM||(vM=new pL),r=vM;try{this.g=!hA()&&qx()||!A.indexedDB?new r.a.F:new pO(rl()?new sb:new r.a.F)}catch(I){this.g=new sb,this.h=!0}try{this.i=new r.a.cb}catch(I){this.i=new sb}this.v=new sb,this.f=an(this.Zb,this),this.b={}}function ab(){return yM||(yM=new vO),yM}function ug(r,c){switch(c){case"session":return r.i;case"none":return r.v;default:return r.g}}function Av(r,c){return"firebase:"+r.name+(c?":"+c:"")}function Mv(r,c,v){return v=Av(c,v),"local"==c.F&&(r.b[v]=null),ug(r,c.F).U(v)}function _M(r){r.c&&(clearInterval(r.c),r.c=null)}function EL(r){this.a=r,this.b=ab()}(t=vO.prototype).get=function(r,c){return ug(this,r.F).get(Av(r,c))},t.set=function(r,c,v){var I=Av(r,v),O=this,Q=ug(this,r.F);return Q.set(I,c).then(function(){return Q.get(I)}).then(function(te){"local"==r.F&&(O.b[I]=te)})},t.addListener=function(r,c,v){r=Av(r,c),this.l&&(this.b[r]=A.localStorage.getItem(r)),zp(this.a)&&(ug(this,"local").ca(this.f),this.h||(hA()||!qx())&&A.indexedDB||!this.l||function wL(r){_M(r),r.c=setInterval(function(){for(var c in r.a){var v=A.localStorage.getItem(c),I=r.b[c];v!=I&&(r.b[c]=v,v=new Kp({type:"storage",key:c,target:window,oldValue:I,newValue:v,a:!0}),r.Zb(v))}},1e3)}(this)),this.a[r]||(this.a[r]=[]),this.a[r].push(v)},t.removeListener=function(r,c,v){r=Av(r,c),this.a[r]&&(tl(this.a[r],function(I){return I==v}),0==this.a[r].length&&delete this.a[r]),zp(this.a)&&(ug(this,"local").ia(this.f),_M(this))},t.Zb=function(r){if(r&&r.g){var c=r.a.key;if(null==c)for(var v in this.a){var I=this.b[v];void 0===I&&(I=null);var O=A.localStorage.getItem(v);O!==I&&(this.b[v]=O,this.nb(v))}else if(0==c.indexOf("firebase:")&&this.a[c]){if(void 0!==r.a.a?ug(this,"local").ia(this.f):_M(this),this.m)if(v=A.localStorage.getItem(c),(I=r.a.newValue)!==v)null!==I?A.localStorage.setItem(c,I):A.localStorage.removeItem(c);else if(this.b[c]===I&&void 0===r.a.a)return;var Q=this;v=function(){(void 0!==r.a.a||Q.b[c]!==A.localStorage.getItem(c))&&(Q.b[c]=A.localStorage.getItem(c),Q.nb(c))},nl&&yh&&10==yh&&A.localStorage.getItem(c)!==r.a.newValue&&r.a.newValue!==r.a.oldValue?setTimeout(v,10):v()}}else po(r,an(this.nb,this))},t.nb=function(r){this.a[r]&&po(this.a[r],function(c){c()})};var AI,bM={name:"authEvent",F:"local"};function IL(){this.a=ab()}function SI(r,c){this.b=yO,this.f=A.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=r,this.h=c,this.l=A.Int32Array?new Int32Array(64):Array(64),void 0===AI&&(AI=A.Int32Array?new Int32Array(wO):wO),this.reset()}Gn(SI,function DL(){this.b=-1});for(var yO=64,TL=yO-1,_O=[],wM=0;wM<TL;wM++)_O[wM]=0;var bO=VS(128,_O);function EM(r){for(var c=r.f,v=r.l,I=0,O=0;O<c.length;)v[I++]=c[O]<<24|c[O+1]<<16|c[O+2]<<8|c[O+3],O=4*I;for(c=16;64>c;c++){var Q=(0|v[c-16])+(((O=0|v[c-15])>>>7|O<<25)^(O>>>18|O<<14)^O>>>3)|0,te=(0|v[c-7])+(((I=0|v[c-2])>>>17|I<<15)^(I>>>19|I<<13)^I>>>10)|0;v[c]=Q+te|0}I=0|r.a[0],O=0|r.a[1];var Se=0|r.a[2],Nt=0|r.a[3],zt=0|r.a[4],vr=0|r.a[5],Ri=0|r.a[6];for(Q=0|r.a[7],c=0;64>c;c++){var pi=((I>>>2|I<<30)^(I>>>13|I<<19)^(I>>>22|I<<10))+(I&O^I&Se^O&Se)|0;te=(Q=Q+((zt>>>6|zt<<26)^(zt>>>11|zt<<21)^(zt>>>25|zt<<7))|0)+((te=(te=zt&vr^~zt&Ri)+(0|AI[c])|0)+(0|v[c])|0)|0,Q=Ri,Ri=vr,vr=zt,zt=Nt+te|0,Nt=Se,Se=O,O=I,I=te+pi|0}r.a[0]=r.a[0]+I|0,r.a[1]=r.a[1]+O|0,r.a[2]=r.a[2]+Se|0,r.a[3]=r.a[3]+Nt|0,r.a[4]=r.a[4]+zt|0,r.a[5]=r.a[5]+vr|0,r.a[6]=r.a[6]+Ri|0,r.a[7]=r.a[7]+Q|0}function CM(r,c,v){void 0===v&&(v=c.length);var I=0,O=r.c;if("string"==typeof c)for(;I<v;)r.f[O++]=c.charCodeAt(I++),O==r.b&&(EM(r),O=0);else{if(!Le(c))throw Error("message must be string or array");for(;I<v;){var Q=c[I++];if(!("number"==typeof Q&&0<=Q&&255>=Q&&Q==(0|Q)))throw Error("message must be a byte array");r.f[O++]=Q,O==r.b&&(EM(r),O=0)}}r.c=O,r.g+=v}SI.prototype.reset=function(){this.g=this.c=0,this.a=A.Int32Array?new Int32Array(this.h):qp(this.h)};var wO=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function EO(){SI.call(this,8,SL)}Gn(EO,SI);var SL=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function CO(r,c,v,I,O,Q){this.v=r,this.i=c,this.l=v,this.m=I||null,this.u=O||null,this.s=Q,this.h=c+":"+v,this.C=new IL,this.g=new EL(this.h),this.f=null,this.b=[],this.a=this.c=null}function MI(r){return new mt("invalid-cordova-configuration",r)}function IO(r,c){for(var v=0;v<r.b.length;v++)try{r.b[v](c)}catch(I){}}function DO(r){return r.f||(r.f=r.ma().then(function(){return new Wr(function(c){r.Ea(function v(I){return c(I),r.Ta(v),!1}),function xL(r){function c(te){I=!0,O&&O.cancel(),IM(r).then(function(Se){var Nt=v;if(Se&&te&&te.url){var zt=null;-1!=(Nt=mk(te.url)).indexOf("/__/auth/callback")&&(zt=(zt="object"==typeof(zt=Ev(uc(zt=nu(Nt),"firebaseError")||null))?IR(zt):null)?new il(Se.c,Se.b,null,null,zt,null,Se.T()):new il(Se.c,Se.b,Nt,Se.f,null,null,Se.T())),Nt=zt||v}IO(r,Nt)})}var v=new il("unknown",null,null,null,new mt("no-auth-event")),I=!1,O=mv(500).then(function(){return IM(r).then(function(){I||IO(r,v)})}),Q=A.handleOpenURL;A.handleOpenURL=function(te){if(0==te.toLowerCase().indexOf(io("BuildInfo.packageName",A).toLowerCase()+"://")&&c({url:te}),"function"==typeof Q)try{Q(te)}catch(Se){console.error(Se)}},UA||(UA=new WP),function YP(r){var c=UA;c.a.push(r),c.b||(c.b=function(v){for(var I=0;I<c.a.length;I++)c.a[I](v)},"function"==typeof(r=io("universalLinks.subscribe",A))&&r(null,c.b))}(c)}(r)})})),r.f}function IM(r){var c=null;return function CL(r){return r.b.get(bM,r.a).then(function(c){return Ik(c)})}(r.g).then(function(v){return c=v,Mv((v=r.g).b,bM,v.a)}).then(function(){return c})}function kL(r){this.a=r,this.b=ab()}(t=CO.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=function _P(){return pA(void 0)?eI().then(function(){return new Wr(function(r,c){var v=A.document,I=setTimeout(function(){c(Error("Cordova framework is not ready."))},1e3);v.addEventListener("deviceready",function(){clearTimeout(I),r()},!1)})}):ro(Error("Cordova must run in an Android or iOS file scheme."))}().then(function(){if("function"!=typeof io("universalLinks.subscribe",A))throw MI("cordova-universal-links-plugin-fix is not installed");if(void 0===io("BuildInfo.packageName",A))throw MI("cordova-plugin-buildinfo is not installed");if("function"!=typeof io("cordova.plugins.browsertab.openUrl",A))throw MI("cordova-plugin-browsertab is not installed");if("function"!=typeof io("cordova.InAppBrowser.open",A))throw MI("cordova-plugin-inappbrowser is not installed")},function(){throw new mt("cordova-not-ready")})},t.Pb=function(r,c){return c(new mt("operation-not-supported-in-this-environment")),Zn()},t.Nb=function(){return ro(new mt("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(r,c,v,I){if(this.c)return ro(new mt("redirect-operation-pending"));var O=this,Q=A.document,te=null,Se=null,Nt=null,zt=null;return this.c=Zn().then(function(){return VA(c),DO(O)}).then(function(){return function RL(r,c,v,I,O){var Q=function AL(){for(var r=20,c=[];0<r;)c.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return c.join("")}(),te=new il(c,I,null,Q,new mt("no-auth-event"),null,O),Se=io("BuildInfo.packageName",A);if("string"!=typeof Se)throw new mt("invalid-cordova-configuration");var Nt=io("BuildInfo.displayName",A),zt={};if($s().toLowerCase().match(/iphone|ipad|ipod/))zt.ibi=Se;else{if(!$s().toLowerCase().match(/android/))return ro(new mt("operation-not-supported-in-this-environment"));zt.apn=Se}Nt&&(zt.appDisplayName=Nt),Q=function ML(r){var c=new EO;CM(c,r),r=[];var v=8*c.g;CM(c,bO,56>c.c?56-c.c:c.b-(c.c-56));for(var I=63;56<=I;I--)c.f[I]=255&v,v/=256;for(EM(c),I=v=0;I<c.i;I++)for(var O=24;0<=O;O-=8)r[v++]=c.a[I]>>O&255;return function VP(r){return VC(r,function(c){return 1<(c=c.toString(16)).length?c:"0"+c}).join("")}(r)}(Q),zt.sessionId=Q;var vr=rb(r.v,r.i,r.l,c,v,null,I,r.m,zt,r.u,O,r.s);return r.ma().then(function(){var Ri=r.h;return r.C.a.set(bM,te.w(),Ri)}).then(function(){var Ri=io("cordova.plugins.browsertab.isAvailable",A);if("function"!=typeof Ri)throw new mt("invalid-cordova-configuration");var pi=null;Ri(function(xs){if(xs){if("function"!=typeof(pi=io("cordova.plugins.browsertab.openUrl",A)))throw new mt("invalid-cordova-configuration");pi(vr)}else{if("function"!=typeof(pi=io("cordova.InAppBrowser.open",A)))throw new mt("invalid-cordova-configuration");xs=$s(),r.a=pi(vr,xs.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||xs.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(O,r,c,v,I)}).then(function(){return new Wr(function(vr,Ri){Se=function(){var pi=io("cordova.plugins.browsertab.close",A);return vr(),"function"==typeof pi&&pi(),O.a&&"function"==typeof O.a.close&&(O.a.close(),O.a=null),!1},O.Ea(Se),zt=function(){yA()&&Nt()},Q.addEventListener("resume",Nt=function(){te||(te=mv(2e3).then(function(){Ri(new mt("redirect-cancelled-by-user"))}))},!1),$s().toLowerCase().match(/android/)||Q.addEventListener("visibilitychange",zt,!1)}).o(function(vr){return IM(O).then(function(){throw vr})})}).oa(function(){Nt&&Q.removeEventListener("resume",Nt,!1),zt&&Q.removeEventListener("visibilitychange",zt,!1),te&&te.cancel(),Se&&O.Ta(Se),O.c=null})},t.Ea=function(r){this.b.push(r),DO(this).o(function(c){"auth/invalid-cordova-configuration"===c.code&&(c=new il("unknown",null,null,null,new mt("no-auth-event")),r(c))})},t.Ta=function(r){tl(this.b,function(c){return c==r})};var DM={name:"pendingRedirect",F:"session"};function TM(r){return Mv(r.b,DM,r.a)}function RI(r,c,v,I){this.i={},this.u=0,this.D=r,this.v=c,this.m=v,this.J=I,this.h=[],this.f=!1,this.l=an(this.s,this),this.b=new kI,this.C=new PO,this.g=new kL(kO(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=TO(this.D,this.v,this.m,R0,this.J)}function TO(r,c,v,I,O){var Q=rn.default.SDK_VERSION||null;return pA()?new CO(r,c,v,Q,I,O):new Jk(r,c,v,Q,I,O)}function SO(r){r.f||(r.f=!0,r.a.Ea(r.l));var c=r.a;return r.a.ma().o(function(v){throw r.a==c&&r.reset(),v})}function AO(r){r.a.Yb()&&SO(r).o(function(c){var v=new il("unknown",null,null,null,new mt("operation-not-supported-in-this-environment"));AM(c)&&r.s(v)}),r.a.Ub()||OO(r.b)}function xI(r,c){nd(r.h,c)||r.h.push(c),r.f||function NL(r){return r.b.get(DM,r.a).then(function(c){return"pending"==c})}(r.g).then(function(v){v?TM(r.g).then(function(){SO(r).o(function(I){var O=new il("unknown",null,null,null,new mt("operation-not-supported-in-this-environment"));AM(I)&&r.s(O)})}):AO(r)}).o(function(){AO(r)})}function SM(r,c){tl(r.h,function(v){return v==c})}RI.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=TO(this.D,this.v,this.m,null,this.J),this.i={}},RI.prototype.s=function(r){if(!r)throw new mt("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),r&&r.getUid()&&this.i.hasOwnProperty(r.getUid()))return!1;for(var c=!1,v=0;v<this.h.length;v++){var I=this.h[v];if(I.Gb(r.c,r.b)){(c=this.c[r.c])&&(c.h(r,I),r&&(r.f||r.b)&&(this.i[r.getUid()]=!0,this.u=Date.now())),c=!0;break}}return OO(this.b),c};var PL=new wh(2e3,1e4),FL=new wh(3e4,6e4);function MO(r,c,v,I,O,Q,te){return r.a.Nb(c,v,I,function(){r.f||(r.f=!0,r.a.Ea(r.l))},function(){r.reset()},O,Q,te)}function AM(r){return!(!r||"auth/cordova-not-ready"!=r.code)}function RO(r,c,v,I,O){var Q;return function OL(r){return r.b.set(DM,"pending",r.a)}(r.g).then(function(){return r.a.Ob(c,v,I,O).o(function(te){if(AM(te))throw new mt("operation-not-supported-in-this-environment");return Q=te,TM(r.g).then(function(){throw Q})}).then(function(){return r.a.ac()?new Wr(function(){}):TM(r.g).then(function(){return r.ra()}).then(function(){}).o(function(){})})})}function xO(r,c,v,I,O){return r.a.Pb(I,function(Q){c.na(v,null,Q,O)},PL.get())}RI.prototype.ra=function(){return this.b.ra()};var MM={};function kO(r,c,v){return r=r+":"+c,v&&(r=r+":"+v.url),r}function RM(r,c,v,I){var O=kO(c,v,I);return MM[O]||(MM[O]=new RI(r,c,v,I)),MM[O]}function kI(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function OO(r){r.g||(r.g=!0,cg(r,!1,null,null))}function OI(r){r.g&&!r.i&&cg(r,!1,null,null)}function NO(r,c){if(r.b=function(){return Zn(c)},r.f.length)for(var v=0;v<r.f.length;v++)r.f[v](c)}function cg(r,c,v,I){c?I?function BL(r,c){if(r.b=function(){return ro(c)},r.c.length)for(var v=0;v<r.c.length;v++)r.c[v](c)}(r,I):NO(r,v):NO(r,{user:null}),r.f=[],r.c=[]}function PO(){}function FO(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(r){this.jb=r},enumerable:!1})}function xM(r,c){this.a=c,Bn(this,"verificationId",r)}function kM(r,c,v,I){return new od(r).gb(c,v).then(function(O){return new xM(O,I)})}function jL(r){var c=uk(r);if(!(c&&c.exp&&c.auth_time&&c.iat))throw new mt("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Ta(this,{token:r,expirationTime:$0(1e3*c.exp),authTime:$0(1e3*c.auth_time),issuedAtTime:$0(1e3*c.iat),signInProvider:c.firebase&&c.firebase.sign_in_provider?c.firebase.sign_in_provider:null,signInSecondFactor:c.firebase&&c.firebase.sign_in_second_factor?c.firebase.sign_in_second_factor:null,claims:c})}function OM(r,c,v){var I=c&&c[BO];if(!I)throw new mt("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=r,this.f=vh(c),this.g=v,this.c=new uI(null,I),this.b=[];var O=this;po(c[LO]||[],function(Q){(Q=IA(Q))&&O.b.push(Q)}),Bn(this,"auth",this.a),Bn(this,"session",this.c),Bn(this,"hints",this.b)}kI.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},kI.prototype.h=function(r,c){if(r){this.reset(),this.g=!0;var v=r.c,I=r.b,O=r.a&&"auth/web-storage-unsupported"==r.a.code,Q=r.a&&"auth/operation-not-supported-in-this-environment"==r.a.code;this.i=!(!O&&!Q),"unknown"!=v||O||Q?r.a?(cg(this,!0,null,r.a),Zn()):c.Fa(v,I)?function LL(r,c,v){v=v.Fa(c.c,c.b);var I=c.g,O=c.f,Q=c.i,te=c.T(),Se=!!c.c.match(/Redirect$/);v(I,O,te,Q).then(function(Nt){cg(r,Se,Nt,null)}).o(function(Nt){cg(r,Se,null,Nt)})}(this,r,c):ro(new mt("invalid-auth-event")):(cg(this,!1,null,null),Zn())}else ro(new mt("invalid-auth-event"))},kI.prototype.ra=function(){var r=this;return new Wr(function(c,v){r.b?r.b().then(c,v):(r.f.push(c),r.c.push(v),function VL(r){var c=new mt("timeout");r.a&&r.a.cancel(),r.a=mv(FL.get()).then(function(){r.b||(r.g=!0,cg(r,!0,null,c))})}(r))})},PO.prototype.h=function(r,c){if(r){var v=r.c,I=r.b;r.a?(c.na(r.c,null,r.a,r.b),Zn()):c.Fa(v,I)?function UL(r,c){var v=r.b,I=r.c;c.Fa(I,v)(r.g,r.f,r.T(),r.i).then(function(O){c.na(I,O,null,v)}).o(function(O){c.na(I,null,O,v)})}(r,c):ro(new mt("invalid-auth-event"))}else ro(new mt("invalid-auth-event"))},xM.prototype.confirm=function(r){return r=Ck(this.verificationId,r),this.a(r)};var LO="mfaInfo",BO="mfaPendingCredential";function NM(r,c,v,I){mt.call(this,"multi-factor-auth-required",I,c),this.b=new OM(r,c,v),Bn(this,"resolver",this.b)}function VO(r,c,v){if(r&&Mt(r.serverResponse)&&"auth/multi-factor-auth-required"===r.code)try{return new NM(c,r.serverResponse,v,r.message)}catch(I){}return null}function UO(){}function PM(r){Bn(this,"factorId",r.fa),this.a=r}function jO(r){if(PM.call(this,r),this.a.fa!=od.PROVIDER_ID)throw new mt("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Rv(r,c){for(var v in tu.call(this,r),c)this[v]=c[v]}function FM(r,c){this.a=r,this.b=[],this.c=an(this.yc,this),ac(this.a,"userReloaded",this.c);var v=[];c&&c.multiFactor&&c.multiFactor.enrolledFactors&&po(c.multiFactor.enrolledFactors,function(I){var O=null,Q={};if(I){I.uid&&(Q[TA]=I.uid),I.displayName&&(Q[Wx]=I.displayName),I.enrollmentTime&&(Q[DA]=new Date(I.enrollmentTime).toISOString()),I.phoneNumber&&(Q[SA]=I.phoneNumber);try{O=new H0(Q)}catch(te){}I=O}else I=null;I&&v.push(I)}),NI(this,v)}function NI(r,c){r.b=c,Bn(r,"enrolledFactors",c)}function LM(r,c,v){if(this.h=r,this.i=c,this.g=v,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function BM(r,c){r.stop(),r.b=mv(function qL(r,c){return c?(r.a=r.c,r.g()):(c=r.a,r.a*=2,r.a>r.f&&(r.a=r.f),c)}(r,c)).then(function(){return function wP(){var r=A.document,c=null;return yA()||!r?Zn():new Wr(function(v){c=function(){yA()&&(r.removeEventListener("visibilitychange",c,!1),v())},r.addEventListener("visibilitychange",c,!1)}).o(function(v){throw r.removeEventListener("visibilitychange",c,!1),v})}()}).then(function(){return r.h()}).then(function(){BM(r,!0)}).o(function(v){r.i(v)&&BM(r,!1)})}function VM(r){this.f=r,this.b=this.a=null,this.c=Date.now()}function $O(r,c){void 0===c&&(c=r.b?(c=r.b).a-c.g:0),r.c=Date.now()+1e3*c}function HO(r,c){r.b=sI(c[sl]||""),r.a=c.refreshToken,$O(r,void 0!==(c=c.expiresIn)?Number(c):void 0)}function PI(r,c){this.a=r||null,this.b=c||null,Ta(this,{lastSignInTime:$0(c||null),creationTime:$0(r||null)})}function KL(r,c,v,I,O,Q){Ta(this,{uid:r,displayName:I||null,photoURL:O||null,email:v||null,phoneNumber:Q||null,providerId:c})}function Mu(r,c,v){this.N=[],this.l=r.apiKey,this.m=r.appName,this.s=r.authDomain||null;var I=rn.default.SDK_VERSION?bv(rn.default.SDK_VERSION):null;this.a=new ol(this.l,M0(R0),I),(this.u=r.emulatorConfig||null)&&CI(this.a,this.u),this.h=new VM(this.a),zM(this,c[sl]),HO(this.h,c),Bn(this,"refreshToken",this.h.a),qO(this,v||{}),Da.call(this),this.P=!1,this.s&&Zp()&&(this.b=RM(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function XL(r){return new LM(function(){return r.I(!0)},function(c){return!(!c||"auth/network-request-failed"!=c.code)},function(){var c=r.h.c-Date.now()-3e5;return 0<c?c:0})}(this),this.ba=an(this.ib,this);var O=this;this.za=null,this.Pa=function(Q){O.xa(Q.h)},this.qa=null,this.Ba=function(Q){UM(O,Q.c)},this.$=null,this.aa=[],this.Oa=function(Q){ub(O,Q.f)},this.ja=null,this.S=new FM(this,v),Bn(this,"multiFactor",this.S)}function UM(r,c){r.u=c,CI(r.a,c),r.b&&(c=r.b,r.b=RM(r.s,r.l,r.m,r.u),r.P&&(SM(c,r),xI(r.b,r)))}function jM(r,c){r.qa&&Su(r.qa,"languageCodeChanged",r.Pa),(r.qa=c)&&ac(c,"languageCodeChanged",r.Pa)}function $M(r,c){r.$&&Su(r.$,"emulatorConfigChanged",r.Ba),(r.$=c)&&ac(c,"emulatorConfigChanged",r.Ba)}function ub(r,c){r.aa=c,Uk(r.a,rn.default.SDK_VERSION?bv(rn.default.SDK_VERSION,r.aa):null)}function HM(r,c){r.ja&&Su(r.ja,"frameworkChanged",r.Oa),(r.ja=c)&&ac(c,"frameworkChanged",r.Oa)}function GM(r){try{return rn.default.app(r.m).auth()}catch(c){throw new mt("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+r.m+"'!")}}function GO(r){r.J||r.D.b||(r.D.start(),Su(r,"tokenChanged",r.ba),ac(r,"tokenChanged",r.ba))}function qM(r){Su(r,"tokenChanged",r.ba),r.D.stop()}function zM(r,c){r.Aa=c,Bn(r,"_lat",c)}function lg(r){for(var c=[],v=0;v<r.W.length;v++)c.push(r.W[v](r));return sx(c).then(function(){return r})}function cb(r){r.b&&!r.P&&(r.P=!0,xI(r.b,r))}function qO(r,c){Ta(r,{uid:c.uid,displayName:c.displayName||null,photoURL:c.photoURL||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,isAnonymous:c.isAnonymous||!1,tenantId:c.tenantId||null,metadata:new PI(c.createdAt,c.lastLoginAt),providerData:[]}),r.a.b=r.tenantId}function zO(){}function WM(r){return Zn().then(function(){if(r.J)throw new mt("app-deleted")})}function YM(r){return VC(r.providerData,function(c){return c.providerId})}function KM(r,c){c&&(WO(r,c.providerId),r.providerData.push(c))}function WO(r,c){tl(r.providerData,function(v){return v.providerId==c})}function Ih(r,c,v){("uid"!=c||v)&&r.hasOwnProperty(c)&&Bn(r,c,v)}function FI(r,c){r!=c&&(Ta(r,{uid:c.uid,displayName:c.displayName,photoURL:c.photoURL,email:c.email,emailVerified:c.emailVerified,phoneNumber:c.phoneNumber,isAnonymous:c.isAnonymous,tenantId:c.tenantId,providerData:[]}),Bn(r,"metadata",c.metadata?function YL(r){return new PI(r.a,r.b)}(c.metadata):new PI),po(c.providerData,function(v){KM(r,v)}),function zL(r,c){r.b=c.b,r.a=c.a,r.c=c.c}(r.h,c.h),Bn(r,"refreshToken",r.h.a),NI(r.S,c.S.b))}function XM(r){return r.I().then(function(c){var v=r.isAnonymous;return function JL(r,c){return Xr(r.a,OF,{idToken:c}).then(an(r.Kc,r))}(r,c).then(function(){return v||Ih(r,"isAnonymous",!1),c})})}function tf(r,c){c[sl]&&r.Aa!=c[sl]&&(HO(r.h,c),r.dispatchEvent(new Rv("tokenChanged")),zM(r,c[sl]),Ih(r,"refreshToken",r.h.a))}function LI(r,c){return XM(r).then(function(){if(nd(YM(r),c))return lg(r).then(function(){throw new mt("provider-already-linked")})})}function lb(r,c,v){return Zl({user:r,credential:BA(c),additionalUserInfo:c=lk(c),operationType:v})}function YO(r,c){return tf(r,c),r.reload().then(function(){return r})}function KO(r,c,v,I,O){if(!Zp())return ro(new mt("operation-not-supported-in-this-environment"));if(r.i&&!O)return ro(r.i);var Q=kA(v.providerId),te=eg(r.uid+":::"),Se=null;(!U0()||gA())&&r.s&&v.isOAuthProvider&&(Se=rb(r.s,r.l,r.m,c,v,null,te,rn.default.SDK_VERSION||null,null,null,r.tenantId,r.u));var Nt=Bx(Se,Q&&Q.va,Q&&Q.ua);return I=I().then(function(){if(QO(r),!O)return r.I().then(function(){})}).then(function(){return MO(r.b,Nt,c,v,te,!!Se,r.tenantId)}).then(function(){return new Wr(function(zt,vr){r.na(c,null,new mt("cancelled-popup-request"),r.g||null),r.f=zt,r.C=vr,r.g=te,r.c=xO(r.b,r,c,Nt,te)})}).then(function(zt){return Nt&&Jp(Nt),zt?Zl(zt):null}).o(function(zt){throw Nt&&Jp(Nt),zt}),hs(r,I,O)}function XO(r,c,v,I,O){if(!Zp())return ro(new mt("operation-not-supported-in-this-environment"));if(r.i&&!O)return ro(r.i);var Q=null,te=eg(r.uid+":::");return I=I().then(function(){if(QO(r),!O)return r.I().then(function(){})}).then(function(){return r.ga=te,lg(r)}).then(function(Se){return r.ha&&(Se=(Se=r.ha).b.set(QM,r.w(),Se.a)),Se}).then(function(){return RO(r.b,c,v,te,r.tenantId)}).o(function(Se){if(Q=Se,r.ha)return ZO(r.ha);throw Q}).then(function(){if(Q)throw Q}),hs(r,I,O)}function QO(r){if(!r.b||!r.P)throw new mt(r.b&&!r.P?"internal-error":"auth-domain-config-required")}function hs(r,c,v){var I=function e2(r,c,v){return r.i&&!v?(c.cancel(),ro(r.i)):c.o(function(I){throw!I||"auth/user-disabled"!=I.code&&"auth/user-token-expired"!=I.code||(r.i||r.dispatchEvent(new Rv("userInvalidated")),r.i=I),I})}(r,c,v);return r.N.push(I),I.oa(function(){UC(r.N,I)}),I.o(function(O){var Q=null;throw O&&"auth/multi-factor-auth-required"===O.code&&(Q=VO(O.w(),GM(r),an(r.jc,r))),Q||O})}function JO(r){if(!r.apiKey)return null;var c={apiKey:r.apiKey,authDomain:r.authDomain,appName:r.appName,emulatorConfig:r.emulatorConfig},v={};if(!r.stsTokenManager||!r.stsTokenManager.accessToken)return null;v[sl]=r.stsTokenManager.accessToken,v.refreshToken=r.stsTokenManager.refreshToken||null;var I=r.stsTokenManager.expirationTime;I&&(v.expiresIn=(I-Date.now())/1e3);var O=new Mu(c,v,r);return r.providerData&&po(r.providerData,function(Q){Q&&KM(O,Zl(Q))}),r.redirectEventId&&(O.ga=r.redirectEventId),O}function r2(r){this.a=r,this.b=ab()}OM.prototype.Rc=function(r){var c=this;return r.tb(this.a.a,this.c).then(function(v){var I=vh(c.f);return delete I[LO],delete I[BO],Za(I,v),c.g(I)})},Gn(NM,mt),UO.prototype.tb=function(r,c,v){return c.type==z0?function $L(r,c,v,I){return v.Ha().then(function(O){return O={idToken:O},void 0!==I&&(O.displayName=I),Za(O,{phoneVerificationInfo:W0(r.a)}),Xr(c,xF,O)})}(this,r,c,v):function HL(r,c,v){return v.Ha().then(function(I){return Za(I={mfaPendingCredential:I},{phoneVerificationInfo:W0(r.a)}),Xr(c,kF,I)})}(this,r,c)},Gn(PM,UO),Gn(jO,PM),Gn(Rv,tu),(t=FM.prototype).yc=function(r){NI(this,function GL(r){var c=[];return po(r.mfaInfo||[],function(v){(v=IA(v))&&c.push(v)}),c}(r.hd))},t.Sb=function(){return this.a.I().then(function(r){return new uI(r,null)})},t.fc=function(r,c){var v=this,I=this.a.a;return this.Sb().then(function(O){return r.tb(I,O,c)}).then(function(O){return tf(v.a,O),v.a.reload()})},t.bd=function(r){var c=this,v="string"==typeof r?r:r.uid,I=this.a.a;return this.a.I().then(function(O){return Xr(I,JF,{idToken:O,mfaEnrollmentId:v})}).then(function(O){var Q=wN(c.b,function(te){return te.uid!=v});return NI(c,Q),tf(c.a,O),c.a.reload().o(function(te){if("auth/user-token-expired"!=te.code)throw te})})},t.w=function(){return{multiFactor:{enrolledFactors:VC(this.b,function(r){return r.w()})}}},LM.prototype.start=function(){this.a=this.c,BM(this,!0)},LM.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},VM.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},VM.prototype.getToken=function(r){return r=!!r,this.b&&!this.a?ro(new mt("user-token-expired")):r||!this.b||Date.now()>this.c-3e4?this.a?function WL(r,c){return function gF(r,c){return new Wr(function(v,I){"refresh_token"==c.grant_type&&c.refresh_token||"authorization_code"==c.grant_type&&c.code?jk(r,r.l+"?key="+encodeURIComponent(r.c),function(O){O?O.error?I(uM(O)):O.access_token&&O.refresh_token?v(O):I(new mt("internal-error")):I(new mt("network-request-failed"))},"POST",Mx(c).toString(),r.g,r.m.get()):I(new mt("internal-error"))})}(r.f,c).then(function(v){return r.b=sI(v.access_token),r.a=v.refresh_token,$O(r,v.expires_in),{accessToken:r.b.toString(),refreshToken:r.a}}).o(function(v){throw"auth/user-token-expired"==v.code&&(r.a=null),v})}(this,{grant_type:"refresh_token",refresh_token:this.a}):Zn(null):Zn({accessToken:this.b.toString(),refreshToken:this.a})},PI.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},Gn(Mu,Da),Mu.prototype.xa=function(r){this.za=r,Vk(this.a,r)},Mu.prototype.la=function(){return this.za},Mu.prototype.Ga=function(){return qp(this.aa)},Mu.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Bn(Mu.prototype,"providerId","firebase"),(t=Mu.prototype).reload=function(){var r=this;return hs(this,WM(this).then(function(){return XM(r).then(function(){return lg(r)}).then(zO)}))},t.oc=function(r){return this.I(r).then(function(c){return new jL(c)})},t.I=function(r){var c=this;return hs(this,WM(this).then(function(){return c.h.getToken(r)}).then(function(v){if(!v)throw new mt("internal-error");return v.accessToken!=c.Aa&&(zM(c,v.accessToken),c.dispatchEvent(new Rv("tokenChanged"))),Ih(c,"refreshToken",v.refreshToken),v.accessToken}))},t.Kc=function(r){if(!(r=r.users)||!r.length)throw new mt("internal-error");qO(this,{uid:(r=r[0]).localId,displayName:r.displayName,photoURL:r.photoUrl,email:r.email,emailVerified:!!r.emailVerified,phoneNumber:r.phoneNumber,lastLoginAt:r.lastLoginAt,createdAt:r.createdAt,tenantId:r.tenantId});for(var c=function ZL(r){return(r=r.providerUserInfo)&&r.length?VC(r,function(c){return new KL(c.rawId,c.providerId,c.email,c.displayName,c.photoUrl,c.phoneNumber)}):[]}(r),v=0;v<c.length;v++)KM(this,c[v]);Ih(this,"isAnonymous",!(this.email&&r.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Rv("userReloaded",{hd:r}))},t.Lc=function(r){return _A("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(r)},t.ub=function(r){var c=this,v=null;return hs(this,r.c(this.a,this.uid).then(function(I){return tf(c,I),v=lb(c,I,"reauthenticate"),c.i=null,c.reload()}).then(function(){return v}),!0)},t.Cc=function(r){return _A("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(r)},t.rb=function(r){var c=this,v=null;return hs(this,LI(this,r.providerId).then(function(){return c.I()}).then(function(I){return r.b(c.a,I)}).then(function(I){return v=lb(c,I,"link"),YO(c,I)}).then(function(){return v}))},t.Dc=function(r,c){var v=this;return hs(this,LI(this,"phone").then(function(){return kM(GM(v),r,c,an(v.rb,v))}))},t.Mc=function(r,c){var v=this;return hs(this,Zn().then(function(){return kM(GM(v),r,c,an(v.ub,v))}),!0)},t.Cb=function(r){var c=this;return hs(this,this.I().then(function(v){return c.a.Cb(v,r)}).then(function(v){return tf(c,v),c.reload()}))},t.ed=function(r){var c=this;return hs(this,this.I().then(function(v){return r.b(c.a,v)}).then(function(v){return tf(c,v),c.reload()}))},t.Db=function(r){var c=this;return hs(this,this.I().then(function(v){return c.a.Db(v,r)}).then(function(v){return tf(c,v),c.reload()}))},t.Eb=function(r){if(void 0===r.displayName&&void 0===r.photoURL)return WM(this);var c=this;return hs(this,this.I().then(function(v){return c.a.Eb(v,{displayName:r.displayName,photoUrl:r.photoURL})}).then(function(v){return tf(c,v),Ih(c,"displayName",v.displayName||null),Ih(c,"photoURL",v.photoUrl||null),po(c.providerData,function(I){"password"===I.providerId&&(Bn(I,"displayName",c.displayName),Bn(I,"photoURL",c.photoURL))}),lg(c)}).then(zO))},t.cd=function(r){var c=this;return hs(this,XM(this).then(function(v){return nd(YM(c),r)?function EF(r,c,v){return Xr(r,AF,{idToken:c,deleteProvider:v})}(c.a,v,[r]).then(function(I){var O={};return po(I.providerUserInfo||[],function(Q){O[Q.providerId]=!0}),po(YM(c),function(Q){O[Q]||WO(c,Q)}),O[od.PROVIDER_ID]||Bn(c,"phoneNumber",null),lg(c)}):lg(c).then(function(){throw new mt("no-such-provider")})}))},t.delete=function(){var r=this;return hs(this,this.I().then(function(c){return Xr(r.a,SF,{idToken:c})}).then(function(){r.dispatchEvent(new Rv("userDeleted"))})).then(function(){for(var c=0;c<r.N.length;c++)r.N[c].cancel("app-deleted");jM(r,null),$M(r,null),HM(r,null),r.N=[],r.J=!0,qM(r),Bn(r,"refreshToken",null),r.b&&SM(r.b,r)})},t.Gb=function(r,c){return!!("linkViaPopup"==r&&(this.g||null)==c&&this.f||"reauthViaPopup"==r&&(this.g||null)==c&&this.f||"linkViaRedirect"==r&&(this.ga||null)==c||"reauthViaRedirect"==r&&(this.ga||null)==c)},t.na=function(r,c,v,I){"linkViaPopup"!=r&&"reauthViaPopup"!=r||I!=(this.g||null)||(v&&this.C?this.C(v):c&&!v&&this.f&&this.f(c),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(r,c){return"linkViaPopup"==r&&c==(this.g||null)?an(this.Lb,this):"reauthViaPopup"==r&&c==(this.g||null)?an(this.Mb,this):"linkViaRedirect"==r&&(this.ga||null)==c?an(this.Lb,this):"reauthViaRedirect"==r&&(this.ga||null)==c?an(this.Mb,this):null},t.Ec=function(r){var c=this;return KO(this,"linkViaPopup",r,function(){return LI(c,r.providerId).then(function(){return lg(c)})},!1)},t.Nc=function(r){return KO(this,"reauthViaPopup",r,function(){return Zn()},!0)},t.Fc=function(r){var c=this;return XO(this,"linkViaRedirect",r,function(){return LI(c,r.providerId)},!1)},t.Oc=function(r){return XO(this,"reauthViaRedirect",r,function(){return Zn()},!0)},t.Lb=function(r,c,v,I){var O=this;this.c&&(this.c.cancel(),this.c=null);var Q=null;return hs(this,this.I().then(function(te){return oM(O.a,{requestUri:r,postBody:I,sessionId:c,idToken:te})}).then(function(te){return Q=lb(O,te,"link"),YO(O,te)}).then(function(){return Q}))},t.Mb=function(r,c,v,I){var O=this;this.c&&(this.c.cancel(),this.c=null);var Q=null;return hs(this,Zn().then(function(){return Iv(sM(O.a,{requestUri:r,sessionId:c,postBody:I,tenantId:v}),O.uid)}).then(function(Se){return Q=lb(O,Se,"reauthenticate"),tf(O,Se),O.i=null,O.reload()}).then(function(){return Q}),!0)},t.vb=function(r){var c=this,v=null;return hs(this,this.I().then(function(I){return v=I,void 0===r||zp(r)?{}:iI(new rI(r))}).then(function(I){return c.a.vb(v,I)}).then(function(I){if(c.email!=I)return c.reload()}).then(function(){}))},t.Fb=function(r,c){var v=this,I=null;return hs(this,this.I().then(function(O){return I=O,void 0===c||zp(c)?{}:iI(new rI(c))}).then(function(O){return v.a.Fb(I,r,O)}).then(function(O){if(v.email!=O)return v.reload()}).then(function(){}))},t.jc=function(r){var c=null,v=this;return hs(this,r=Iv(Zn(r),v.uid).then(function(I){return c=lb(v,I,"reauthenticate"),tf(v,I),v.i=null,v.reload()}).then(function(){return c}),!0)},t.toJSON=function(){return this.w()},t.w=function(){var r={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Za(r,this.metadata.w()),po(this.providerData,function(c){r.providerData.push(function IP(r){var v,c={};for(v in r)r.hasOwnProperty(v)&&(c[v]=r[v]);return c}(c))}),Za(r,this.S.w()),r};var QM={name:"redirectUser",F:"session"};function ZO(r){return Mv(r.b,QM,r.a)}function JM(r){this.a=r,this.b=ab(),this.c=null,this.f=function o2(r){var c=nf("local"),v=nf("session"),I=nf("none");return function bL(r,c,v){var I=Av(c,v),O=ug(r,c.F);return r.get(c,v).then(function(Q){var te=null;try{te=Ev(A.localStorage.getItem(I))}catch(Se){}if(te&&!Q)return A.localStorage.removeItem(I),r.set(c,te,v);te&&Q&&"localStorage"!=O.type&&A.localStorage.removeItem(I)})}(r.b,c,r.a).then(function(){return r.b.get(v,r.a)}).then(function(O){return O?v:r.b.get(I,r.a).then(function(Q){return Q?I:r.b.get(c,r.a).then(function(te){return te?c:r.b.get(e1,r.a).then(function(Se){return Se?nf(Se):c})})})}).then(function(O){return r.c=O,ZM(r,O.F)}).o(function(){r.c||(r.c=c)})}(this),this.b.addListener(nf("local"),this.a,an(this.g,this))}function ZM(r,c){var I,v=[];for(I in Sv)Sv[I]!==c&&v.push(Mv(r.b,nf(Sv[I]),r.a));return v.push(Mv(r.b,e1,r.a)),function YN(r){return new Wr(function(c,v){var I=r.length,O=[];if(I)for(var Q=function(zt,vr){I--,O[zt]=vr,0==I&&c(O)},te=function(zt){v(zt)},Se=0;Se<r.length;Se++)ox(r[Se],Ai(Q,Se),te);else c(O)})}(v)}JM.prototype.g=function(){var r=this,c=nf("local");xv(this,function(){return Zn().then(function(){return r.c&&"local"!=r.c.F?r.b.get(c,r.a):null}).then(function(v){if(v)return ZM(r,"local").then(function(){r.c=c})})})};var e1={name:"persistence",F:"session"};function nf(r){return{name:"authUser",F:r}}function eN(r,c){return xv(r,function(){return r.b.set(r.c,c.w(),r.a)})}function tN(r){return xv(r,function(){return Mv(r.b,r.c,r.a)})}function nN(r,c,v){return xv(r,function(){return r.b.get(r.c,r.a).then(function(I){return I&&c&&(I.authDomain=c),I&&v&&(I.emulatorConfig=v),JO(I||{})})})}function xv(r,c){return r.f=r.f.then(c,c),r.f}function al(r){if(this.l=!1,Bn(this,"settings",new FO),Bn(this,"app",r),!Li(this).options||!Li(this).options.apiKey)throw new mt("invalid-api-key");r=rn.default.SDK_VERSION?bv(rn.default.SDK_VERSION):null,this.a=new ol(Li(this).options&&Li(this).options.apiKey,M0(R0),r),this.P=[],this.s=[],this.N=[],this.Pa=rn.default.INTERNAL.createSubscribe(an(this.zc,this)),this.W=void 0,this.ib=rn.default.INTERNAL.createSubscribe(an(this.Ac,this)),kv(this,null),this.i=new JM(Li(this).options.apiKey+":"+Li(this).name),this.D=new r2(Li(this).options.apiKey+":"+Li(this).name),this.$=wo(this,function d2(r){var c=Li(r).options.authDomain,v=function f2(r){var c=function i2(r,c){return r.b.get(QM,r.a).then(function(v){return v&&c&&(v.authDomain=c),JO(v||{})})}(r.D,Li(r).options.authDomain).then(function(v){return(r.m=v)&&(v.ha=r.D),ZO(r.D)});return wo(r,c)}(r).then(function(){return nN(r.i,c,r.R)}).then(function(I){return I?(I.ha=r.D,r.m&&(r.m.ga||null)==(I.ga||null)?I:I.reload().then(function(){return eN(r.i,I).then(function(){return I})}).o(function(O){return"auth/network-request-failed"==O.code?I:tN(r.i)})):null}).then(function(I){kv(r,I||null)});return wo(r,v)}(this)),this.h=wo(this,function h2(r){return r.$.then(function(){return sN(r)}).o(function(){}).then(function(){if(!r.l)return r.ja()}).o(function(){}).then(function(){if(!r.l){r.ba=!0;var c=r.i;c.b.addListener(nf("local"),c.a,r.ja)}})}(this)),this.ba=!1,this.ja=an(this.Zc,this),this.Ba=an(this.da,this),this.qa=an(this.mc,this),this.za=an(this.wc,this),this.Aa=an(this.xc,this),this.b=null,function c2(r){var c=Li(r).options.authDomain,v=Li(r).options.apiKey;c&&Zp()&&(r.Oa=r.$.then(function(){if(!r.l){if(r.b=RM(c,v,Li(r).name,r.R),xI(r.b,r),Or(r)&&cb(Or(r)),r.m){cb(r.m);var I=r.m;I.xa(r.la()),jM(I,r),ub(I=r.m,r.J),HM(I,r),UM(I=r.m,r.R),$M(I,r),r.m=null}return r.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=an(this.delete,this),this.INTERNAL.logFramework=an(this.Gc,this),this.u=0,Da.call(this),function u2(r){Object.defineProperty(r,"lc",{get:function(){return this.la()},set:function(c){this.xa(c)},enumerable:!1}),r.aa=null,Object.defineProperty(r,"ti",{get:function(){return this.T()},set:function(c){this.zb(c)},enumerable:!1}),r.S=null,Object.defineProperty(r,"emulatorConfig",{get:function(){if(this.R){var c=nu(this.R.url);c=Zl({protocol:c.c,host:c.a,port:c.g,options:Zl({disableWarnings:this.R.ec})})}else c=null;return c},enumerable:!1})}(this),this.J=[],this.R=null}function rN(r){tu.call(this,"languageCodeChanged"),this.h=r}function iN(r){tu.call(this,"emulatorConfigChanged"),this.c=r}function oN(r){tu.call(this,"frameworkChanged"),this.f=r}function t1(r){return r.Oa||ro(new mt("auth-domain-config-required"))}function sN(r){if(!Zp())return ro(new mt("operation-not-supported-in-this-environment"));var c=t1(r).then(function(){return r.b.ra()}).then(function(v){return v?Zl(v):null});return wo(r,c)}function kv(r,c){Or(r)&&(function QL(r,c){tl(r.W,function(v){return v==c})}(Or(r),r.Ba),Su(Or(r),"tokenChanged",r.qa),Su(Or(r),"userDeleted",r.za),Su(Or(r),"userInvalidated",r.Aa),qM(Or(r))),c&&(c.W.push(r.Ba),ac(c,"tokenChanged",r.qa),ac(c,"userDeleted",r.za),ac(c,"userInvalidated",r.Aa),0<r.u&&GO(c)),Bn(r,"currentUser",c),c&&(c.xa(r.la()),jM(c,r),ub(c,r.J),HM(c,r),UM(c,r.R),$M(c,r))}function fg(r,c){var v=null,I=null;return wo(r,c.then(function(O){return v=BA(O),I=lk(O),function l2(r,c){var v={};return v.apiKey=Li(r).options.apiKey,v.authDomain=Li(r).options.authDomain,v.appName=Li(r).name,r.R&&(v.emulatorConfig=r.R),r.$.then(function(){return function t2(r,c,v,I){var O=new Mu(r,c);return v&&(O.ha=v),I&&ub(O,I),O.reload().then(function(){return O})}(v,c,r.D,r.Ga())}).then(function(I){return Or(r)&&I.uid==Or(r).uid?(FI(Or(r),I),r.da(I)):(kv(r,I),cb(I),r.da(I))}).then(function(){fb(r)})}(r,O)},function(O){var Q=null;throw O&&"auth/multi-factor-auth-required"===O.code&&(Q=VO(O.w(),r,an(r.kc,r))),Q||O}).then(function(){return Zl({user:Or(r),credential:v,additionalUserInfo:I,operationType:"signIn"})}))}function Li(r){return r.app}function Or(r){return r.currentUser}function BI(r){return Or(r)&&Or(r)._lat||null}function fb(r){if(r.ba){for(var c=0;c<r.s.length;c++)r.s[c]&&r.s[c](BI(r));if(r.W!==r.getUid()&&r.N.length)for(r.W=r.getUid(),c=0;c<r.N.length;c++)r.N[c]&&r.N[c](BI(r))}}function wo(r,c){return r.P.push(c),c.oa(function(){UC(r.P,c)}),c}function db(){}function Ov(){this.a={},this.b=1e12}JM.prototype.yb=function(r){var c=null,v=this;return function _L(r){var c=new mt("invalid-persistence-type"),v=new mt("unsupported-persistence-type");e:{for(I in Sv)if(Sv[I]==r){var I=!0;break e}I=!1}if(!I||"string"!=typeof r)throw c;switch(Jl()){case"ReactNative":if("session"===r)throw v;break;case"Node":if("none"!==r)throw v;break;case"Worker":if("session"===r||!pM()&&"none"!==r)throw v;break;default:if(!vA()&&"none"!==r)throw v}}(r),xv(this,function(){return r!=v.c.F?v.b.get(v.c,v.a).then(function(I){return c=I,ZM(v,r)}).then(function(){if(v.c=nf(r),c)return v.b.set(v.c,c,v.a)}):Zn()})},Gn(al,Da),Gn(rN,tu),Gn(iN,tu),Gn(oN,tu),(t=al.prototype).yb=function(r){return wo(this,r=this.i.yb(r))},t.xa=function(r){this.aa===r||this.l||(this.aa=r,Vk(this.a,this.aa),this.dispatchEvent(new rN(this.la())))},t.la=function(){return this.aa},t.fd=function(){var r=A.navigator;this.xa(r&&(r.languages&&r.languages[0]||r.language||r.userLanguage)||null)},t.gd=function(r,c){if(!this.R){if(!/^https?:\/\//.test(r))throw new mt("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function a2(r){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),A.document&&!r&&eI().then(function(){var c=A.document.createElement("div");c.innerText="Running in emulator mode. Do not use with production credentials.",c.style.position="fixed",c.style.width="100%",c.style.backgroundColor="#ffffff",c.style.border=".1em solid #000000",c.style.color="#b50000",c.style.bottom="0px",c.style.left="0px",c.style.margin="0px",c.style.zIndex=1e4,c.style.textAlign="center",c.classList.add("firebase-emulator-warning"),A.document.body.appendChild(c)})})(c=!!c&&!!c.disableWarnings),this.R={url:r,ec:c},this.settings.jb=!0,CI(this.a,this.R),this.dispatchEvent(new iN(this.R))}},t.Gc=function(r){this.J.push(r),Uk(this.a,rn.default.SDK_VERSION?bv(rn.default.SDK_VERSION,this.J):null),this.dispatchEvent(new oN(this.J))},t.Ga=function(){return qp(this.J)},t.zb=function(r){this.S===r||this.l||(this.S=r,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:Li(this).options.apiKey,authDomain:Li(this).options.authDomain,appName:Li(this).name,currentUser:Or(this)&&Or(this).w()}},t.Gb=function(r,c){switch(r){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==c&&!!this.f;default:return!1}},t.na=function(r,c,v,I){"signInViaPopup"==r&&this.g==I&&(v&&this.C?this.C(v):c&&!v&&this.f&&this.f(c),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(r,c){return"signInViaRedirect"==r||"signInViaPopup"==r&&this.g==c&&this.f?an(this.ic,this):null},t.ic=function(r,c,v,I){var O=this,Q={requestUri:r,postBody:I,sessionId:c,tenantId:v};return this.c&&(this.c.cancel(),this.c=null),O.$.then(function(){return fg(O,iM(O.a,Q))})},t.Xc=function(r){if(!Zp())return ro(new mt("operation-not-supported-in-this-environment"));var c=this,v=kA(r.providerId),I=eg(),O=null;(!U0()||gA())&&Li(this).options.authDomain&&r.isOAuthProvider&&(O=rb(Li(this).options.authDomain,Li(this).options.apiKey,Li(this).name,"signInViaPopup",r,null,I,rn.default.SDK_VERSION||null,null,null,this.T(),this.R));var Q=Bx(O,v&&v.va,v&&v.ua);return wo(this,v=t1(this).then(function(te){return MO(te,Q,"signInViaPopup",r,I,!!O,c.T())}).then(function(){return new Wr(function(te,Se){c.na("signInViaPopup",null,new mt("cancelled-popup-request"),c.g),c.f=te,c.C=Se,c.g=I,c.c=xO(c.b,c,"signInViaPopup",Q,I)})}).then(function(te){return Q&&Jp(Q),te?Zl(te):null}).o(function(te){throw Q&&Jp(Q),te}))},t.Yc=function(r){if(!Zp())return ro(new mt("operation-not-supported-in-this-environment"));var c=this,v=t1(this).then(function(){return function s2(r){return xv(r,function(){return r.b.set(e1,r.c.F,r.a)})}(c.i)}).then(function(){return RO(c.b,"signInViaRedirect",r,void 0,c.T())});return wo(this,v)},t.ra=function(){var r=this;return sN(this).then(function(c){return r.b&&OI(r.b.b),c}).o(function(c){throw r.b&&OI(r.b.b),c})},t.dd=function(r){if(!r)return ro(new mt("null-user"));if(this.S!=r.tenantId)return ro(new mt("tenant-id-mismatch"));var c=this,v={};v.apiKey=Li(this).options.apiKey,v.authDomain=Li(this).options.authDomain,v.appName=Li(this).name;var I=function n2(r,c,v,I){var O=r.h,Q={};return Q[sl]=O.b&&O.b.toString(),Q.refreshToken=O.a,c=new Mu(c||{apiKey:r.l,authDomain:r.s,appName:r.m},Q),v&&(c.ha=v),I&&ub(c,I),FI(c,r),c}(r,v,c.D,c.Ga());return wo(this,this.h.then(function(){if(Li(c).options.apiKey!=r.l)return I.reload()}).then(function(){return Or(c)&&r.uid==Or(c).uid?(FI(Or(c),r),c.da(r)):(kv(c,I),cb(I),c.da(I))}).then(function(){fb(c)}))},t.Bb=function(){var r=this;return wo(this,this.h.then(function(){return r.b&&OI(r.b.b),Or(r)?(kv(r,null),tN(r.i).then(function(){fb(r)})):Zn()}))},t.Zc=function(){var r=this;return nN(this.i,Li(this).options.authDomain).then(function(c){if(!r.l){var v;if(v=Or(r)&&c){v=Or(r).uid;var I=c.uid;v=null!=v&&""!==v&&null!=I&&""!==I&&v==I}if(v)return FI(Or(r),c),Or(r).I();(Or(r)||c)&&(kv(r,c),c&&(cb(c),c.ha=r.D),r.b&&xI(r.b,r),fb(r))}})},t.da=function(r){return eN(this.i,r)},t.mc=function(){fb(this),this.da(Or(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()},t.kc=function(r){var c=this;return this.h.then(function(){return fg(c,Zn(r))})},t.zc=function(r){var c=this;this.addAuthTokenListener(function(){r.next(Or(c))})},t.Ac=function(r){var c=this;!function p2(r,c){r.N.push(c),wo(r,r.h.then(function(){!r.l&&nd(r.N,c)&&r.W!==r.getUid()&&(r.W=r.getUid(),c(BI(r)))}))}(this,function(){r.next(Or(c))})},t.Ic=function(r,c,v){var I=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof r?r(Or(I)):"function"==typeof r.next&&r.next(Or(I))}),this.Pa(r,c,v)},t.Hc=function(r,c,v){var I=this;return this.ba&&Promise.resolve().then(function(){I.W=I.getUid(),"function"==typeof r?r(Or(I)):"function"==typeof r.next&&r.next(Or(I))}),this.ib(r,c,v)},t.nc=function(r){var c=this;return wo(this,this.h.then(function(){return Or(c)?Or(c).I(r).then(function(I){return{accessToken:I}}):null}))},t.Tc=function(r){var c=this;return this.h.then(function(){return fg(c,Xr(c.a,YF,{token:r}))}).then(function(v){var I=v.user;return Ih(I,"isAnonymous",!1),c.da(I),v})},t.Uc=function(r,c){var v=this;return this.h.then(function(){return fg(v,Xr(v.a,Kk,{email:r,password:c}))})},t.dc=function(r,c){var v=this;return this.h.then(function(){return fg(v,Xr(v.a,DF,{email:r,password:c}))})},t.ab=function(r){var c=this;return this.h.then(function(){return fg(c,r.ka(c.a))})},t.Sc=function(r){return _A("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(r)},t.Ab=function(){var r=this;return this.h.then(function(){var c=Or(r);if(c&&c.isAnonymous){var v=Zl({providerId:null,isNewUser:!1});return Zl({user:c,credential:null,additionalUserInfo:v,operationType:"signIn"})}return fg(r,r.a.Ab()).then(function(I){var O=I.user;return Ih(O,"isAnonymous",!0),r.da(O),I})})},t.getUid=function(){return Or(this)&&Or(this).uid||null},t.cc=function(r){this.addAuthTokenListener(r),this.u++,0<this.u&&Or(this)&&GO(Or(this))},t.Pc=function(r){var c=this;po(this.s,function(v){v==r&&c.u--}),0>this.u&&(this.u=0),0==this.u&&Or(this)&&qM(Or(this)),this.removeAuthTokenListener(r)},t.addAuthTokenListener=function(r){var c=this;this.s.push(r),wo(this,this.h.then(function(){c.l||nd(c.s,r)&&r(BI(c))}))},t.removeAuthTokenListener=function(r){tl(this.s,function(c){return c==r})},t.delete=function(){this.l=!0;for(var r=0;r<this.P.length;r++)this.P[r].cancel("app-deleted");return this.P=[],this.i&&(r=this.i).b.removeListener(nf("local"),r.a,this.ja),this.b&&(SM(this.b,this),OI(this.b.b)),Promise.resolve()},t.hc=function(r){return wo(this,function mF(r,c){return Xr(r,TF,{identifier:c,continueUri:tI()?V0():"http://localhost"}).then(function(v){return v.signinMethods||[]})}(this.a,r))},t.Bc=function(r){return!!LA(r)},t.xb=function(r,c){var v=this;return wo(this,Zn().then(function(){var I=new rI(c);if(!I.c)throw new mt("argument-error",RA+" must be true when sending sign in link to email");return iI(I)}).then(function(I){return v.a.xb(r,I)}).then(function(){}))},t.jd=function(r){return this.Sa(r).then(function(c){return c.data.email})},t.ob=function(r,c){return wo(this,this.a.ob(r,c).then(function(){}))},t.Sa=function(r){return wo(this,this.a.Sa(r).then(function(c){return new TP(c)}))},t.kb=function(r){return wo(this,this.a.kb(r).then(function(){}))},t.wb=function(r,c){var v=this;return wo(this,Zn().then(function(){return void 0===c||zp(c)?{}:iI(new rI(c))}).then(function(I){return v.a.wb(r,I)}).then(function(){}))},t.Wc=function(r,c){return wo(this,kM(this,r,c,an(this.ab,this)))},t.Vc=function(r,c){var v=this;return wo(this,Zn().then(function(){var I=c||V0(),O=Ek(r,I);if(!(I=LA(I)))throw new mt("argument-error","Invalid email link!");if(I.tenantId!==v.T())throw new mt("tenant-id-mismatch");return v.ab(O)}))},db.prototype.render=function(){},db.prototype.reset=function(){},db.prototype.getResponse=function(){},db.prototype.execute=function(){};var n1=null;function r1(r,c){return(c=aN(c))&&r.a[c]||null}function aN(r){return(r=void 0===r?1e12:r)?r.toString():null}function VI(r,c){this.g=!1,this.c=c,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=k0(r);var v=this;this.i=function(){v.execute()},this.h?this.execute():ac(this.f,"click",this.i)}function i1(r){if(r.g)throw Error("reCAPTCHA mock was already deleted!")}function o1(){}function s1(){}Ov.prototype.render=function(r,c){return this.a[this.b.toString()]=new VI(r,c),this.b++},Ov.prototype.reset=function(r){var c=r1(this,r);r=aN(r),c&&r&&(c.delete(),delete this.a[r])},Ov.prototype.getResponse=function(r){return(r=r1(this,r))?r.getResponse():null},Ov.prototype.execute=function(r){(r=r1(this,r))&&r.execute()},VI.prototype.getResponse=function(){return i1(this),this.b},VI.prototype.execute=function(){i1(this);var r=this;this.a||(this.a=setTimeout(function(){r.b=function bP(){for(var r=50,c=[];0<r;)c.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return c.join("")}();var c=r.c.callback,v=r.c["expired-callback"];if(c)try{c(r.b)}catch(I){}r.a=setTimeout(function(){if(r.a=null,r.b=null,v)try{v()}catch(I){}r.h&&r.execute()},6e4)},500))},VI.prototype.delete=function(){i1(this),this.g=!0,clearTimeout(this.a),this.a=null,Su(this.f,"click",this.i)},Bn(o1,"FACTOR_ID","phone"),s1.prototype.g=function(){return n1||(n1=new Ov),Zn(n1)},s1.prototype.c=function(){};var a1=null;function u1(){this.b=A.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var g2=new Xl(jC,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),m2=new wh(3e4,6e4);u1.prototype.g=function(r){var c=this;return new Wr(function(v,I){var O=setTimeout(function(){I(new mt("network-request-failed"))},m2.get());!A.grecaptcha||r!==c.f&&!c.b?(A[c.a]=function(){if(A.grecaptcha){c.f=r;var te=A.grecaptcha.render;A.grecaptcha.render=function(Se,Nt){return Se=te(Se,Nt),c.b++,Se},clearTimeout(O),v(A.grecaptcha)}else clearTimeout(O),I(new mt("internal-error"));delete A[c.a]},Zn(QA($S(g2,{onload:c.a,hl:r||""}))).o(function(){clearTimeout(O),I(new mt("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(O),v(A.grecaptcha))})},u1.prototype.c=function(){this.b--};var c1=null;function l1(r,c,v,I,O,Q,te){if(Bn(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=c,this.g=null,te?(a1||(a1=new s1),te=a1):(c1||(c1=new u1),te=c1),this.m=te,this.a=v||{theme:"light",type:"image"},this.h=[],this.a[lN])throw new mt("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[v2],!A.document)throw new mt("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!k0(c)||!this.i&&k0(c).hasChildNodes())throw new mt("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ol(r,Q||null,O||null),this.u=I||function(){return null};var Se=this;this.l=[];var Nt=this.a[uN];this.a[uN]=function(vr){if(fN(Se,vr),"function"==typeof Nt)Nt(vr);else if("string"==typeof Nt){var Ri=io(Nt,A);"function"==typeof Ri&&Ri(vr)}};var zt=this.a[cN];this.a[cN]=function(){if(fN(Se,null),"function"==typeof zt)zt();else if("string"==typeof zt){var vr=io(zt,A);"function"==typeof vr&&vr()}}}var uN="callback",cN="expired-callback",lN="sitekey",v2="size";function fN(r,c){for(var v=0;v<r.l.length;v++)try{r.l[v](c)}catch(I){}}function f1(r,c){return r.h.push(c),c.oa(function(){UC(r.h,c)}),c}function UI(r){if(r.J)throw new mt("internal-error","RecaptchaVerifier instance has been destroyed.")}function d1(r,c,v){var I=!1;try{this.b=v||rn.default.app()}catch(te){throw new mt("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new mt("invalid-api-key");v=this.b.options.apiKey;var O=this,Q=null;try{Q=this.b.auth().Ga()}catch(te){}try{I=this.b.auth().settings.appVerificationDisabledForTesting}catch(te){}Q=rn.default.SDK_VERSION?bv(rn.default.SDK_VERSION,Q):null,l1.call(this,v,r,c,function(){try{var te=O.b.auth().la()}catch(Se){te=null}return te},Q,M0(R0),I)}function dN(r,c,v,I){e:{v=Array.prototype.slice.call(v);for(var O=0,Q=!1,te=0;te<c.length;te++)if(c[te].optional)Q=!0;else{if(Q)throw new mt("internal-error","Argument validator encountered a required argument after an optional argument.");O++}if(Q=c.length,v.length<O||Q<v.length)I="Expected "+(O==Q?1==O?"1 argument":O+" arguments":O+"-"+Q+" arguments")+" but got "+v.length+".";else{for(O=0;O<v.length;O++)if(Q=c[O].optional&&void 0===v[O],!c[O].M(v[O])&&!Q){if(c=c[O],0>O||O>=hN.length)throw new mt("internal-error","Argument validator received an unsupported number of arguments.");v=hN[O],I=(I?"":v+" argument ")+(c.name?'"'+c.name+'" ':"")+"must be "+c.K+".";break e}I=null}}if(I)throw new mt("argument-error",r+" failed: "+I)}(t=l1.prototype).Ia=function(){var r=this;return this.f?this.f:this.f=f1(this,Zn().then(function(){if(tI()&&!rl())return eI();throw new mt("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return r.m.g(r.u())}).then(function(c){return r.g=c,Xr(r.s,VF,{})}).then(function(c){r.a[lN]=c.recaptchaSiteKey}).o(function(c){throw r.f=null,c}))},t.render=function(){UI(this);var r=this;return f1(this,this.Ia().then(function(){if(null===r.c){var c=r.v;if(!r.i){var v=k0(c);c=function GN(r,c,v){var I=arguments,O=document,Q=String(I[0]),te=I[1];if(!HN&&te&&(te.name||te.type)){if(Q=["<",Q],te.name&&Q.push(' name="',HS(te.name),'"'),te.type){Q.push(' type="',HS(te.type),'"');var Se={};Za(Se,te),delete Se.type,te=Se}Q.push(">"),Q=Q.join("")}return Q=qC(O,Q),te&&("string"==typeof te?Q.className=te:Array.isArray(te)?Q.className=te.join(" "):JR(Q,te)),2<I.length&&qN(O,Q,I),Q}("DIV"),v.appendChild(c)}r.c=r.g.render(c,r.a)}return r.c}))},t.verify=function(){UI(this);var r=this;return f1(this,this.render().then(function(c){return new Wr(function(v){var I=r.g.getResponse(c);if(I)v(I);else{var O=function(Q){Q&&(function y2(r,c){tl(r.l,function(v){return v==c})}(r,O),v(Q))};r.l.push(O),r.i&&r.g.execute(r.c)}})}))},t.reset=function(){UI(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){UI(this),this.J=!0,this.m.c();for(var r=0;r<this.h.length;r++)this.h[r].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){r=k0(this.v);for(var c;c=r.firstChild;)r.removeChild(c)}},Gn(d1,l1);var hN="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Nn(r,c){return{name:r||"",K:"a valid string",optional:!!c,M:function(v){return"string"==typeof v}}}function h1(r,c){return{name:r||"",K:"a boolean",optional:!!c,M:function(v){return"boolean"==typeof v}}}function zo(r,c){return{name:r||"",K:"a valid object",optional:!!c,M:Mt}}function Nv(r,c){return{name:r||"",K:"a function",optional:!!c,M:function(v){return"function"==typeof v}}}function rf(r,c){return{name:r||"",K:"null",optional:!!c,M:function(v){return null===v}}}function Dh(r){return{name:r?r+"Credential":"credential",K:r?"a valid "+r+" credential":"a valid credential",optional:!1,M:function(c){return!!c&&!(!c.ka||r&&c.providerId!==r)}}}function p1(r,c){return Mt(r)&&"string"==typeof r.type&&r.type===c&&"function"==typeof r.Ha}function gN(r){return Mt(r)&&"string"==typeof r.uid}function Fo(r,c,v,I){return{name:v||"",K:r.K+" or "+c.K,optional:!!I,M:function(O){return r.M(O)||c.M(O)}}}function go(r,c){for(var v in c){var I=c[v].name;r[I]=vN(I,r[v],c[v].j)}}function mN(r,c){for(var v in c){var I=c[v].name;I!==v&&Object.defineProperty(r,I,{get:Ai(function(O){return this[O]},v),set:Ai(function(O,Q,te,Se){dN(O,[te],[Se],!0),this[Q]=Se},I,v,c[v].lb),enumerable:!0})}}function Lo(r,c,v,I){r[c]=vN(c,v,I)}function vN(r,c,v){function I(){var te=Array.prototype.slice.call(arguments);return dN(O,v,te),c.apply(this,te)}if(!v)return c;var Q,O=function E2(r){return(r=r.split("."))[r.length-1]}(r);for(Q in c)I[Q]=c[Q];for(Q in c.prototype)I.prototype[Q]=c.prototype[Q];return I}go(al.prototype,{kb:{name:"applyActionCode",j:[Nn("code")]},Sa:{name:"checkActionCode",j:[Nn("code")]},ob:{name:"confirmPasswordReset",j:[Nn("code"),Nn("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Nn("email"),Nn("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Nn("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Nn("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Fo(zo(),Nv(),"nextOrObserver"),Nv("opt_error",!0),Nv("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Fo(zo(),Nv(),"nextOrObserver"),Nv("opt_error",!0),Nv("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Nn("email"),Fo(zo("opt_actionCodeSettings",!0),rf(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Nn("email"),zo("actionCodeSettings")]},yb:{name:"setPersistence",j:[Nn("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Dh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Dh()]},Tc:{name:"signInWithCustomToken",j:[Nn("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Nn("email"),Nn("password")]},Vc:{name:"signInWithEmailLink",j:[Nn("email"),Nn("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Nn("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(r){return!(!r||"string"!=typeof r.type||"function"!=typeof r.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(r){return!!(r&&r.providerId&&r.hasOwnProperty&&r.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(r){return!!(r&&r.providerId&&r.hasOwnProperty&&r.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Fo({name:"user",K:"an instance of Firebase User",optional:!1,M:function(c){return!!(c&&c instanceof Mu)}},rf(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Nn(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Nn("url"),zo("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Nn("code")]}}),mN(al.prototype,{lc:{name:"languageCode",lb:Fo(Nn(),rf(),"languageCode")},ti:{name:"tenantId",lb:Fo(Nn(),rf(),"tenantId")}}),(al.Persistence=Sv).LOCAL="local",al.Persistence.SESSION="session",al.Persistence.NONE="none",go(Mu.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[h1("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[h1("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Dh()]},rb:{name:"linkWithCredential",j:[Dh()]},Dc:{name:"linkWithPhoneNumber",j:[Nn("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(r){return!(!r||"string"!=typeof r.type||"function"!=typeof r.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(r){return!!(r&&r.providerId&&r.hasOwnProperty&&r.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(r){return!!(r&&r.providerId&&r.hasOwnProperty&&r.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Dh()]},ub:{name:"reauthenticateWithCredential",j:[Dh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Nn("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(r){return!(!r||"string"!=typeof r.type||"function"!=typeof r.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(r){return!!(r&&r.providerId&&r.hasOwnProperty&&r.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(r){return!!(r&&r.providerId&&r.hasOwnProperty&&r.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Fo(zo("opt_actionCodeSettings",!0),rf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Nn(null,!0)]},cd:{name:"unlink",j:[Nn("provider")]},Cb:{name:"updateEmail",j:[Nn("email")]},Db:{name:"updatePassword",j:[Nn("password")]},ed:{name:"updatePhoneNumber",j:[Dh("phone")]},Eb:{name:"updateProfile",j:[zo("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Nn("email"),Fo(zo("opt_actionCodeSettings",!0),rf(null,!0),"opt_actionCodeSettings",!0)]}}),go(Ov.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),go(db.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),go(Wr.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),mN(FO.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:h1("appVerificationDisabledForTesting")}}),go(xM.prototype,{confirm:{name:"confirm",j:[Nn("verificationCode")]}}),Lo(Cv,"fromJSON",function(r){r="string"==typeof r?JSON.parse(r):r;for(var c,v=[GP,qP,zP,HP],I=0;I<v.length;I++)if(c=v[I](r))return c;return null},[Fo(Nn(),zo(),"json")]),Lo(cc,"credential",function(r,c){return new Eh(r,c)},[Nn("email"),Nn("password")]),go(Eh.prototype,{w:{name:"toJSON",j:[Nn(null,!0)]}}),go(rg.prototype,{Ca:{name:"addScope",j:[Nn("scope")]},Ka:{name:"setCustomParameters",j:[zo("customOAuthParameters")]}}),Lo(rg,"credential",yk,[Fo(Nn(),zo(),"token")]),Lo(cc,"credentialWithLink",Ek,[Nn("email"),Nn("emailLink")]),go(ig.prototype,{Ca:{name:"addScope",j:[Nn("scope")]},Ka:{name:"setCustomParameters",j:[zo("customOAuthParameters")]}}),Lo(ig,"credential",_k,[Fo(Nn(),zo(),"token")]),go(og.prototype,{Ca:{name:"addScope",j:[Nn("scope")]},Ka:{name:"setCustomParameters",j:[zo("customOAuthParameters")]}}),Lo(og,"credential",bk,[Fo(Nn(),Fo(zo(),rf()),"idToken"),Fo(Nn(),rf(),"accessToken",!0)]),go(Dv.prototype,{Ka:{name:"setCustomParameters",j:[zo("customOAuthParameters")]}}),Lo(Dv,"credential",wk,[Fo(Nn(),zo(),"token"),Nn("secret",!0)]),go(Au.prototype,{Ca:{name:"addScope",j:[Nn("scope")]},credential:{name:"credential",j:[Fo(Nn(),Fo(zo(),rf()),"optionsOrIdToken"),Fo(Nn(),rf(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[zo("customOAuthParameters")]}}),go(id.prototype,{w:{name:"toJSON",j:[Nn(null,!0)]}}),go(tg.prototype,{w:{name:"toJSON",j:[Nn(null,!0)]}}),Lo(od,"credential",Ck,[Nn("verificationId"),Nn("verificationCode")]),go(od.prototype,{gb:{name:"verifyPhoneNumber",j:[Fo(Nn(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(v){return!!v&&(v.session&&v.phoneNumber?p1(v.session,z0)&&"string"==typeof v.phoneNumber:v.session&&v.multiFactorHint?p1(v.session,cI)&&gN(v.multiFactorHint):v.session&&v.multiFactorUid?p1(v.session,cI)&&"string"==typeof v.multiFactorUid:!!v.phoneNumber&&"string"==typeof v.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(r){return!(!r||"string"!=typeof r.type||"function"!=typeof r.verify)}}]}}),go(Ch.prototype,{w:{name:"toJSON",j:[Nn(null,!0)]}}),go(mt.prototype,{toJSON:{name:"toJSON",j:[Nn(null,!0)]}}),go(Y0.prototype,{toJSON:{name:"toJSON",j:[Nn(null,!0)]}}),go(jA.prototype,{toJSON:{name:"toJSON",j:[Nn(null,!0)]}}),go(NM.prototype,{toJSON:{name:"toJSON",j:[Nn(null,!0)]}}),go(OM.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(r){return!!r&&!!r.tb}}]}}),go(FM.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(r){return!!r&&!!r.tb}},Nn("displayName",!0)]},bd:{name:"unenroll",j:[Fo({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:gN},Nn(),"multiFactorInfoIdentifier")]}}),go(d1.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Lo(MA,"parseLink",ek,[Nn("link")]),Lo(o1,"assertion",function(r){return new jO(r)},[Dh("phone")]),function(){if(void 0===rn.default||!rn.default.INTERNAL||!rn.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var r={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:nI,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:AA,VERIFY_AND_CHANGE_EMAIL:G0,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:al,AuthCredential:Cv,Error:mt};Lo(r,"EmailAuthProvider",cc,[]),Lo(r,"FacebookAuthProvider",rg,[]),Lo(r,"GithubAuthProvider",ig,[]),Lo(r,"GoogleAuthProvider",og,[]),Lo(r,"TwitterAuthProvider",Dv,[]),Lo(r,"OAuthProvider",Au,[Nn("providerId")]),Lo(r,"SAMLAuthProvider",vk,[Nn("providerId")]),Lo(r,"PhoneAuthProvider",od,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(r){return!!(r&&r instanceof al)}}]),Lo(r,"RecaptchaVerifier",d1,[Fo(Nn(),{name:"",K:"an HTML element",optional:!1,M:function(r){return!!(r&&r instanceof Element)}},"recaptchaContainer"),zo("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(r){return!!(r&&r instanceof rn.default.app.App)}}]),Lo(r,"ActionCodeURL",MA,[]),Lo(r,"PhoneMultiFactorGenerator",o1,[]),rn.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(c){return new al(c=c.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:r,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(c){c.getProvider("auth-internal").initialize()}}),rn.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(c){return{getUid:an((c=c.getProvider("auth").getImmediate()).getUid,c),getToken:an(c.nc,c),addAuthTokenListener:an(c.cc,c),removeAuthTokenListener:an(c.Pc,c)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),rn.default.registerVersion("@firebase/auth","0.16.8"),rn.default.INTERNAL.extendNamespace({User:Mu})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),de(6089);var V=de(655),un=de(492),hr=de(4003),yi=function(t,e){return(yi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(n[u]=s[u])})(t,e)};function Eo(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],s=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var qt,Wo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Nr=Nr||{},vn=Wo||self;function Mr(){}function Br(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Yi(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var yr="closure_uid_"+(1e9*Math.random()>>>0),ui=0;function Qr(t,e,n){return t.call.apply(t.bind,arguments)}function Ki(t,e,n){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,s),t.apply(e,u)}}return function(){return t.apply(e,arguments)}}function ir(t,e,n){return(ir=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Qr:Ki).apply(null,arguments)}function Qt(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function yn(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(s,u,h){for(var _=Array(arguments.length-2),w=2;w<arguments.length;w++)_[w-2]=arguments[w];return e.prototype[u].apply(s,_)}}function sr(){this.s=this.s,this.o=this.o}var xi={};sr.prototype.s=!1,sr.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function Tr(t){return Object.prototype.hasOwnProperty.call(t,yr)&&t[yr]||(t[yr]=++ui)}(this);delete xi[t]}},sr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Er=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Fn=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var s=t.length,u="string"==typeof t?t.split(""):t,h=0;h<s;h++)h in u&&e.call(n,u[h],h,t)};function Rn(t){return Array.prototype.concat.apply([],arguments)}function _i(t){var e=t.length;if(0<e){for(var n=Array(e),s=0;s<e;s++)n[s]=t[s];return n}return[]}function X(t){return/^[\s\xa0]*$/.test(t)}var Ne,me=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ie(t,e){return-1!=t.indexOf(e)}function we(t,e){return t<e?-1:t>e?1:0}e:{var Oe=vn.navigator;if(Oe){var Ze=Oe.userAgent;if(Ze){Ne=Ze;break e}}Ne=""}function It(t,e,n){for(var s in t)e.call(n,t[s],s,t)}function St(t){var e={};for(var n in t)e[n]=t[n];return e}var At="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tn(t,e){for(var n,s,u=1;u<arguments.length;u++){for(n in s=arguments[u])t[n]=s[n];for(var h=0;h<At.length;h++)n=At[h],Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}}function wn(t){return wn[" "](t),t}wn[" "]=Mr;var ps,t,qn=ie(Ne,"Opera"),ri=ie(Ne,"Trident")||ie(Ne,"MSIE"),Jr=ie(Ne,"Edge"),ki=Jr||ri,qr=ie(Ne,"Gecko")&&!(ie(Ne.toLowerCase(),"webkit")&&!ie(Ne,"Edge"))&&!(ie(Ne,"Trident")||ie(Ne,"MSIE"))&&!ie(Ne,"Edge"),ca=ie(Ne.toLowerCase(),"webkit")&&!ie(Ne,"Edge");function Yo(){var t=vn.document;return t?t.documentMode:void 0}e:{var Ko="",la=(t=Ne,qr?/rv:([^\);]+)(\)|;)/.exec(t):Jr?/Edge\/([\d\.]+)/.exec(t):ri?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):ca?/WebKit\/(\S+)/.exec(t):qn?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(la&&(Ko=la?la[1]:""),ri){var fa=Yo();if(null!=fa&&fa>parseFloat(Ko)){ps=String(fa);break e}}ps=Ko}var Hs={};var gs=vn.document&&ri&&(Yo()||parseInt(ps,10))||void 0,Sa=function(){if(!vn.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{vn.addEventListener("test",Mr,e),vn.removeEventListener("test",Mr,e)}catch(n){}return t}();function Vr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Bi(t,e){if(Vr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(qr){e:{try{wn(e.nodeName);var u=!0;break e}catch(h){}u=!1}u||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:so[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Bi.Z.h.call(this)}}Vr.prototype.h=function(){this.defaultPrevented=!0},yn(Bi,Vr);var so={2:"touch",3:"pen",4:"mouse"};Bi.prototype.h=function(){Bi.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Xo="closure_listenable_"+(1e6*Math.random()|0),ao=0;function Gs(t,e,n,s,u){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.ia=u,this.key=++ao,this.ca=this.fa=!1}function Xi(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Qi(t){this.src=t,this.g={},this.h=0}function da(t,e){var n=e.type;if(n in t.g){var h,s=t.g[n],u=Er(s,e);(h=0<=u)&&Array.prototype.splice.call(s,u,1),h&&(Xi(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function ks(t,e,n,s){for(var u=0;u<t.length;++u){var h=t[u];if(!h.ca&&h.listener==e&&h.capture==!!n&&h.ia==s)return u}return-1}Qi.prototype.add=function(t,e,n,s,u){var h=t.toString();(t=this.g[h])||(t=this.g[h]=[],this.h++);var _=ks(t,e,s,u);return-1<_?(e=t[_],n||(e.fa=!1)):((e=new Gs(e,this.src,h,!!s,u)).fa=n,t.push(e)),e};var ms="closure_lm_"+(1e6*Math.random()|0),Vi={};function Qo(t,e,n,s,u){if(s&&s.once)return Os(t,e,n,s,u);if(Array.isArray(e)){for(var h=0;h<e.length;h++)Qo(t,e[h],n,s,u);return null}return n=Mi(n),t&&t[Xo]?t.N(e,n,Yi(s)?!!s.capture:!!s,u):Do(t,e,n,!1,s,u)}function Do(t,e,n,s,u,h){if(!e)throw Error("Invalid event type");var _=Yi(u)?!!u.capture:!!u,w=Jo(t);if(w||(t[ms]=w=new Qi(t)),(n=w.add(e,n,s,_,h)).proxy)return n;if(s=function ha(){var e=pa;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=s,s.src=t,s.listener=n,t.addEventListener)Sa||(u=_),void 0===u&&(u=!1),t.addEventListener(e.toString(),s,u);else if(t.attachEvent)t.attachEvent(pr(e.toString()),s);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(s)}return n}function Os(t,e,n,s,u){if(Array.isArray(e)){for(var h=0;h<e.length;h++)Os(t,e[h],n,s,u);return null}return n=Mi(n),t&&t[Xo]?t.O(e,n,Yi(s)?!!s.capture:!!s,u):Do(t,e,n,!0,s,u)}function mo(t,e,n,s,u){if(Array.isArray(e))for(var h=0;h<e.length;h++)mo(t,e[h],n,s,u);else s=Yi(s)?!!s.capture:!!s,n=Mi(n),t&&t[Xo]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=ks(h=t.g[e],n,s,u))&&(Xi(h[n]),Array.prototype.splice.call(h,n,1),0==h.length&&(delete t.g[e],t.h--))):t&&(t=Jo(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ks(e,n,s,u)),(n=-1<t?e[t]:null)&&To(n))}function To(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Xo])da(e.i,t);else{var n=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(n,s,t.capture):e.detachEvent?e.detachEvent(pr(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=Jo(e))?(da(n,t),0==n.h&&(n.src=null,e[ms]=null)):Xi(t)}}}function pr(t){return t in Vi?Vi[t]:Vi[t]="on"+t}function pa(t,e){if(t.ca)t=!0;else{e=new Bi(e,this);var n=t.listener,s=t.ia||t.src;t.fa&&To(t),t=n.call(s,e)}return t}function Jo(t){return(t=t[ms])instanceof Qi?t:null}var qi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mi(t){return"function"==typeof t?t:(t[qi]||(t[qi]=function(e){return t.handleEvent(e)}),t[qi])}function Kr(){sr.call(this),this.i=new Qi(this),this.P=this,this.I=null}function ci(t,e){var n,s=t.I;if(s)for(n=[];s;s=s.I)n.push(s);if(t=t.P,s=e.type||e,"string"==typeof e)e=new Vr(e,t);else if(e instanceof Vr)e.target=e.target||t;else{var u=e;tn(e=new Vr(s,t),u)}if(u=!0,n)for(var h=n.length-1;0<=h;h--){var _=e.g=n[h];u=j(_,s,!0,e)&&u}if(u=j(_=e.g=t,s,!0,e)&&u,u=j(_,s,!1,e)&&u,n)for(h=0;h<n.length;h++)u=j(_=e.g=n[h],s,!1,e)&&u}function j(t,e,n,s){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,h=0;h<e.length;++h){var _=e[h];if(_&&!_.ca&&_.capture==n){var w=_.listener,A=_.ia||_.src;_.fa&&da(t.i,_),u=!1!==w.call(A,s)&&u}}return u&&!s.defaultPrevented}yn(Kr,sr),Kr.prototype[Xo]=!0,Kr.prototype.removeEventListener=function(t,e,n,s){mo(this,t,e,n,s)},Kr.prototype.M=function(){if(Kr.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)Xi(n[s]);delete t.g[e],t.h--}}this.I=null},Kr.prototype.N=function(t,e,n,s){return this.i.add(String(t),e,!1,n,s)},Kr.prototype.O=function(t,e,n,s){return this.i.add(String(t),e,!0,n,s)};var J=vn.JSON.stringify;function q(){var t=ar,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Rr,se=function(){function t(){this.h=this.g=null}return t.prototype.add=function(e,n){var s=Fe.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s},t}(),Fe=new(function(){function t(e,n){this.i=e,this.j=n,this.h=0,this.g=null}return t.prototype.get=function(){var e;return 0<this.h?(this.h--,this.g=(e=this.g).next,e.next=null):e=this.i(),e},t}())(function(){return new _t},function(t){return t.reset()}),_t=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(e,n){this.h=e,this.g=n,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function jt(t){vn.setTimeout(function(){throw t},0)}function en(t,e){Rr||function Cr(){var t=vn.Promise.resolve(void 0);Rr=function(){t.then(ji)}}(),Hn||(Rr(),Hn=!0),ar.add(t,e)}var Hn=!1,ar=new se;function ji(){for(var t;t=q();){try{t.h.call(t.g)}catch(n){jt(n)}var e=Fe;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Hn=!1}function gr(t,e){Kr.call(this),this.h=t||1,this.g=e||vn,this.j=ir(this.kb,this),this.l=Date.now()}function Pr(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Zo(t,e,n){if("function"==typeof t)n&&(t=ir(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ir(t.handleEvent,t)}return 2147483647<Number(e)?-1:vn.setTimeout(t,e||0)}function vo(t){t.g=Zo(function(){t.g=null,t.i&&(t.i=!1,vo(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}yn(gr,Kr),(qt=gr.prototype).da=!1,qt.S=null,qt.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ci(this,"tick"),this.da&&(Pr(this),this.start()))}},qt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},qt.M=function(){gr.Z.M.call(this),Pr(this),delete this.g};var Ji=function(t){function e(n,s){var u=t.call(this)||this;return u.m=n,u.j=s,u.h=null,u.i=!1,u.g=null,u}return function oo(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}yi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:vo(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(vn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(sr);function Fr(t){sr.call(this),this.h=t,this.g={}}yn(Fr,sr);var z=[];function L(t,e,n,s){Array.isArray(n)||(n&&(z[0]=n.toString()),n=z);for(var u=0;u<n.length;u++){var h=Qo(e,n[u],s||t.handleEvent,!1,t.h||t);if(!h)break;t.g[h.key]=h}}function P(t){It(t.g,function(e,n){this.g.hasOwnProperty(n)&&To(e)},t),t.g={}}function ne(){this.g=!0}function dn(t,e,n,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function G(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var s=n[t];if(!(2>s.length)){var u=s[1];if(Array.isArray(u)&&!(1>u.length)){var h=u[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var _=1;_<u.length;_++)u[_]=""}}}return J(n)}catch(w){return e}}(t,n)+(s?" "+s:"")})}Fr.prototype.M=function(){Fr.Z.M.call(this),P(this)},Fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ne.prototype.Aa=function(){this.g=!1},ne.prototype.info=function(){};var E={},U=null;function oe(){return U=U||new Kr}function Ct(t){Vr.call(this,E.Ma,t)}function Xt(t){var e=oe();ci(e,new Ct(e,t))}function dt(t,e){Vr.call(this,E.STAT_EVENT,t),this.stat=e}function Jt(t){var e=oe();ci(e,new dt(e,t))}function Gr(t,e){Vr.call(this,E.Na,t),this.size=e}function cr(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return vn.setTimeout(function(){t()},e)}E.Ma="serverreachability",yn(Ct,Vr),E.STAT_EVENT="statevent",yn(dt,Vr),E.Na="timingevent",yn(Gr,Vr);var ei={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},li={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function bi(){}function uo(){}bi.prototype.h=null;var Ru,Aa={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function qs(){Vr.call(this,"d")}function iu(){Vr.call(this,"c")}function Zi(){}function es(t,e,n,s){this.l=t,this.j=e,this.m=n,this.X=s||1,this.V=new Fr(this),this.P=Ma,this.W=new gr(t=ki?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Vo}function Vo(){this.i=null,this.g="",this.h=!1}yn(qs,Vr),yn(iu,Vr),yn(Zi,bi),Zi.prototype.g=function(){return new XMLHttpRequest},Zi.prototype.i=function(){return{}},Ru=new Zi;var Ma=45e3,So={},xu={};function fc(t,e,n){t.K=1,t.v=ys(xr(e)),t.s=n,t.U=!0,ku(t,null)}function ku(t,e){t.F=Date.now(),Nu(t),t.A=xr(t.v);var n=t.A,s=t.X;Array.isArray(s)||(s=[String(s)]),Sh(n.h,"t",s),t.C=0,n=t.l.H,t.h=new Vo,t.g=Gu(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Ji(ir(t.Ia,t,t.g),t.O)),L(t.V,t.g,"readystatechange",t.gb),e=t.H?St(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Xt(1),function Rt(t,e,n,s,u,h){t.info(function(){if(t.g)if(h)for(var _="",w=h.split("&"),A=0;A<w.length;A++){var B=w[A].split("=");if(1<B.length){var Y=B[0];B=B[1];var ue=Y.split("_");_=2<=ue.length&&"type"==ue[1]?_+(Y+"=")+B+"&":_+(Y+"=redacted&")}}else _=null;else _=h;return"XMLHTTP REQ ("+s+") [attempt "+u+"]: "+e+"\n"+n+"\n"+_})}(t.j,t.u,t.A,t.m,t.X,t.s)}function dc(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function Ou(t,e,n){for(var u,s=!0;!t.I&&t.C<n.length;){if((u=ts(t,n))==xu){4==e&&(t.o=4,Jt(14),s=!1),dn(t.j,t.m,null,"[Incomplete Response]");break}if(u==So){t.o=4,Jt(15),dn(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}dn(t.j,t.m,u,null),ou(t,u)}dc(t)&&u!=xu&&u!=So&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Jt(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),_r(e),e.L=!0,Jt(11))):(dn(t.j,t.m,n,"[Invalid Chunked Response]"),Uo(t),Pu(t))}function ts(t,e){var n=t.C,s=e.indexOf("\n",n);return-1==s?xu:(n=Number(e.substring(n,s)),isNaN(n)?So:(s+=1)+n>e.length?xu:(e=e.substr(s,n),t.C=s+n,e))}function Nu(t){t.Y=Date.now()+t.P,Ra(t,t.P)}function Ra(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=cr(ir(t.eb,t),e)}function xa(t){t.B&&(vn.clearTimeout(t.B),t.B=null)}function Pu(t){0==t.l.G||t.I||wr(t.l,t)}function Uo(t){xa(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Pr(t.W),P(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function ou(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||Ps(n.i,t)))if(n.I=t.N,!t.J&&Ps(n.i,t)&&3==n.G){try{var s=n.Ca.g.parse(e)}catch(Mt){s=null}if(Array.isArray(s)&&3==s.length){var u=s;if(0==u[0])e:if(n.u)n.ta=u[1],0<n.ta-n.U&&37500>u[2]&&n.N&&0==n.A&&!n.v&&(n.v=cr(ir(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<t.F))break e;br(n),x(n)}pn(n),Jt(18)}if(1>=_c(n.i)&&n.ka){try{n.ka()}catch(Mt){}n.ka=void 0}}else zr(n,11)}else if((t.J||n.g==t)&&br(n),!X(e))for(u=n.Ca.g.parse(e),e=0;e<u.length;e++){var h=u[e];if(n.U=h[0],h=h[1],2==n.G)if("c"==h[0]){n.J=h[1],n.la=h[2];var _=h[3];null!=_&&(n.ma=_,n.h.info("VER="+n.ma));var w=h[4];null!=w&&(n.za=w,n.h.info("SVER="+n.za));var A=h[5];null!=A&&"number"==typeof A&&0<A&&(n.K=s=1.5*A,n.h.info("backChannelRequestTimeoutMs_="+s)),s=n;var B=t.g;if(B){var Y=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Y){var ue=s.i;!ue.g&&(ie(Y,"spdy")||ie(Y,"quic")||ie(Y,"h2"))&&(ue.j=ue.l,ue.g=new Set,ue.h&&(sf(ue,ue.h),ue.h=null))}if(s.D){var pe=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;pe&&(s.sa=pe,wi(s.F,s.D,pe))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var ze=t;if((s=n).oa=uu(s,s.H?s.la:null,s.W),ze.J){Ni(s.i,ze);var Le=ze,ut=s.K;ut&&Le.setTimeout(ut),Le.B&&(xa(Le),Nu(Le)),s.g=ze}else xt(s);0<n.l.length&&F(n)}else"stop"!=h[0]&&"close"!=h[0]||zr(n,7);else 3==n.G&&("stop"==h[0]||"close"==h[0]?"stop"==h[0]?zr(n,7):Xs(n):"noop"!=h[0]&&n.j&&n.j.wa(h),n.A=0)}Xt(4)}catch(Mt){}}function hc(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Br(t)||"string"==typeof t)Fn(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(Br(t)||"string"==typeof t){n=[];for(var s=t.length,u=0;u<s;u++)n.push(u)}else for(u in n=[],s=0,t)n[s++]=u;s=function Fu(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(Br(t)){for(var e=[],n=t.length,s=0;s<n;s++)e.push(t[s]);return e}for(s in e=[],n=0,t)e[n++]=t[s];return e}(t),u=s.length;for(var h=0;h<u;h++)e.call(void 0,s[h],n&&n[h],t)}}function zs(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var s=0;s<n;s+=2)this.set(arguments[s],arguments[s+1])}else if(t)if(t instanceof zs)for(n=t.T(),s=0;s<n.length;s++)this.set(n[s],t.get(n[s]));else for(s in t)this.set(s,t[s])}function vs(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var s=t.g[e];ga(t.h,s)&&(t.g[n++]=s),e++}t.g.length=n}if(t.i!=t.g.length){var u={};for(n=e=0;e<t.g.length;)ga(u,s=t.g[e])||(t.g[n++]=s,u[s]=1),e++;t.g.length=n}}function ga(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(qt=es.prototype).setTimeout=function(t){this.P=t},qt.gb=function(t){t=t.target;var e=this.L;e&&3==Ao(t)?e.l():this.Ia(t)},qt.Ia=function(t){try{if(t==this.g)e:{var e=Ao(this.g),n=this.g.Da(),s=this.g.ba();if(!(3>e)&&(3!=e||ki||this.g&&(this.h.h||this.g.ga()||Dc(this.g)))){this.I||4!=e||7==n||Xt(8==n||0>=s?3:2),xa(this);var u=this.g.ba();this.N=u;t:if(dc(this)){var h=Dc(this.g);t="";var _=h.length,w=4==Ao(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Uo(this),Pu(this);var A="";break t}this.h.i=new vn.TextDecoder}for(n=0;n<_;n++)this.h.h=!0,t+=this.h.i.decode(h[n],{stream:w&&n==_-1});h.splice(0,_),this.h.g+=t,this.C=0,A=this.h.g}else A=this.g.ga();if(this.i=200==u,function En(t,e,n,s,u,h,_){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+h+" "+_})}(this.j,this.u,this.A,this.m,this.X,e,u),this.i){if(this.$&&!this.J){t:{if(this.g){var B,Y=this.g;if((B=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(B)){var ue=B;break t}}ue=null}if(!(u=ue)){this.i=!1,this.o=3,Jt(12),Uo(this),Pu(this);break e}dn(this.j,this.m,u,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ou(this,u)}this.U?(Ou(this,e,A),ki&&this.i&&3==e&&(L(this.V,this.W,"tick",this.fb),this.W.start())):(dn(this.j,this.m,A,null),ou(this,A)),4==e&&Uo(this),this.i&&!this.I&&(4==e?wr(this.l,this):(this.i=!1,Nu(this)))}else 400==u&&0<A.indexOf("Unknown SID")?(this.o=3,Jt(12)):(this.o=0,Jt(13)),Uo(this),Pu(this)}}}catch(pe){}},qt.fb=function(){if(this.g){var t=Ao(this.g),e=this.g.ga();this.C<e.length&&(xa(this),Ou(this,t,e),this.i&&4!=t&&Nu(this))}},qt.cancel=function(){this.I=!0,Uo(this)},qt.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function C(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Xt(3),Jt(17)),Uo(this),this.o=2,Pu(this)):Ra(this,this.Y-t)},(qt=zs.prototype).R=function(){vs(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},qt.T=function(){return vs(this),this.g.concat()},qt.get=function(t,e){return ga(this.h,t)?this.h[t]:e},qt.set=function(t,e){ga(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},qt.forEach=function(t,e){for(var n=this.T(),s=0;s<n.length;s++){var u=n[s],h=this.get(u);t.call(e,h,u,this)}};var ud=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Oi(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Oi){this.g=void 0!==e?e:t.g,Lu(this,t.j),this.s=t.s,pc(this,t.i),Bu(this,t.m),this.l=t.l,e=t.h;var n=new ma;n.i=e.i,e.g&&(n.g=new zs(e.g),n.h=e.h),ka(this,n),this.o=t.o}else t&&(n=String(t).match(ud))?(this.g=!!e,Lu(this,n[1]||"",!0),this.s=Ys(n[2]||""),pc(this,n[3]||"",!0),Bu(this,n[4]),this.l=Ys(n[5]||"",!0),ka(this,n[6]||"",!0),this.o=Ys(n[7]||"")):(this.g=!!e,this.h=new ma(null,this.g))}function xr(t){return new Oi(t)}function Lu(t,e,n){t.j=n?Ys(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function pc(t,e,n){t.i=n?Ys(e,!0):e}function Bu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ka(t,e,n){e instanceof ma?(t.h=e,function vc(t,e){e&&!t.j&&(ns(t),t.i=null,t.g.forEach(function(n,s){var u=s.toLowerCase();s!=u&&(ul(this,s),Sh(this,u,n))},t)),t.j=e}(t.h,t.g)):(n||(e=Ns(e,Th)),t.h=new ma(e,t.g))}function wi(t,e,n){t.h.set(e,n)}function ys(t){return wi(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ys(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ns(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,of),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function of(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Oi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ns(e,cd,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Ns(e,cd,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ns(n,"/"==n.charAt(0)?mc:Oa,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ns(n,ld)),t.join("")};var cd=/[#\/\?@]/g,Oa=/[#\?:]/g,mc=/[#\?]/g,Th=/[#\?@]/g,ld=/#/g;function ma(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ns(t){t.g||(t.g=new zs,t.h=0,t.i&&function ii(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var s=t[n].indexOf("="),u=null;if(0<=s){var h=t[n].substring(0,s);u=t[n].substring(s+1)}else h=t[n];e(h,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function ul(t,e){ns(t),e=su(t,e),ga(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,ga((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&vs(t)))}function fd(t,e){return ns(t),e=su(t,e),ga(t.g.h,e)}function Sh(t,e,n){ul(t,e),0<n.length&&(t.i=null,t.g.set(su(t,e),_i(n)),t.h+=n.length)}function su(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(qt=ma.prototype).add=function(t,e){ns(this),this.i=null,t=su(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},qt.forEach=function(t,e){ns(this),this.g.forEach(function(n,s){Fn(n,function(u){t.call(e,u,s,this)},this)},this)},qt.T=function(){ns(this);for(var t=this.g.R(),e=this.g.T(),n=[],s=0;s<e.length;s++)for(var u=t[s],h=0;h<u.length;h++)n.push(e[s]);return n},qt.R=function(t){ns(this);var e=[];if("string"==typeof t)fd(this,t)&&(e=Rn(e,this.g.get(su(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Rn(e,t[n])}return e},qt.set=function(t,e){return ns(this),this.i=null,fd(this,t=su(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},qt.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},qt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var s=e[n],u=encodeURIComponent(String(s));s=this.R(s);for(var h=0;h<s.length;h++){var _=u;""!==s[h]&&(_+="="+encodeURIComponent(String(s[h]))),t.push(_)}}return this.i=t.join("&")};var dd=function t(e,n){this.h=e,this.g=n};function cl(t){this.l=t||au,t=vn.PerformanceNavigationTiming?0<(t=vn.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(vn.g&&vn.g.Ea&&vn.g.Ea()&&vn.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var au=10;function yc(t){return!!t.h||!!t.g&&t.g.size>=t.j}function _c(t){return t.h?1:t.g?t.g.size:0}function Ps(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function sf(t,e){t.g?t.g.add(e):t.h=e}function Ni(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function bc(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var s=t.i;try{for(var u=Eo(t.g.values()),h=u.next();!h.done;h=u.next())s=s.concat(h.value.D)}catch(w){e={error:w}}finally{try{h&&!h.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return s}return _i(t.i)}function Na(){}function af(){this.g=new Na}function ll(t,e,n){var s=n||"";try{hc(t,function(u,h){var _=u;Yi(u)&&(_=J(u)),e.push(s+h+"="+encodeURIComponent(_))})}catch(u){throw e.push(s+"type="+encodeURIComponent("_badmap")),u}}function Vu(t,e,n,s,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(s)}catch(h){}}function wc(t){this.l=t.$b||null,this.j=t.ib||!1}function va(t,e){Kr.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Uu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cl.prototype.cancel=function(){var t,e;if(this.i=bc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Eo(this.g.values()),s=n.next();!s.done;s=n.next())s.value.cancel()}catch(h){t={error:h}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},Na.prototype.stringify=function(t){return vn.JSON.stringify(t,void 0)},Na.prototype.parse=function(t){return vn.JSON.parse(t,void 0)},yn(wc,bi),wc.prototype.g=function(){return new va(this.l,this.j)},wc.prototype.i=function(t){return function(){return t}}({}),yn(va,Kr);var Uu=0;function Ec(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Ks(t){t.readyState=4,t.l=null,t.j=null,t.A=null,rs(t)}function rs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(qt=va.prototype).open=function(t,e){if(this.readyState!=Uu)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,rs(this)},qt.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||vn).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},qt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ks(this)),this.readyState=Uu},qt.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,rs(this)),this.g&&(this.readyState=3,rs(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==vn.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ec(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},qt.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ks(this):rs(this),3==this.readyState&&Ec(this)}},qt.Ua=function(t){this.g&&(this.response=this.responseText=t,Ks(this))},qt.Ta=function(t){this.g&&(this.response=t,Ks(this))},qt.ha=function(){this.g&&Ks(this)},qt.setRequestHeader=function(t,e){this.v.append(t,e)},qt.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},qt.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(va.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var hd=vn.JSON.parse;function ti(t){Kr.call(this),this.headers=new zs,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=fl,this.K=this.L=!1}yn(ti,Kr);var fl="",uf=/^https?$/i,dl=["POST","PUT"];function Mh(t){return"content-type"==t.toLowerCase()}function Cc(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ju(t),Ic(t)}function ju(t){t.D||(t.D=!0,ci(t,"complete"),ci(t,"error"))}function cf(t){if(t.h&&void 0!==Nr&&(!t.C[1]||4!=Ao(t)||2!=t.ba()))if(t.v&&4==Ao(t))Zo(t.Fa,0,t);else if(ci(t,"readystatechange"),4==Ao(t)){t.h=!1;try{var s,e=t.ba();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}if(!(s=n)){var u;if(u=0===e){var h=String(t.H).match(ud)[1]||null;if(!h&&vn.self&&vn.self.location){var _=vn.self.location.protocol;h=_.substr(0,_.length-1)}u=!uf.test(h?h.toLowerCase():"")}s=u}if(s)ci(t,"complete"),ci(t,"success");else{t.m=6;try{var w=2<Ao(t)?t.g.statusText:""}catch(A){w=""}t.j=w+" ["+t.ba()+"]",ju(t)}}finally{Ic(t)}}}function Ic(t,e){if(t.g){lf(t);var n=t.g,s=t.C[0]?Mr:null;t.g=null,t.C=null,e||ci(t,"ready");try{n.onreadystatechange=s}catch(u){}}}function lf(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(vn.clearTimeout(t.A),t.A=null)}function Ao(t){return t.g?t.g.readyState:0}function Dc(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case fl:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function $u(t,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=function hl(t){var e="";return It(t,function(n,s){e+=s,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):wi(t,e,n))}function Fs(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Fa(t){this.za=0,this.l=[],this.h=new ne,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Fs("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Fs("baseRetryDelayMs",5e3,t),this.$a=Fs("retryDelaySeedMs",1e4,t),this.Ya=Fs("forwardChannelMaxRetries",2,t),this.ra=Fs("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new cl(t&&t.concurrentRequestLimit),this.Ca=new af,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Xs(t){if(M(t),3==t.G){var e=t.V++,n=xr(t.F);wi(n,"SID",t.J),wi(n,"RID",e),wi(n,"TYPE","terminate"),Ce(t,n),(e=new es(t,t.h,e,void 0)).K=2,e.v=ys(xr(n)),n=!1,vn.navigator&&vn.navigator.sendBeacon&&(n=vn.navigator.sendBeacon(e.v.toString(),"")),!n&&vn.Image&&((new Image).src=e.v,n=!0),n||(e.g=Gu(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Nu(e)}Hu(t)}function x(t){t.g&&(_r(t),t.g.cancel(),t.g=null)}function M(t){x(t),t.u&&(vn.clearTimeout(t.u),t.u=null),br(t),t.i.cancel(),t.m&&("number"==typeof t.m&&vn.clearTimeout(t.m),t.m=null)}function T(t,e){t.l.push(new dd(t.Za++,e)),3==t.G&&F(t)}function F(t){yc(t.i)||t.m||(t.m=!0,en(t.Ha,t),t.C=0)}function ee(t,e){var n;n=e?e.m:t.V++;var s=xr(t.F);wi(s,"SID",t.J),wi(s,"RID",n),wi(s,"AID",t.U),Ce(t,s),t.o&&t.s&&$u(s,t.o,t.s),n=new es(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=He(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),sf(t.i,n),fc(n,s,e)}function Ce(t,e){t.j&&hc({},function(n,s){wi(e,s,n)})}function He(t,e,n){n=Math.min(t.l.length,n);var s=t.j?ir(t.j.Oa,t.j,t):null;e:for(var u=t.l,h=-1;;){var _=["count="+n];-1==h?0<n?_.push("ofs="+(h=u[0].h)):h=0:_.push("ofs="+h);for(var w=!0,A=0;A<n;A++){var B=u[A].h,Y=u[A].g;if(0>(B-=h))h=Math.max(0,u[A].h-100),w=!1;else try{ll(Y,_,"req"+B+"_")}catch(ue){s&&s(Y)}}if(w){s=_.join("&");break e}}return t=t.l.splice(0,n),e.D=t,s}function xt(t){t.g||t.u||(t.Y=1,en(t.Ga,t),t.A=0)}function pn(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=cr(ir(t.Ga,t),is(t,t.A)),t.A++,0))}function _r(t){null!=t.B&&(vn.clearTimeout(t.B),t.B=null)}function On(t){t.g=new es(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=xr(t.oa);wi(e,"RID","rpc"),wi(e,"SID",t.J),wi(e,"CI",t.N?"0":"1"),wi(e,"AID",t.U),Ce(t,e),wi(e,"TYPE","xmlhttp"),t.o&&t.s&&$u(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=ys(xr(e)),n.s=null,n.U=!0,ku(n,t)}function br(t){null!=t.v&&(vn.clearTimeout(t.v),t.v=null)}function wr(t,e){var n=null;if(t.g==e){br(t),_r(t),t.g=null;var s=2}else{if(!Ps(t.i,e))return;n=e.D,Ni(t.i,e),s=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==s){n=e.s?e.s.length:0,e=Date.now()-e.F;var u=t.C;ci(s=oe(),new Gr(s,n,e,u)),F(t)}else xt(t);else if(3==(u=e.o)||0==u&&0<t.I||!(1==s&&function W(t,e){return!(_c(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=cr(ir(t.Ha,t,e),is(t,t.C)),t.C++,0)))}(t,e)||2==s&&pn(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),u){case 1:zr(t,5);break;case 4:zr(t,10);break;case 3:zr(t,6);break;default:zr(t,2)}}function is(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function zr(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var s=ir(t.jb,t);n||(n=new Oi("//www.google.com/images/cleardot.gif"),vn.location&&"http"==vn.location.protocol||Lu(n,"https"),ys(n)),function Pa(t,e){var n=new ne;if(vn.Image){var s=new Image;s.onload=Qt(Vu,n,s,"TestLoadImage: loaded",!0,e),s.onerror=Qt(Vu,n,s,"TestLoadImage: error",!1,e),s.onabort=Qt(Vu,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=Qt(Vu,n,s,"TestLoadImage: timeout",!1,e),vn.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}(n.toString(),s)}else Jt(2);t.G=0,t.j&&t.j.va(e),Hu(t),M(t)}function Hu(t){t.G=0,t.I=-1,t.j&&((0!=bc(t.i).length||0!=t.l.length)&&(t.i.i.length=0,_i(t.l),t.l.length=0),t.j.ua())}function uu(t,e,n){var s=function gc(t){return t instanceof Oi?xr(t):new Oi(t,void 0)}(n);if(""!=s.i)e&&pc(s,e+"."+s.i),Bu(s,s.m);else{var u=vn.location;s=function Ws(t,e,n,s){var u=new Oi(null,void 0);return t&&Lu(u,t),e&&pc(u,e),n&&Bu(u,n),s&&(u.l=s),u}(u.protocol,e?e+"."+u.hostname:u.hostname,+u.port,n)}return t.aa&&It(t.aa,function(h,_){wi(s,_,h)}),n=t.sa,(e=t.D)&&n&&wi(s,e,n),wi(s,"VER",t.ma),Ce(t,s),s}function Gu(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ti(n&&t.Ba&&!t.qa?new wc({ib:!0}):t.qa)).L=t.H,e}function pl(){}function os(){if(ri&&!(10<=Number(gs)))throw Error("Environmental error: no available transport.")}function oi(t,e){Kr.call(this),this.g=new Fa(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!X(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!X(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new La(this)}function Tc(t){qs.call(this);var e=t.__sm__;if(e){e:{for(var n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function ff(){iu.call(this),this.status=1}function La(t){this.g=t}(qt=ti.prototype).ea=function(t,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ru.g(),this.C=function Bo(t){return t.h||(t.h=t.i())}(this.u?this.u:Ru),this.g.onreadystatechange=ir(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(h){return void Cc(this,h)}t=n||"";var u=new zs(this.headers);s&&hc(s,function(h,_){u.set(_,h)}),s=function $t(t){e:{for(var e=Mh,n=t.length,s="string"==typeof t?t.split(""):t,u=0;u<n;u++)if(u in s&&e.call(void 0,s[u],u,t)){e=u;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(u.T()),n=vn.FormData&&t instanceof vn.FormData,!(0<=Er(dl,e))||s||n||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),u.forEach(function(h,_){this.g.setRequestHeader(_,h)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{lf(this),0<this.B&&((this.K=function Ah(t){return ri&&function Co(){return function Ln(t){var e=Hs;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){for(var t=0,e=me(String(ps)).split("."),n=me("9").split("."),s=Math.max(e.length,n.length),u=0;0==t&&u<s;u++){var h=e[u]||"",_=n[u]||"";do{if(h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],_=/(\d*)(\D*)(.*)/.exec(_)||["","","",""],0==h[0].length&&0==_[0].length)break;t=we(0==h[1].length?0:parseInt(h[1],10),0==_[1].length?0:parseInt(_[1],10))||we(0==h[2].length,0==_[2].length)||we(h[2],_[2]),h=h[3],_=_[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ir(this.pa,this)):this.A=Zo(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(h){Cc(this,h)}},qt.pa=function(){void 0!==Nr&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ci(this,"timeout"),this.abort(8))},qt.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ci(this,"complete"),ci(this,"abort"),Ic(this))},qt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ic(this,!0)),ti.Z.M.call(this)},qt.Fa=function(){this.s||(this.F||this.v||this.l?cf(this):this.cb())},qt.cb=function(){cf(this)},qt.ba=function(){try{return 2<Ao(this)?this.g.status:-1}catch(t){return-1}},qt.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},qt.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),hd(e)}},qt.Da=function(){return this.m},qt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(qt=Fa.prototype).ma=8,qt.G=1,qt.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},qt.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new es(this,this.h,t,void 0),n=this.s;if(this.P&&(n?tn(n=St(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)e:{for(var s=0,u=0;u<this.l.length;u++){var h=this.l[u];if(void 0===(h="__data__"in h.g&&"string"==typeof(h=h.g.__data__)?h.length:void 0))break;if(4096<(s+=h)){s=u;break e}if(4096===s||u===this.l.length-1){s=u+1;break e}}s=1e3}else s=1e3;s=He(this,e,s),wi(u=xr(this.F),"RID",t),wi(u,"CVER",22),this.D&&wi(u,"X-HTTP-Session-Id",this.D),Ce(this,u),this.o&&n&&$u(u,this.o,n),sf(this.i,e),this.Ra&&wi(u,"TYPE","init"),this.ja?(wi(u,"$req",s),wi(u,"SID","null"),e.$=!0,fc(e,u,null)):fc(e,u,s),this.G=2}}else 3==this.G&&(t?ee(this,t):0==this.l.length||yc(this.i)||ee(this))},qt.Ga=function(){if(this.u=null,On(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=cr(ir(this.bb,this),t)}},qt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Jt(10),x(this),On(this))},qt.ab=function(){null!=this.v&&(this.v=null,x(this),pn(this),Jt(19))},qt.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Jt(2)):(this.h.info("Failed to ping google.com"),Jt(1))},(qt=pl.prototype).xa=function(){},qt.wa=function(){},qt.va=function(){},qt.ua=function(){},qt.Oa=function(){},os.prototype.g=function(t,e){return new oi(t,e)},yn(oi,Kr),oi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),en(ir(t.hb,t,e))),Jt(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=uu(t,null,t.W),F(t)},oi.prototype.close=function(){Xs(this.g)},oi.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,T(this.g,e)}else this.v?((e={}).__data__=J(t),T(this.g,e)):T(this.g,t)},oi.prototype.M=function(){this.g.j=null,delete this.j,Xs(this.g),delete this.g,oi.Z.M.call(this)},yn(Tc,qs),yn(ff,iu),yn(La,pl),La.prototype.xa=function(){ci(this.g,"a")},La.prototype.wa=function(t){ci(this.g,new Tc(t))},La.prototype.va=function(t){ci(this.g,new ff(t))},La.prototype.ua=function(){ci(this.g,"b")},os.prototype.createWebChannel=os.prototype.g,oi.prototype.send=oi.prototype.u,oi.prototype.open=oi.prototype.m,oi.prototype.close=oi.prototype.close,ei.NO_ERROR=0,ei.TIMEOUT=8,ei.HTTP_ERROR=6,li.COMPLETE="complete",uo.EventType=Aa,Aa.OPEN="a",Aa.CLOSE="b",Aa.ERROR="c",Aa.MESSAGE="d",Kr.prototype.listen=Kr.prototype.N,ti.prototype.listenOnce=ti.prototype.O,ti.prototype.getLastError=ti.prototype.La,ti.prototype.getLastErrorCode=ti.prototype.Da,ti.prototype.getStatus=ti.prototype.ba,ti.prototype.getResponseJson=ti.prototype.Qa,ti.prototype.getResponseText=ti.prototype.ga,ti.prototype.send=ti.prototype.ea;var gd=ei,Fv=li,dg=E,Sc_PROXY=10,Sc_NOPROXY=11,_s=wc,Qs=uo,qu=ti,jo=function(){function t(e,n){var s=this;this.previousValue=e,n&&(n.sequenceNumberHandler=function(u){return s.t(u)},this.i=function(u){return n.writeSequenceNumber(u)})}return t.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},t}();jo.o=-1;var Tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ht=function(t){function e(n,s){var u=this;return(u=t.call(this,s)||this).code=n,u.message=s,u.name="FirebaseError",u.toString=function(){return u.name+": [code="+u.code+"]: "+u.message},u}return(0,V.__extends)(e,t),e}(Error),Ls=new hr.Logger("@firebase/firestore");function df(){return Ls.logLevel}function on(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ls.logLevel<=hr.LogLevel.DEBUG){var s=e.map(pg);Ls.debug.apply(Ls,(0,V.__spreadArray)(["Firestore (8.10.1): "+t],s))}}function Di(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ls.logLevel<=hr.LogLevel.ERROR){var s=e.map(pg);Ls.error.apply(Ls,(0,V.__spreadArray)(["Firestore (8.10.1): "+t],s))}}function zu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ls.logLevel<=hr.LogLevel.WARN){var s=e.map(pg);Ls.warn.apply(Ls,(0,V.__spreadArray)(["Firestore (8.10.1): "+t],s))}}function pg(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(n){return t}}function xn(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw Di(e),new Error(e)}function Qn(t,e){t||xn()}function cn(t,e){return t}function Lv(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}var xh=function(){function t(){}return t.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,s="";s.length<20;)for(var u=Lv(40),h=0;h<u.length;++h)s.length<20&&u[h]<n&&(s+=e.charAt(u[h]%e.length));return s},t}();function Lr(t,e){return t<e?-1:t>e?1:0}function Ac(t,e,n){return t.length===e.length&&t.every(function(s,u){return n(s,e[u])})}function kh(t){return t+"\0"}var eo=function(){function t(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ht(Tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ht(Tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ht(Tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ht(Tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(e){return this.seconds===e.seconds?Lr(this.nanoseconds,e.nanoseconds):Lr(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),mr=function(){function t(e){this.timestamp=e}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new eo(0,0))},t.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function md(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ei(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cu(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var vd=function(){function t(e,n,s){void 0===n?n=0:n>e.length&&xn(),void 0===s?s=e.length-n:s>e.length-n&&xn(),this.segments=e,this.offset=n,this.len=s}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(s){n.push(s)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.forEach=function(e){for(var n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(e,n){for(var s=Math.min(e.length,n.length),u=0;u<s;u++){var h=e.get(u),_=n.get(u);if(h<_)return-1;if(h>_)return 1}return e.length<n.length?-1:e.length>n.length?1:0},t}(),Ur=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,V.__extends)(e,t),e.prototype.construct=function(n,s,u){return new e(n,s,u)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];for(var u=[],h=0,_=n;h<_.length;h++){var w=_[h];if(w.indexOf("//")>=0)throw new Ht(Tt.INVALID_ARGUMENT,"Invalid segment ("+w+"). Paths must not contain // in them.");u.push.apply(u,w.split("/").filter(function(A){return A.length>0}))}return new e(u)},e.emptyPath=function(){return new e([])},e}(vd),hf=/^[_a-zA-Z][_a-zA-Z0-9]*$/,bs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,V.__extends)(e,t),e.prototype.construct=function(n,s,u){return new e(n,s,u)},e.isValidIdentifier=function(n){return hf.test(n)},e.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(n){for(var s=[],u="",h=0,_=function(){if(0===u.length)throw new Ht(Tt.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");s.push(u),u=""},w=!1;h<n.length;){var A=n[h];if("\\"===A){if(h+1===n.length)throw new Ht(Tt.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var B=n[h+1];if("\\"!==B&&"."!==B&&"`"!==B)throw new Ht(Tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);u+=B,h+=2}else"`"===A?(w=!w,h++):"."!==A||w?(u+=A,h++):(_(),h++)}if(_(),w)throw new Ht(Tt.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new e(s)},e.emptyPath=function(){return new e([])},e}(vd),Mc=function(){function t(e){this.fields=e,e.sort(bs.comparator)}return t.prototype.covers=function(e){for(var n=0,s=this.fields;n<s.length;n++)if(s[n].isPrefixOf(e))return!0;return!1},t.prototype.isEqual=function(e){return Ac(this.fields,e.fields,function(n,s){return n.isEqual(s)})},t}(),ss=function(){function t(e){this.binaryString=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(n){for(var s="",u=0;u<n.length;++u)s+=String.fromCharCode(n[u]);return s}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(e){for(var n=new Uint8Array(e.length),s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(e){return Lr(this.binaryString,e.binaryString)},t.prototype.isEqual=function(e){return this.binaryString===e.binaryString},t}();ss.EMPTY_BYTE_STRING=new ss("");var Wu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ws(t){if(Qn(!!t),"string"==typeof t){var e=0,n=Wu.exec(t);if(Qn(!!n),n[1]){var s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}var u=new Date(t);return{seconds:Math.floor(u.getTime()/1e3),nanos:e}}return{seconds:zi(t.seconds),nanos:zi(t.nanos)}}function zi(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ba(t){return"string"==typeof t?ss.fromBase64String(t):ss.fromUint8Array(t)}function Oh(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function pf(t){var e=t.mapValue.fields.__previous_value__;return Oh(e)?pf(e):e}function Va(t){var e=ws(t.mapValue.fields.__local_write_time__.timestampValue);return new eo(e.seconds,e.nanos)}function ya(t){return null==t}function gf(t){return 0===t&&1/t==-1/0}function gl(t){return"number"==typeof t&&Number.isInteger(t)&&!gf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Dn=function(){function t(e){this.path=e}return t.fromPath=function(e){return new t(Ur.fromString(e))},t.fromName=function(e){return new t(Ur.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return null!==e&&0===Ur.comparator(this.path,e.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(e,n){return Ur.comparator(e.path,n.path)},t.isDocumentKey=function(e){return e.length%2==0},t.fromSegments=function(e){return new t(new Ur(e.slice()))},t}();function $o(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Oh(t)?4:10:xn()}function Es(t,e){var u,n=$o(t);if(n!==$o(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Va(t).isEqual(Va(e));case 3:return function(s,u){if("string"==typeof s.timestampValue&&"string"==typeof u.timestampValue&&s.timestampValue.length===u.timestampValue.length)return s.timestampValue===u.timestampValue;var h=ws(s.timestampValue),_=ws(u.timestampValue);return h.seconds===_.seconds&&h.nanos===_.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return u=e,Ba(t.bytesValue).isEqual(Ba(u.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,u){return zi(s.geoPointValue.latitude)===zi(u.geoPointValue.latitude)&&zi(s.geoPointValue.longitude)===zi(u.geoPointValue.longitude)}(t,e);case 2:return function(s,u){if("integerValue"in s&&"integerValue"in u)return zi(s.integerValue)===zi(u.integerValue);if("doubleValue"in s&&"doubleValue"in u){var h=zi(s.doubleValue),_=zi(u.doubleValue);return h===_?gf(h)===gf(_):isNaN(h)&&isNaN(_)}return!1}(t,e);case 9:return Ac(t.arrayValue.values||[],e.arrayValue.values||[],Es);case 10:return function(s,u){var h=s.mapValue.fields||{},_=u.mapValue.fields||{};if(md(h)!==md(_))return!1;for(var w in h)if(h.hasOwnProperty(w)&&(void 0===_[w]||!Es(h[w],_[w])))return!1;return!0}(t,e);default:return xn()}}function ml(t,e){return void 0!==(t.values||[]).find(function(n){return Es(n,e)})}function Rc(t,e){var u,h,_,w,n=$o(t),s=$o(e);if(n!==s)return Lr(n,s);switch(n){case 0:return 0;case 1:return Lr(t.booleanValue,e.booleanValue);case 2:return h=e,(_=zi((u=t).integerValue||u.doubleValue))<(w=zi(h.integerValue||h.doubleValue))?-1:_>w?1:_===w?0:isNaN(_)?isNaN(w)?0:-1:1;case 3:return Nh(t.timestampValue,e.timestampValue);case 4:return Nh(Va(t),Va(e));case 5:return Lr(t.stringValue,e.stringValue);case 6:return function(u,h){var _=Ba(u),w=Ba(h);return _.compareTo(w)}(t.bytesValue,e.bytesValue);case 7:return function(u,h){for(var _=u.split("/"),w=h.split("/"),A=0;A<_.length&&A<w.length;A++){var B=Lr(_[A],w[A]);if(0!==B)return B}return Lr(_.length,w.length)}(t.referenceValue,e.referenceValue);case 8:return function(u,h){var _=Lr(zi(u.latitude),zi(h.latitude));return 0!==_?_:Lr(zi(u.longitude),zi(h.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(u,h){for(var _=u.values||[],w=h.values||[],A=0;A<_.length&&A<w.length;++A){var B=Rc(_[A],w[A]);if(B)return B}return Lr(_.length,w.length)}(t.arrayValue,e.arrayValue);case 10:return function(u,h){var _=u.fields||{},w=Object.keys(_),A=h.fields||{},B=Object.keys(A);w.sort(),B.sort();for(var Y=0;Y<w.length&&Y<B.length;++Y){var ue=Lr(w[Y],B[Y]);if(0!==ue)return ue;var pe=Rc(_[w[Y]],A[B[Y]]);if(0!==pe)return pe}return Lr(w.length,B.length)}(t.mapValue,e.mapValue);default:throw xn()}}function Nh(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Lr(t,e);var n=ws(t),s=ws(e),u=Lr(n.seconds,s.seconds);return 0!==u?u:Lr(n.nanos,s.nanos)}function xc(t){return vl(t)}function vl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?"time("+(u=ws(t.timestampValue)).seconds+","+u.nanos+")":"stringValue"in t?t.stringValue:"bytesValue"in t?Ba(t.bytesValue).toBase64():"referenceValue"in t?Dn.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(s){for(var u="[",h=!0,_=0,w=s.values||[];_<w.length;_++)h?h=!1:u+=",",u+=vl(w[_]);return u+"]"}(t.arrayValue):"mapValue"in t?function(s){for(var u="{",h=!0,_=0,w=Object.keys(s.fields||{}).sort();_<w.length;_++){var A=w[_];h?h=!1:u+=",",u+=A+":"+vl(s.fields[A])}return u+"}"}(t.mapValue):xn();var u,e}function yd(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Cs(t){return!!t&&"integerValue"in t}function _d(t){return!!t&&"arrayValue"in t}function mf(t){return!!t&&"nullValue"in t}function bd(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Js(t){return!!t&&"mapValue"in t}function kc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Ei(t.mapValue.fields,function(u,h){return e.mapValue.fields[u]=kc(h)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},s=0;s<(t.arrayValue.values||[]).length;++s)n.arrayValue.values[s]=kc(t.arrayValue.values[s]);return n}return Object.assign({},t)}var Pi=function(){function t(e){this.value=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){if(e.isEmpty())return this.value;for(var n=this.value,s=0;s<e.length-1;++s)if(!Js(n=(n.mapValue.fields||{})[e.get(s)]))return null;return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.set=function(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kc(n)},t.prototype.setAll=function(e){var n=this,s=bs.emptyPath(),u={},h=[];e.forEach(function(w,A){if(!s.isImmediateParentOf(A)){var B=n.getFieldsMap(s);n.applyChanges(B,u,h),u={},h=[],s=A.popLast()}w?u[A.lastSegment()]=kc(w):h.push(A.lastSegment())});var _=this.getFieldsMap(s);this.applyChanges(_,u,h)},t.prototype.delete=function(e){var n=this.field(e.popLast());Js(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]},t.prototype.isEqual=function(e){return Es(this.value,e.value)},t.prototype.getFieldsMap=function(e){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var s=0;s<e.length;++s){var u=n.mapValue.fields[e.get(s)];Js(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=u),n=u}return n.mapValue.fields},t.prototype.applyChanges=function(e,n,s){Ei(n,function(w,A){return e[w]=A});for(var u=0,h=s;u<h.length;u++)delete e[h[u]]},t.prototype.clone=function(){return new t(kc(this.value))},t}();function gg(t){var e=[];return Ei(t.fields,function(n,s){var u=new bs([n]);if(Js(s)){var h=gg(s.mapValue).fields;if(0===h.length)e.push(u);else for(var _=0,w=h;_<w.length;_++)e.push(u.child(w[_]))}else e.push(u)}),new Mc(e)}var to=function(){function t(e,n,s,u,h){this.key=e,this.documentType=n,this.version=s,this.data=u,this.documentState=h}return t.newInvalidDocument=function(e){return new t(e,0,mr.min(),Pi.empty(),0)},t.newFoundDocument=function(e,n,s){return new t(e,1,n,s,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Pi.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Pi.empty(),2)},t.prototype.convertToFoundDocument=function(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this},t.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=Pi.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=Pi.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),wd=function(t,e,n,s,u,h,_){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===s&&(s=[]),void 0===u&&(u=null),void 0===h&&(h=null),void 0===_&&(_=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=s,this.limit=u,this.startAt=h,this.endAt=_,this.h=null};function Ph(t,e,n,s,u,h,_){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===s&&(s=[]),void 0===u&&(u=null),void 0===h&&(h=null),void 0===_&&(_=null),new wd(t,e,n,s,u,h,_)}function yl(t){var e=cn(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(s){return(u=s).field.canonicalString()+u.op.toString()+xc(u.value);var u}).join(","),n+="|ob:",n+=e.orderBy.map(function(s){return(u=s).field.canonicalString()+u.dir;var u}).join(","),ya(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Fh(e.startAt)),e.endAt&&(n+="|ub:",n+=Fh(e.endAt)),e.h=n}return e.h}function vf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Uv(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var s=0;s<t.filters.length;s++)if((u=t.filters[s]).op!==(h=e.filters[s]).op||!u.field.isEqual(h.field)||!Es(u.value,h.value))return!1;var u,h;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bg(t.startAt,e.startAt)&&bg(t.endAt,e.endAt)}function _l(t){return Dn.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Mo=function(t){function e(n,s,u){var h=this;return(h=t.call(this)||this).field=n,h.op=s,h.value=u,h}return(0,V.__extends)(e,t),e.create=function(n,s,u){return n.isKeyField()?"in"===s||"not-in"===s?this.l(n,s,u):new mg(n,s,u):"array-contains"===s?new Ua(n,u):"in"===s?new Yu(n,u):"not-in"===s?new Vv(n,u):"array-contains-any"===s?new _g(n,u):new e(n,s,u)},e.l=function(n,s,u){return"in"===s?new Bv(n,u):new vg(n,u)},e.prototype.matches=function(n){var s=n.data.field(this.field);return"!="===this.op?null!==s&&this.m(Rc(s,this.value)):null!==s&&$o(this.value)===$o(s)&&this.m(Rc(s,this.value))},e.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return xn()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),mg=function(t){function e(n,s,u){var h=this;return(h=t.call(this,n,s,u)||this).key=Dn.fromName(u.referenceValue),h}return(0,V.__extends)(e,t),e.prototype.matches=function(n){var s=Dn.comparator(n.key,this.key);return this.m(s)},e}(Mo),Bv=function(t){function e(n,s){var u=this;return(u=t.call(this,n,"in",s)||this).keys=yg(0,s),u}return(0,V.__extends)(e,t),e.prototype.matches=function(n){return this.keys.some(function(s){return s.isEqual(n.key)})},e}(Mo),vg=function(t){function e(n,s){var u=this;return(u=t.call(this,n,"not-in",s)||this).keys=yg(0,s),u}return(0,V.__extends)(e,t),e.prototype.matches=function(n){return!this.keys.some(function(s){return s.isEqual(n.key)})},e}(Mo);function yg(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(s){return Dn.fromName(s.referenceValue)})}var Ua=function(t){function e(n,s){return t.call(this,n,"array-contains",s)||this}return(0,V.__extends)(e,t),e.prototype.matches=function(n){var s=n.data.field(this.field);return _d(s)&&ml(s.arrayValue,this.value)},e}(Mo),Yu=function(t){function e(n,s){return t.call(this,n,"in",s)||this}return(0,V.__extends)(e,t),e.prototype.matches=function(n){var s=n.data.field(this.field);return null!==s&&ml(this.value.arrayValue,s)},e}(Mo),Vv=function(t){function e(n,s){return t.call(this,n,"not-in",s)||this}return(0,V.__extends)(e,t),e.prototype.matches=function(n){if(ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var s=n.data.field(this.field);return null!==s&&!ml(this.value.arrayValue,s)},e}(Mo),_g=function(t){function e(n,s){return t.call(this,n,"array-contains-any",s)||this}return(0,V.__extends)(e,t),e.prototype.matches=function(n){var s=this,u=n.data.field(this.field);return!(!_d(u)||!u.arrayValue.values)&&u.arrayValue.values.some(function(h){return ml(s.value.arrayValue,h)})},e}(Mo),Ed=function(t,e){this.position=t,this.before=e};function Fh(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return xc(e)}).join(",")}var yf=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Uv(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Lh(t,e,n){for(var s=0,u=0;u<t.position.length;u++){var h=e[u],_=t.position[u];if(s=h.field.isKeyField()?Dn.comparator(Dn.fromName(_.referenceValue),n.key):Rc(_,n.data.field(h.field)),"desc"===h.dir&&(s*=-1),0!==s)break}return t.before?s<=0:s<0}function bg(t,e){if(null===t)return null===e;if(null===e||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Es(t.position[n],e.position[n]))return!1;return!0}var lu=function(t,e,n,s,u,h,_,w){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===s&&(s=[]),void 0===u&&(u=null),void 0===h&&(h="F"),void 0===_&&(_=null),void 0===w&&(w=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=s,this.limit=u,this.limitType=h,this.startAt=_,this.endAt=w,this.p=null,this.T=null};function Cd(t,e,n,s,u,h,_,w){return new lu(t,e,n,s,u,h,_,w)}function Oc(t){return new lu(t)}function Bh(t){return!ya(t.limit)&&"F"===t.limitType}function Id(t){return!ya(t.limit)&&"L"===t.limitType}function bl(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function fu(t){for(var e=0,n=t.filters;e<n.length;e++){var s=n[e];if(s.g())return s.field}return null}function co(t){return null!==t.collectionGroup}function ja(t){var e=cn(t);if(null===e.p){e.p=[];var n=fu(e),s=bl(e);if(null!==n&&null===s)n.isKeyField()||e.p.push(new yf(n)),e.p.push(new yf(bs.keyField(),"asc"));else{for(var u=!1,h=0,_=e.explicitOrderBy;h<_.length;h++){var w=_[h];e.p.push(w),w.field.isKeyField()&&(u=!0)}if(!u){var A=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new yf(bs.keyField(),A))}}}return e.p}function as(t){var e=cn(t);if(!e.T)if("F"===e.limitType)e.T=Ph(e.path,e.collectionGroup,ja(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],s=0,u=ja(e);s<u.length;s++){var h=u[s];n.push(new yf(h.field,"desc"===h.dir?"asc":"desc"))}var w=e.endAt?new Ed(e.endAt.position,!e.endAt.before):null,A=e.startAt?new Ed(e.startAt.position,!e.startAt.before):null;e.T=Ph(e.path,e.collectionGroup,n,e.filters,e.limit,w,A)}return e.T}function wl(t,e,n){return new lu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function El(t,e){return vf(as(t),as(e))&&t.limitType===e.limitType}function Cl(t){return yl(as(t))+"|lt:"+t.limitType}function wg(t){return"Query(target="+(n=(e=as(t)).path.canonicalString(),null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map(function(s){return(u=s).field.canonicalString()+" "+u.op+" "+xc(u.value);var u}).join(", ")+"]"),ya(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map(function(s){return(u=s).field.canonicalString()+" ("+u.dir+")";var u}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+Fh(e.startAt)),e.endAt&&(n+=", endAt: "+Fh(e.endAt)),"Target("+n+"); limitType=")+t.limitType+")";var e,n}function _f(t,e){return e.isFoundDocument()&&(u=(s=e).key.path,null!==(n=t).collectionGroup?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(u):Dn.isDocumentKey(n.path)?n.path.isEqual(u):n.path.isImmediateParentOf(u))&&function(n,s){for(var u=0,h=n.explicitOrderBy;u<h.length;u++){var _=h[u];if(!_.field.isKeyField()&&null===s.data.field(_.field))return!1}return!0}(t,e)&&function(n,s){for(var u=0,h=n.filters;u<h.length;u++)if(!h[u].matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!Lh(n.startAt,ja(n),s)||n.endAt&&Lh(n.endAt,ja(n),s))}(t,e);var n,s,u}function bf(t){return function(e,n){for(var s=!1,u=0,h=ja(t);u<h.length;u++){var _=h[u],w=Dd(_,e,n);if(0!==w)return w;s=s||_.field.isKeyField()}return 0}}function Dd(t,e,n){var u,_,w,A,s=t.field.isKeyField()?Dn.comparator(e.key,n.key):(_=n,w=e.data.field(u=t.field),A=_.data.field(u),null!==w&&null!==A?Rc(w,A):xn());switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return xn()}}function Nc(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gf(e)?"-0":e}}function Vh(t){return{integerValue:""+t}}function Uh(t,e){return gl(e)?Vh(e):Nc(t,e)}var wf=function(){this._=void 0};function jv(t,e,n){return t instanceof Pc?(h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(s=n).seconds,nanos:s.nanoseconds}}}},(u=e)&&(h.fields.__previous_value__=u),{mapValue:h}):t instanceof du?Il(t,e):t instanceof Fc?us(t,e):function(s,u){var h=Eg(s,u),_=fi(h)+fi(s.A);return Cs(h)&&Cs(s.A)?Vh(_):Nc(s.R,_)}(t,e);var s,u,h}function jh(t,e,n){return t instanceof du?Il(t,e):t instanceof Fc?us(t,e):n}function Eg(t,e){return t instanceof hu?Cs(n=e)||(s=n)&&"doubleValue"in s?e:{integerValue:0}:null;var s,n}var Pc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,V.__extends)(e,t),e}(wf),du=function(t){function e(n){var s=this;return(s=t.call(this)||this).elements=n,s}return(0,V.__extends)(e,t),e}(wf);function Il(t,e){for(var n=Ef(e),s=function(_){n.some(function(w){return Es(w,_)})||n.push(_)},u=0,h=t.elements;u<h.length;u++)s(h[u]);return{arrayValue:{values:n}}}var Fc=function(t){function e(n){var s=this;return(s=t.call(this)||this).elements=n,s}return(0,V.__extends)(e,t),e}(wf);function us(t,e){for(var n=Ef(e),s=function(_){n=n.filter(function(w){return!Es(w,_)})},u=0,h=t.elements;u<h.length;u++)s(h[u]);return{arrayValue:{values:n}}}var hu=function(t){function e(n,s){var u=this;return(u=t.call(this)||this).R=n,u.A=s,u}return(0,V.__extends)(e,t),e}(wf);function fi(t){return zi(t.integerValue||t.doubleValue)}function Ef(t){return _d(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Is=function(t,e){this.field=t,this.transform=e},Dl=function(t,e){this.version=t,this.transformResults=e},yo=function(){function t(e,n){this.updateTime=e,this.exists=n}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();function Cf(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var $a=function(){};function $v(t,e,n){var s,u,h,_,w;t instanceof pu?(u=e,h=n,_=(s=t).value.clone(),w=Td(s.fieldTransforms,u,h.transformResults),_.setAll(w),u.convertToFoundDocument(h.version,_).setHasCommittedMutations()):t instanceof $i?function(s,u,h){if(Cf(s.precondition,u)){var _=Td(s.fieldTransforms,u,h.transformResults),w=u.data;w.setAll(If(s)),w.setAll(_),u.convertToFoundDocument(h.version,w).setHasCommittedMutations()}else u.convertToUnknownDocument(h.version)}(t,e,n):function(s,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function $h(t,e,n){var u;t instanceof pu?function(s,u,h){if(Cf(s.precondition,u)){var _=s.value.clone(),w=Lc(s.fieldTransforms,h,u);_.setAll(w),u.convertToFoundDocument(Gv(u),_).setHasLocalMutations()}}(t,e,n):t instanceof $i?function(s,u,h){if(Cf(s.precondition,u)){var _=Lc(s.fieldTransforms,h,u),w=u.data;w.setAll(If(s)),w.setAll(_),u.convertToFoundDocument(Gv(u),w).setHasLocalMutations()}}(t,e,n):Cf(t.precondition,u=e)&&u.convertToNoDocument(mr.min())}function Hh(t,e){for(var n=null,s=0,u=t.fieldTransforms;s<u.length;s++){var h=u[s],_=e.data.field(h.field),w=Eg(h.transform,_||null);null!=w&&(null==n&&(n=Pi.empty()),n.set(h.field,w))}return n||null}function Hv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===s||n&&s&&Ac(n,s,function(u,h){return(_=u).field.isEqual((w=h).field)&&(B=w.transform,(A=_.transform)instanceof du&&B instanceof du||A instanceof Fc&&B instanceof Fc?Ac(A.elements,B.elements,Es):A instanceof hu&&B instanceof hu?Es(A.A,B.A):A instanceof Pc&&B instanceof Pc);var _,w,A,B})))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,s}function Gv(t){return t.isFoundDocument()?t.version:mr.min()}var pu=function(t){function e(n,s,u,h){void 0===h&&(h=[]);var _=this;return(_=t.call(this)||this).key=n,_.value=s,_.precondition=u,_.fieldTransforms=h,_.type=0,_}return(0,V.__extends)(e,t),e}($a),$i=function(t){function e(n,s,u,h,_){void 0===_&&(_=[]);var w=this;return(w=t.call(this)||this).key=n,w.data=s,w.fieldMask=u,w.precondition=h,w.fieldTransforms=_,w.type=1,w}return(0,V.__extends)(e,t),e}($a);function If(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var s=t.data.field(n);e.set(n,s)}}),e}function Td(t,e,n){var s=new Map;Qn(t.length===n.length);for(var u=0;u<n.length;u++){var h=t[u],_=h.transform,w=e.data.field(h.field);s.set(h.field,jh(_,w,n[u]))}return s}function Lc(t,e,n){for(var s=new Map,u=0,h=t;u<h.length;u++){var _=h[u],w=_.transform,A=n.data.field(_.field);s.set(_.field,jv(w,A,e))}return s}var kr,Ir,Ku=function(t){function e(n,s){var u=this;return(u=t.call(this)||this).key=n,u.precondition=s,u.type=2,u.fieldTransforms=[],u}return(0,V.__extends)(e,t),e}($a),Sd=function(t){function e(n,s){var u=this;return(u=t.call(this)||this).key=n,u.precondition=s,u.type=3,u.fieldTransforms=[],u}return(0,V.__extends)(e,t),e}($a),Cg=function(t){this.count=t};function Ad(t){switch(t){case Tt.OK:return xn();case Tt.CANCELLED:case Tt.UNKNOWN:case Tt.DEADLINE_EXCEEDED:case Tt.RESOURCE_EXHAUSTED:case Tt.INTERNAL:case Tt.UNAVAILABLE:case Tt.UNAUTHENTICATED:return!1;case Tt.INVALID_ARGUMENT:case Tt.NOT_FOUND:case Tt.ALREADY_EXISTS:case Tt.PERMISSION_DENIED:case Tt.FAILED_PRECONDITION:case Tt.ABORTED:case Tt.OUT_OF_RANGE:case Tt.UNIMPLEMENTED:case Tt.DATA_LOSS:return!0;default:return xn()}}function Zs(t){if(void 0===t)return Di("GRPC error has no .code"),Tt.UNKNOWN;switch(t){case kr.OK:return Tt.OK;case kr.CANCELLED:return Tt.CANCELLED;case kr.UNKNOWN:return Tt.UNKNOWN;case kr.DEADLINE_EXCEEDED:return Tt.DEADLINE_EXCEEDED;case kr.RESOURCE_EXHAUSTED:return Tt.RESOURCE_EXHAUSTED;case kr.INTERNAL:return Tt.INTERNAL;case kr.UNAVAILABLE:return Tt.UNAVAILABLE;case kr.UNAUTHENTICATED:return Tt.UNAUTHENTICATED;case kr.INVALID_ARGUMENT:return Tt.INVALID_ARGUMENT;case kr.NOT_FOUND:return Tt.NOT_FOUND;case kr.ALREADY_EXISTS:return Tt.ALREADY_EXISTS;case kr.PERMISSION_DENIED:return Tt.PERMISSION_DENIED;case kr.FAILED_PRECONDITION:return Tt.FAILED_PRECONDITION;case kr.ABORTED:return Tt.ABORTED;case kr.OUT_OF_RANGE:return Tt.OUT_OF_RANGE;case kr.UNIMPLEMENTED:return Tt.UNIMPLEMENTED;case kr.DATA_LOSS:return Tt.DATA_LOSS;default:return xn()}}(Ir=kr||(kr={}))[Ir.OK=0]="OK",Ir[Ir.CANCELLED=1]="CANCELLED",Ir[Ir.UNKNOWN=2]="UNKNOWN",Ir[Ir.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ir[Ir.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ir[Ir.NOT_FOUND=5]="NOT_FOUND",Ir[Ir.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ir[Ir.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ir[Ir.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ir[Ir.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ir[Ir.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ir[Ir.ABORTED=10]="ABORTED",Ir[Ir.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ir[Ir.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ir[Ir.INTERNAL=13]="INTERNAL",Ir[Ir.UNAVAILABLE=14]="UNAVAILABLE",Ir[Ir.DATA_LOSS=15]="DATA_LOSS";var _o=function(){function t(e,n){this.comparator=e,this.root=n||gu.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gu.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gu.BLACK,null,null))},t.prototype.get=function(e){for(var n=this.root;!n.isEmpty();){var s=this.comparator(e,n.key);if(0===s)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null},t.prototype.indexOf=function(e){for(var n=0,s=this.root;!s.isEmpty();){var u=this.comparator(e,s.key);if(0===u)return n+s.left.size;u<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},t.prototype.forEach=function(e){this.inorderTraversal(function(n,s){return e(n,s),!1})},t.prototype.toString=function(){var e=[];return this.inorderTraversal(function(n,s){return e.push(n+":"+s),!1}),"{"+e.join(", ")+"}"},t.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},t.prototype.getIterator=function(){return new Md(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(e){return new Md(this.root,e,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Md(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(e){return new Md(this.root,e,this.comparator,!0)},t}(),Md=function(){function t(e,n,s,u){this.isReverse=u,this.nodeStack=[];for(var h=1;!e.isEmpty();)if(h=n?s(e.key,n):1,u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(0===h){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return t.prototype.getNext=function(){var e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},t}(),gu=function(){function t(e,n,s,u,h){this.key=e,this.value=n,this.color=null!=s?s:t.RED,this.left=null!=u?u:t.EMPTY,this.right=null!=h?h:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,s,u,h){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=s?s:this.color,null!=u?u:this.left,null!=h?h:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,s){var u=this,h=s(e,u.key);return(u=h<0?u.copy(null,null,null,u.left.insert(e,n,s),null):0===h?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,s))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var s,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return t.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},t.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},t.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xn();var e=this.left.check();if(e!==this.right.check())throw xn();return e+(this.isRed()?0:1)},t}();gu.EMPTY=null,gu.RED=!0,gu.BLACK=!1,gu.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw xn()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw xn()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw xn()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw xn()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw xn()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,n,s,u,h){return this},t.prototype.insert=function(e,n,s){return new gu(e,n)},t.prototype.remove=function(e,n){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var lo=function(){function t(e){this.comparator=e,this.data=new _o(this.comparator)}return t.prototype.has=function(e){return null!==this.data.get(e)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.inorderTraversal(function(n,s){return e(n),!1})},t.prototype.forEachInRange=function(e,n){for(var s=this.data.getIteratorFrom(e[0]);s.hasNext();){var u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}},t.prototype.forEachWhile=function(e,n){var s;for(s=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return},t.prototype.firstAfterOrEqual=function(e){var n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null},t.prototype.getIterator=function(){return new Gh(this.data.getIterator())},t.prototype.getIteratorFrom=function(e){return new Gh(this.data.getIteratorFrom(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(e){var n=this;return n.size<e.size&&(n=e,e=this),e.forEach(function(s){n=n.add(s)}),n},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.data.getIterator(),s=e.data.getIterator();n.hasNext();){var u=n.getNext().key,h=s.getNext().key;if(0!==this.comparator(u,h))return!1}return!0},t.prototype.toArray=function(){var e=[];return this.forEach(function(n){e.push(n)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(n){return e.push(n)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Gh=function(){function t(e){this.iter=e}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),qh=new _o(Dn.comparator);function ea(){return qh}var qv=new _o(Dn.comparator);function Df(){return qv}var zv=new _o(Dn.comparator);function Ig(){return zv}var Rd=new lo(Dn.comparator);function si(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Rd,s=0,u=t;s<u.length;s++){var h=u[s];n=n.add(h)}return n}var Wv=new lo(Lr);function xd(){return Wv}var zh=function(){function t(e,n,s,u,h){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=h}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var s=new Map;return s.set(e,Wh.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(mr.min(),s,xd(),ea(),si())},t}(),Wh=function(){function t(e,n,s,u,h){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=h}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(ss.EMPTY_BYTE_STRING,n,si(),si(),si())},t}(),Tf=function(t,e,n,s){this.v=t,this.removedTargetIds=e,this.key=n,this.P=s},Dg=function(t,e){this.targetId=t,this.V=e},Tg=function(t,e,n,s){void 0===n&&(n=ss.EMPTY_BYTE_STRING),void 0===s&&(s=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=s},Sg=function(){function t(){this.S=0,this.D=Ag(),this.C=ss.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},t.prototype.M=function(){var e=si(),n=si(),s=si();return this.D.forEach(function(u,h){switch(h){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:s=s.add(u);break;default:xn()}}),new Wh(this.C,this.N,e,n,s)},t.prototype.L=function(){this.k=!1,this.D=Ag()},t.prototype.B=function(e,n){this.k=!0,this.D=this.D.insert(e,n)},t.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),Yv=function(){function t(e){this.W=e,this.G=new Map,this.H=ea(),this.J=ta(),this.Y=new lo(Lr)}return t.prototype.X=function(e){for(var n=0,s=e.v;n<s.length;n++){var u=s[n];e.P&&e.P.isFoundDocument()?this.Z(u,e.P):this.tt(u,e.key,e.P)}for(var h=0,_=e.removedTargetIds;h<_.length;h++)this.tt(u=_[h],e.key,e.P)},t.prototype.et=function(e){var n=this;this.forEachTarget(e,function(s){var u=n.nt(s);switch(e.state){case 0:n.st(s)&&u.O(e.resumeToken);break;case 1:u.K(),u.F||u.L(),u.O(e.resumeToken);break;case 2:u.K(),u.F||n.removeTarget(s);break;case 3:n.st(s)&&(u.j(),u.O(e.resumeToken));break;case 4:n.st(s)&&(n.it(s),u.O(e.resumeToken));break;default:xn()}})},t.prototype.forEachTarget=function(e,n){var s=this;e.targetIds.length>0?e.targetIds.forEach(n):this.G.forEach(function(u,h){s.st(h)&&n(h)})},t.prototype.rt=function(e){var n=e.targetId,s=e.V.count,u=this.ot(n);if(u){var h=u.target;if(_l(h))if(0===s){var _=new Dn(h.path);this.tt(n,_,to.newNoDocument(_,mr.min()))}else Qn(1===s);else this.ct(n)!==s&&(this.it(n),this.Y=this.Y.add(n))}},t.prototype.ut=function(e){var n=this,s=new Map;this.G.forEach(function(_,w){var A=n.ot(w);if(A){if(_.current&&_l(A.target)){var B=new Dn(A.target.path);null!==n.H.get(B)||n.at(w,B)||n.tt(w,B,to.newNoDocument(B,e))}_.$&&(s.set(w,_.M()),_.L())}});var u=si();this.J.forEach(function(_,w){var A=!0;w.forEachWhile(function(B){var Y=n.ot(B);return!Y||2===Y.purpose||(A=!1,!1)}),A&&(u=u.add(_))});var h=new zh(e,s,this.Y,this.H,u);return this.H=ea(),this.J=ta(),this.Y=new lo(Lr),h},t.prototype.Z=function(e,n){if(this.st(e)){var s=this.at(e,n.key)?2:0;this.nt(e).B(n.key,s),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(e))}},t.prototype.tt=function(e,n,s){if(this.st(e)){var u=this.nt(e);this.at(e,n)?u.B(n,1):u.q(n),this.J=this.J.insert(n,this.ht(n).delete(e)),s&&(this.H=this.H.insert(n,s))}},t.prototype.removeTarget=function(e){this.G.delete(e)},t.prototype.ct=function(e){var n=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size},t.prototype.U=function(e){this.nt(e).U()},t.prototype.nt=function(e){var n=this.G.get(e);return n||(n=new Sg,this.G.set(e,n)),n},t.prototype.ht=function(e){var n=this.J.get(e);return n||(n=new lo(Lr),this.J=this.J.insert(e,n)),n},t.prototype.st=function(e){var n=null!==this.ot(e);return n||on("WatchChangeAggregator","Detected inactive target",e),n},t.prototype.ot=function(e){var n=this.G.get(e);return n&&n.F?null:this.W.lt(e)},t.prototype.it=function(e){var n=this;this.G.set(e,new Sg),this.W.getRemoteKeysForTarget(e).forEach(function(s){n.tt(e,s,null)})},t.prototype.at=function(e,n){return this.W.getRemoteKeysForTarget(e).has(n)},t}();function ta(){return new _o(Dn.comparator)}function Ag(){return new _o(Dn.comparator)}var Yh={asc:"ASCENDING",desc:"DESCENDING"},Mg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tl=function(t,e){this.databaseId=t,this.I=e};function cs(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Kv(t,e){return t.I?e.toBase64():e.toUint8Array()}function pb(t,e){return cs(t,e.toTimestamp())}function fo(t){return Qn(!!t),mr.fromTimestamp((n=ws(t),new eo(n.seconds,n.nanos)));var n}function Rg(t,e){return(n=t,new Ur(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function _a(t){var e=Ur.fromString(t);return Qn(Nd(e)),e}function Bc(t,e){return Rg(t.databaseId,e.path)}function na(t,e){var n=_a(e);if(n.get(1)!==t.databaseId.projectId)throw new Ht(Tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ht(Tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Dn(Qh(n))}function Kh(t,e){return Rg(t.databaseId,e)}function Xh(t){var e=_a(t);return 4===e.length?Ur.emptyPath():Qh(e)}function mu(t){return new Ur(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Qh(t){return Qn(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Jh(t,e,n){return{name:Bc(t,e),fields:n.value.mapValue.fields}}function kd(t,e,n){var s=na(t,e.name),u=fo(e.updateTime),h=new Pi({mapValue:{fields:e.fields}}),_=to.newFoundDocument(s,u,h);return n&&_.setHasCommittedMutations(),n?_.setHasCommittedMutations():_}function Sl(t,e){var n,u;if(e instanceof pu)n={update:Jh(t,e.key,e.value)};else if(e instanceof Ku)n={delete:Bc(t,e.key)};else if(e instanceof $i)n={update:Jh(t,e.key,e.data),updateMask:Og(e.fieldMask)};else{if(!(e instanceof Sd))return xn();n={verify:Bc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(s){return function(u,h){var _=h.transform;if(_ instanceof Pc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof du)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof Fc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof hu)return{fieldPath:h.field.canonicalString(),increment:_.A};throw xn()}(0,s)})),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:pb(t,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:xn()),n}function Vc(t,e){var B,n=e.currentDocument?void 0!==(B=e.currentDocument).updateTime?yo.updateTime(fo(B.updateTime)):void 0!==B.exists?yo.exists(B.exists):yo.none():yo.none(),s=e.updateTransforms?e.updateTransforms.map(function(B){return function(Y,ue){var pe=null;"setToServerValue"in ue?(Qn("REQUEST_TIME"===ue.setToServerValue),pe=new Pc):"appendMissingElements"in ue?pe=new du(ue.appendMissingElements.values||[]):"removeAllFromArray"in ue?pe=new Fc(ue.removeAllFromArray.values||[]):"increment"in ue?pe=new hu(Y,ue.increment):xn();var ut=bs.fromServerFormat(ue.fieldPath);return new Is(ut,pe)}(t,B)}):[];if(e.update){var u=na(t,e.update.name),h=new Pi({mapValue:{fields:e.update.fields}});if(e.updateMask){var _=function(B){return new Mc((B.fieldPaths||[]).map(function(ue){return bs.fromServerFormat(ue)}))}(e.updateMask);return new $i(u,h,_,n,s)}return new pu(u,h,n,s)}if(e.delete){var w=na(t,e.delete);return new Ku(w,n)}if(e.verify){var A=na(t,e.verify);return new Sd(A,n)}return xn()}function xg(t,e){return{documents:[Kh(t,e.path)]}}function Bs(t,e){var n={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(n.parent=Kh(t,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Kh(t,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);var u=function(w){if(0!==w.length){var A=w.map(function(B){return function(Y){if("=="===Y.op){if(bd(Y.value))return{unaryFilter:{field:Al(Y.field),op:"IS_NAN"}};if(mf(Y.value))return{unaryFilter:{field:Al(Y.field),op:"IS_NULL"}}}else if("!="===Y.op){if(bd(Y.value))return{unaryFilter:{field:Al(Y.field),op:"IS_NOT_NAN"}};if(mf(Y.value))return{unaryFilter:{field:Al(Y.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Al(Y.field),op:Qv(Y.op),value:Y.value}}}(B)});return 1===A.length?A[0]:{compositeFilter:{op:"AND",filters:A}}}}(e.filters);u&&(n.structuredQuery.where=u);var h=function(w){if(0!==w.length)return w.map(function(A){return{field:Al((B=A).field),direction:Xv(B.dir)};var B})}(e.orderBy);h&&(n.structuredQuery.orderBy=h);var A,_=(A=e.limit,t.I||ya(A)?A:{value:A});return null!==_&&(n.structuredQuery.limit=_),e.startAt&&(n.structuredQuery.startAt=kg(e.startAt)),e.endAt&&(n.structuredQuery.endAt=kg(e.endAt)),n}function Uc(t){var e=Xh(t.parent),n=t.structuredQuery,s=n.from?n.from.length:0,u=null;if(s>0){Qn(1===s);var h=n.from[0];h.allDescendants?u=h.collectionId:e=e.child(h.collectionId)}var _=[];n.where&&(_=Zh(n.where));var w=[];n.orderBy&&(w=n.orderBy.map(function(ue){return new yf(Ml((pe=ue).field),function(ze){switch(ze){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(pe.direction));var pe}));var ue,pe,A=null;n.limit&&(A=ya(pe="object"==typeof(ue=n.limit)?ue.value:ue)?null:pe);var B=null;n.startAt&&(B=Od(n.startAt));var Y=null;return n.endAt&&(Y=Od(n.endAt)),Cd(e,u,w,_,A,"F",B,Y)}function Zh(t){return t?void 0!==t.unaryFilter?[Zv(t)]:void 0!==t.fieldFilter?[Jv(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(e){return Zh(e)}).reduce(function(e,n){return e.concat(n)}):xn():[]}function kg(t){return{before:t.before,values:t.position}}function Od(t){return new Ed(t.values||[],!!t.before)}function Xv(t){return Yh[t]}function Qv(t){return Mg[t]}function Al(t){return{fieldPath:t.canonicalString()}}function Ml(t){return bs.fromServerFormat(t.fieldPath)}function Jv(t){return Mo.create(Ml(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xn()}}(t.fieldFilter.op),t.fieldFilter.value)}function Zv(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Ml(t.unaryFilter.field);return Mo.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Ml(t.unaryFilter.field);return Mo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var s=Ml(t.unaryFilter.field);return Mo.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var u=Ml(t.unaryFilter.field);return Mo.create(u,"!=",{nullValue:"NULL_VALUE"});default:return xn()}}function Og(t){var e=[];return t.fields.forEach(function(n){return e.push(n.canonicalString())}),{fieldPaths:e}}function Nd(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function ra(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Ng(e)),e=ep(t.get(n),e);return Ng(e)}function ep(t,e){for(var n=e,s=t.length,u=0;u<s;u++){var h=t.charAt(u);switch(h){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=h}}return n}function Ng(t){return t+"\x01\x01"}function vu(t){var e=t.length;if(Qn(e>=2),2===e)return Qn("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Ur.emptyPath();for(var n=e-2,s=[],u="",h=0;h<e;){var _=t.indexOf("\x01",h);switch((_<0||_>n)&&xn(),t.charAt(_+1)){case"\x01":var w=t.substring(h,_),A=void 0;0===u.length?A=w:(A=u+=w,u=""),s.push(A);break;case"\x10":u+=t.substring(h,_),u+="\0";break;case"\x11":u+=t.substring(h,_+1);break;default:xn()}h=_+2}return new Ur(s)}var Pg=function(t,e){this.seconds=t,this.nanoseconds=e},Ds=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Ds.store="owner",Ds.key="owner";var Ts=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ts.store="mutationQueues",Ts.keyPath="userId";var Ti=function(t,e,n,s,u){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=s,this.mutations=u};Ti.store="mutations",Ti.keyPath="batchId",Ti.userMutationsIndex="userMutationsIndex",Ti.userMutationsKeyPath=["userId","batchId"];var f=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,n){return[e,ra(n)]},t.key=function(e,n,s){return[e,ra(n),s]},t}();f.store="documentMutations",f.PLACEHOLDER=new f;var l=function(t,e){this.path=t,this.readTime=e},p=function(t,e){this.path=t,this.version=e},y=function(t,e,n,s,u,h){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=s,this.readTime=u,this.parentPath=h};y.store="remoteDocuments",y.readTimeIndex="readTimeIndex",y.readTimeIndexPath="readTime",y.collectionReadTimeIndex="collectionReadTimeIndex",y.collectionReadTimeIndexPath=["parentPath","readTime"];var D=function(t){this.byteSize=t};D.store="remoteDocumentGlobal",D.key="remoteDocumentGlobalKey";var k=function(t,e,n,s,u,h,_){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=s,this.lastListenSequenceNumber=u,this.lastLimboFreeSnapshotVersion=h,this.query=_};k.store="targets",k.keyPath="targetId",k.queryTargetsIndexName="queryTargetsIndex",k.queryTargetsKeyPath=["canonicalId","targetId"];var H=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};H.store="targetDocuments",H.keyPath=["targetId","path"],H.documentTargetsIndex="documentTargetsIndex",H.documentTargetsKeyPath=["path","targetId"];var re=function(t,e,n,s){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=s};re.key="targetGlobalKey",re.store="targetGlobal";var le=function(t,e){this.collectionId=t,this.parent=e};le.store="collectionParents",le.keyPath=["collectionId","parent"];var be=function(t,e,n,s){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=s};be.store="clientMetadata",be.keyPath="clientId";var Te=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Te.store="bundles",Te.keyPath="bundleId";var gt=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};gt.store="namedQueries",gt.keyPath="name";var kt=(0,V.__spreadArray)((0,V.__spreadArray)([],(0,V.__spreadArray)((0,V.__spreadArray)([],(0,V.__spreadArray)((0,V.__spreadArray)([],(0,V.__spreadArray)((0,V.__spreadArray)([],[Ts.store,Ti.store,f.store,y.store,k.store,Ds.store,re.store,H.store]),[be.store])),[D.store])),[le.store])),[Te.store,gt.store]),Kt="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ln=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},t}(),Cn=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Dt=function(){function t(e){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(s){n.isDone=!0,n.result=s,n.nextCallback&&n.nextCallback(s)},function(s){n.isDone=!0,n.error=s,n.catchCallback&&n.catchCallback(s)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,n){var s=this;return this.callbackAttached&&xn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(u,h){s.nextCallback=function(_){s.wrapSuccess(e,_).next(u,h)},s.catchCallback=function(_){s.wrapFailure(n,_).next(u,h)}})},t.prototype.toPromise=function(){var e=this;return new Promise(function(n,s){e.next(n,s)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(s){return t.reject(s)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(n,s){n(e)})},t.reject=function(e){return new t(function(n,s){s(e)})},t.waitFor=function(e){return new t(function(n,s){var u=0,h=0,_=!1;e.forEach(function(w){++u,w.next(function(){++h,_&&h===u&&n()},function(A){return s(A)})}),_=!0,h===u&&n()})},t.or=function(e){for(var n=t.resolve(!1),s=function(_){n=n.next(function(w){return w?t.resolve(w):_()})},u=0,h=e;u<h.length;u++)s(h[u]);return n},t.forEach=function(e,n){var s=this,u=[];return e.forEach(function(h,_){u.push(n.call(s,h,_))}),this.waitFor(u)},t}(),fr=function(){function t(e,n){var s=this;this.action=e,this.transaction=n,this.aborted=!1,this.ft=new Cn,this.transaction.oncomplete=function(){s.ft.resolve()},this.transaction.onabort=function(){n.error?s.ft.reject(new yu(e,n.error)):s.ft.resolve()},this.transaction.onerror=function(u){var h=ty(u.target.error);s.ft.reject(new yu(e,h))}}return t.open=function(e,n,s,u){try{return new t(n,e.transaction(u,s))}catch(h){throw new yu(n,h)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(on("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var n=this.transaction.objectStore(e);return new Pd(n)},t}(),Fi=function(){function t(e,n,s){this.name=e,this.version=n,this.wt=s,12.2===t._t((0,un.getUA)())&&Di("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return on("SimpleDb","Removing database:",e),Rl(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,un.getUA)(),n=t._t(e),s=0<n&&n<10,u=t.Et(e),h=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||h)},t.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},t.It=function(e,n){return e.store(n)},t._t=function(e){var n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(s)},t.Et=function(e){var n=e.match(/Android ([\d.]+)/i),s=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(s)},t.prototype.At=function(e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n,s=this;return(0,V.__generator)(this,function(u){switch(u.label){case 0:return this.db?[3,2]:(on("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(h,_){var w=indexedDB.open(s.name,s.version);w.onsuccess=function(A){h(A.target.result)},w.onblocked=function(){_(new yu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},w.onerror=function(A){var B=A.target.error;_("VersionError"===B.name?new Ht(Tt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new yu(e,B))},w.onupgradeneeded=function(A){on("SimpleDb",'Database "'+s.name+'" requires upgrade from version:',A.oldVersion),s.wt.Rt(A.target.result,w.transaction,A.oldVersion,s.version).next(function(){on("SimpleDb","Database upgrade to version "+s.version+" complete")})}})]);case 1:n.db=u.sent(),u.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(h){return s.bt(h)}),this.db)]}})})},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(n){return e(n)})},t.prototype.runTransaction=function(e,n,s,u){return(0,V.__awaiter)(this,void 0,void 0,function(){var h,_,w,A,B;return(0,V.__generator)(this,function(Y){switch(Y.label){case 0:h="readonly"===n,_=0,w=function(){var ue,pe,ze,Le,ut;return(0,V.__generator)(this,function(Mt){switch(Mt.label){case 0:++_,Mt.label=1;case 1:return Mt.trys.push([1,4,,5]),[4,A.At(e)];case 2:return A.db=Mt.sent(),ue=fr.open(A.db,e,h?"readonly":"readwrite",s),pe=u(ue).catch(function(Wt){return ue.abort(Wt),Dt.reject(Wt)}).toPromise(),ze={},pe.catch(function(){}),[4,ue.dt];case 3:return[2,(ze.value=(Mt.sent(),pe),ze)];case 4:return on("SimpleDb","Transaction failed with error:",(Le=Mt.sent()).message,"Retrying:",ut="FirebaseError"!==Le.name&&_<3),A.close(),ut?[3,5]:[2,{value:Promise.reject(Le)}];case 5:return[2]}})},A=this,Y.label=1;case 1:return[5,w()];case 2:if("object"==typeof(B=Y.sent()))return[2,B.value];Y.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Ha=function(){function t(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(e){this.St=e},t.prototype.delete=function(){return Rl(this.Pt.delete())},t}(),yu=function(t){function e(n,s){var u=this;return(u=t.call(this,Tt.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+s)||this).name="IndexedDbTransactionError",u}return(0,V.__extends)(e,t),e}(Ht);function ba(t){return"IndexedDbTransactionError"===t.name}var Pd=function(){function t(e){this.store=e}return t.prototype.put=function(e,n){var s;return void 0!==n?(on("SimpleDb","PUT",this.store.name,e,n),s=this.store.put(n,e)):(on("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Rl(s)},t.prototype.add=function(e){return on("SimpleDb","ADD",this.store.name,e,e),Rl(this.store.add(e))},t.prototype.get=function(e){var n=this;return Rl(this.store.get(e)).next(function(s){return void 0===s&&(s=null),on("SimpleDb","GET",n.store.name,e,s),s})},t.prototype.delete=function(e){return on("SimpleDb","DELETE",this.store.name,e),Rl(this.store.delete(e))},t.prototype.count=function(){return on("SimpleDb","COUNT",this.store.name),Rl(this.store.count())},t.prototype.Nt=function(e,n){var s=this.cursor(this.options(e,n)),u=[];return this.xt(s,function(h,_){u.push(_)}).next(function(){return u})},t.prototype.kt=function(e,n){on("SimpleDb","DELETE ALL",this.store.name);var s=this.options(e,n);s.Ft=!1;var u=this.cursor(s);return this.xt(u,function(h,_,w){return w.delete()})},t.prototype.$t=function(e,n){var s;n?s=e:(s={},n=e);var u=this.cursor(s);return this.xt(u,n)},t.prototype.Ot=function(e){var n=this.cursor({});return new Dt(function(s,u){n.onerror=function(h){var _=ty(h.target.error);u(_)},n.onsuccess=function(h){var _=h.target.result;_?e(_.primaryKey,_.value).next(function(w){w?_.continue():s()}):s()}})},t.prototype.xt=function(e,n){var s=[];return new Dt(function(u,h){e.onerror=function(_){h(_.target.error)},e.onsuccess=function(_){var w=_.target.result;if(w){var A=new Ha(w),B=n(w.primaryKey,w.value,A);if(B instanceof Dt){var Y=B.catch(function(ue){return A.done(),Dt.reject(ue)});s.push(Y)}A.isDone?u():null===A.Dt?w.continue():w.continue(A.Dt)}else u()}}).next(function(){return Dt.waitFor(s)})},t.prototype.options=function(e,n){var s;return void 0!==e&&("string"==typeof e?s=e:n=e),{index:s,range:n}},t.prototype.cursor=function(e){var n="next";if(e.reverse&&(n="prev"),e.index){var s=this.store.index(e.index);return e.Ft?s.openKeyCursor(e.range,n):s.openCursor(e.range,n)}return this.store.openCursor(e.range,n)},t}();function Rl(t){return new Dt(function(e,n){t.onsuccess=function(s){e(s.target.result)},t.onerror=function(s){var u=ty(s.target.error);n(u)}})}var ey=!1;function ty(t){var e=Fi._t((0,un.getUA)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var s=new Ht("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ey||(ey=!0,setTimeout(function(){throw s},0)),s}}return t}var ny=function(t){function e(n,s){var u=this;return(u=t.call(this)||this).Mt=n,u.currentSequenceNumber=s,u}return(0,V.__extends)(e,t),e}(ln);function ia(t,e){var n=cn(t);return Fi.It(n.Mt,e)}var ry=function(){function t(e,n,s,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=u}return t.prototype.applyToRemoteDocument=function(e,n){for(var s=n.mutationResults,u=0;u<this.mutations.length;u++){var h=this.mutations[u];h.key.isEqual(e.key)&&$v(h,e,s[u])}},t.prototype.applyToLocalView=function(e){for(var n=0,s=this.baseMutations;n<s.length;n++)(_=s[n]).key.isEqual(e.key)&&$h(_,e,this.localWriteTime);for(var u=0,h=this.mutations;u<h.length;u++){var _;(_=h[u]).key.isEqual(e.key)&&$h(_,e,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(e){var n=this;this.mutations.forEach(function(s){var u=e.get(s.key),h=u;n.applyToLocalView(h),u.isValidDocument()||h.convertToNoDocument(mr.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(e,n){return e.add(n.key)},si())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&Ac(this.mutations,e.mutations,function(n,s){return Hv(n,s)})&&Ac(this.baseMutations,e.baseMutations,function(n,s){return Hv(n,s)})},t}(),_u=function(){function t(e,n,s,u){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=u}return t.from=function(e,n,s){Qn(e.mutations.length===s.length);for(var u=Ig(),h=e.mutations,_=0;_<h.length;_++)u=u.insert(h[_].key,s[_].version);return new t(e,n,s,u)},t}(),Fg=function(){function t(e,n,s,u,h,_,w){void 0===h&&(h=mr.min()),void 0===_&&(_=mr.min()),void 0===w&&(w=ss.EMPTY_BYTE_STRING),this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=w}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),iy=function(t){this.Lt=t};function oy(t,e){if(e.document)return kd(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Dn.fromSegments(e.noDocument.path),s=Fd(e.noDocument.readTime),u=to.newNoDocument(n,s);return e.hasCommittedMutations?u.setHasCommittedMutations():u}if(e.unknownDocument){var h=Dn.fromSegments(e.unknownDocument.path);return s=Fd(e.unknownDocument.version),to.newUnknownDocument(h,s)}return xn()}function gb(t,e,n){var ue,pe,s=sy(n),u=e.key.path.popLast().toArray();if(e.isFoundDocument()){var h={name:Bc(ue=t.Lt,(pe=e).key),fields:pe.data.value.mapValue.fields,updateTime:cs(ue,pe.version.toTimestamp())},_=e.hasCommittedMutations;return new y(null,null,h,_,s,u)}if(e.isNoDocument()){var w=e.key.path.toArray(),A=Sf(e.version);return _=e.hasCommittedMutations,new y(null,new l(w,A),null,_,s,u)}if(e.isUnknownDocument()){var B=e.key.path.toArray(),Y=Sf(e.version);return new y(new p(B,Y),null,null,!0,s,u)}return xn()}function sy(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function mb(t){var e=new eo(t[0],t[1]);return mr.fromTimestamp(e)}function Sf(t){var e=t.toTimestamp();return new Pg(e.seconds,e.nanoseconds)}function Fd(t){var e=new eo(t.seconds,t.nanoseconds);return mr.fromTimestamp(e)}function Ld(t,e){for(var n=(e.baseMutations||[]).map(function(A){return Vc(t.Lt,A)}),s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);var _=e.mutations.map(function(A){return Vc(t.Lt,A)}),w=eo.fromMillis(e.localWriteTimeMs);return new ry(e.batchId,w,n,_)}function tp(t){var e,n,s=Fd(t.readTime),u=void 0!==t.lastLimboFreeSnapshotVersion?Fd(t.lastLimboFreeSnapshotVersion):mr.min();return void 0!==t.query.documents?(Qn(1===(n=t.query).documents.length),e=as(Oc(Xh(n.documents[0])))):e=as(Uc(t.query)),new Fg(e,t.targetId,0,t.lastListenSequenceNumber,s,u,ss.fromBase64String(t.resumeToken))}function dr(t,e){var n,s=Sf(e.snapshotVersion),u=Sf(e.lastLimboFreeSnapshotVersion);n=_l(e.target)?xg(t.Lt,e.target):Bs(t.Lt,e.target);var h=e.resumeToken.toBase64();return new k(e.targetId,yl(e.target),s,h,e.sequenceNumber,u,n)}function Lg(t){var e=Uc({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?wl(e,e.limit,"L"):e}var vb=function(){function t(){}return t.prototype.getBundleMetadata=function(e,n){return ay(e).get(n).next(function(s){if(s)return{id:(u=s).bundleId,createTime:Fd(u.createTime),version:u.version};var u})},t.prototype.saveBundleMetadata=function(e,n){return ay(e).put({bundleId:(s=n).id,createTime:Sf(fo(s.createTime)),version:s.version});var s},t.prototype.getNamedQuery=function(e,n){return np(e).get(n).next(function(s){if(s)return{name:(u=s).name,query:Lg(u.bundledQuery),readTime:Fd(u.readTime)};var u})},t.prototype.saveNamedQuery=function(e,n){return np(e).put({name:(s=n).name,readTime:Sf(fo(s.readTime)),bundledQuery:s.bundledQuery});var s},t}();function ay(t){return ia(t,Te.store)}function np(t){return ia(t,gt.store)}var bu=function(){function t(){this.Bt=new Bg}return t.prototype.addToCollectionParentIndex=function(e,n){return this.Bt.add(n),Dt.resolve()},t.prototype.getCollectionParents=function(e,n){return Dt.resolve(this.Bt.getEntries(n))},t}(),Bg=function(){function t(){this.index={}}return t.prototype.add=function(e){var n=e.lastSegment(),s=e.popLast(),u=this.index[n]||new lo(Ur.comparator),h=!u.has(s);return this.index[n]=u.add(s),h},t.prototype.has=function(e){var n=e.lastSegment(),s=e.popLast(),u=this.index[n];return u&&u.has(s)},t.prototype.getEntries=function(e){return(this.index[e]||new lo(Ur.comparator)).toArray()},t}(),$I=function(){function t(){this.qt=new Bg}return t.prototype.addToCollectionParentIndex=function(e,n){var s=this;if(!this.qt.has(n)){var u=n.lastSegment(),h=n.popLast();e.addOnCommittedListener(function(){s.qt.add(n)});var _={collectionId:u,parent:ra(h)};return Vg(e).put(_)}return Dt.resolve()},t.prototype.getCollectionParents=function(e,n){var s=[],u=IDBKeyRange.bound([n,""],[kh(n),""],!1,!0);return Vg(e).Nt(u).next(function(h){for(var _=0,w=h;_<w.length;_++){var A=w[_];if(A.collectionId!==n)break;s.push(vu(A.parent))}return s})},t}();function Vg(t){return ia(t,le.store)}var Xu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ga=function(){function t(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function uy(t,e,n){var s=t.store(Ti.store),u=t.store(f.store),h=[],_=IDBKeyRange.only(n.batchId),w=0,A=s.$t({range:_},function(Le,ut,Mt){return w++,Mt.delete()});h.push(A.next(function(){Qn(1===w)}));for(var B=[],Y=0,ue=n.mutations;Y<ue.length;Y++){var pe=ue[Y],ze=f.key(e,pe.key.path,n.batchId);h.push(u.delete(ze)),B.push(pe.key)}return Dt.waitFor(h).next(function(){return B})}function Bd(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw xn();e=t.noDocument}return JSON.stringify(e).length}Ga.DEFAULT_COLLECTION_PERCENTILE=10,Ga.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ga.DEFAULT=new Ga(41943040,Ga.DEFAULT_COLLECTION_PERCENTILE,Ga.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ga.DISABLED=new Ga(-1,0,0);var m1=function(){function t(e,n,s,u){this.userId=e,this.R=n,this.Ut=s,this.referenceDelegate=u,this.Kt={}}return t.Qt=function(e,n,s,u){return Qn(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,s,u)},t.prototype.checkEmpty=function(e){var n=!0,s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Af(e).$t({index:Ti.userMutationsIndex,range:s},function(u,h,_){n=!1,_.done()}).next(function(){return n})},t.prototype.addMutationBatch=function(e,n,s,u){var h=this,_=jc(e),w=Af(e);return w.add({}).next(function(A){Qn("number"==typeof A);for(var B=new ry(A,n,s,u),Y=function(Wt,hn,bn){var tr=bn.baseMutations.map(function(an){return Sl(Wt.Lt,an)}),Yn=bn.mutations.map(function(an){return Sl(Wt.Lt,an)});return new Ti(hn,bn.batchId,bn.localWriteTime.toMillis(),tr,Yn)}(h.R,h.userId,B),ue=[],pe=new lo(function(Wt,hn){return Lr(Wt.canonicalString(),hn.canonicalString())}),ze=0,Le=u;ze<Le.length;ze++){var ut=Le[ze],Mt=f.key(h.userId,ut.key.path,A);pe=pe.add(ut.key.path.popLast()),ue.push(w.put(Y)),ue.push(_.put(Mt,f.PLACEHOLDER))}return pe.forEach(function(Wt){ue.push(h.Ut.addToCollectionParentIndex(e,Wt))}),e.addOnCommittedListener(function(){h.Kt[A]=B.keys()}),Dt.waitFor(ue).next(function(){return B})})},t.prototype.lookupMutationBatch=function(e,n){var s=this;return Af(e).get(n).next(function(u){return u?(Qn(u.userId===s.userId),Ld(s.R,u)):null})},t.prototype.jt=function(e,n){var s=this;return this.Kt[n]?Dt.resolve(this.Kt[n]):this.lookupMutationBatch(e,n).next(function(u){if(u){var h=u.keys();return s.Kt[n]=h,h}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var s=this,u=n+1,h=IDBKeyRange.lowerBound([this.userId,u]),_=null;return Af(e).$t({index:Ti.userMutationsIndex,range:h},function(w,A,B){A.userId===s.userId&&(Qn(A.batchId>=u),_=Ld(s.R,A)),B.done()}).next(function(){return _})},t.prototype.getHighestUnacknowledgedBatchId=function(e){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),s=-1;return Af(e).$t({index:Ti.userMutationsIndex,range:n,reverse:!0},function(u,h,_){s=h.batchId,_.done()}).next(function(){return s})},t.prototype.getAllMutationBatches=function(e){var n=this,s=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Af(e).Nt(Ti.userMutationsIndex,s).next(function(u){return u.map(function(h){return Ld(n.R,h)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var s=this,u=f.prefixForPath(this.userId,n.path),h=IDBKeyRange.lowerBound(u),_=[];return jc(e).$t({range:h},function(w,A,B){var Y=w[0],pe=w[2],ze=vu(w[1]);if(Y===s.userId&&n.path.isEqual(ze))return Af(e).get(pe).next(function(Le){if(!Le)throw xn();Qn(Le.userId===s.userId),_.push(Ld(s.R,Le))});B.done()}).next(function(){return _})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var s=this,u=new lo(Lr),h=[];return n.forEach(function(_){var w=f.prefixForPath(s.userId,_.path),A=IDBKeyRange.lowerBound(w),B=jc(e).$t({range:A},function(Y,ue,pe){var ze=Y[0],ut=Y[2],Mt=vu(Y[1]);ze===s.userId&&_.path.isEqual(Mt)?u=u.add(ut):pe.done()});h.push(B)}),Dt.waitFor(h).next(function(){return s.Wt(e,u)})},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var s=this,u=n.path,h=u.length+1,_=f.prefixForPath(this.userId,u),w=IDBKeyRange.lowerBound(_),A=new lo(Lr);return jc(e).$t({range:w},function(B,Y,ue){var pe=B[0],Le=B[2],ut=vu(B[1]);pe===s.userId&&u.isPrefixOf(ut)?ut.length===h&&(A=A.add(Le)):ue.done()}).next(function(){return s.Wt(e,A)})},t.prototype.Wt=function(e,n){var s=this,u=[],h=[];return n.forEach(function(_){h.push(Af(e).get(_).next(function(w){if(null===w)throw xn();Qn(w.userId===s.userId),u.push(Ld(s.R,w))}))}),Dt.waitFor(h).next(function(){return u})},t.prototype.removeMutationBatch=function(e,n){var s=this;return uy(e.Mt,this.userId,n).next(function(u){return e.addOnCommittedListener(function(){s.Gt(n.batchId)}),Dt.forEach(u,function(h){return s.referenceDelegate.markPotentiallyOrphaned(e,h)})})},t.prototype.Gt=function(e){delete this.Kt[e]},t.prototype.performConsistencyCheck=function(e){var n=this;return this.checkEmpty(e).next(function(s){if(!s)return Dt.resolve();var u=IDBKeyRange.lowerBound(f.prefixForUser(n.userId)),h=[];return jc(e).$t({range:u},function(_,w,A){if(_[0]===n.userId){var B=vu(_[1]);h.push(B)}else A.done()}).next(function(){Qn(0===h.length)})})},t.prototype.containsKey=function(e,n){return cy(e,this.userId,n)},t.prototype.zt=function(e){var n=this;return rp(e).get(this.userId).next(function(s){return s||new Ts(n.userId,-1,"")})},t}();function cy(t,e,n){var s=f.prefixForPath(e,n.path),u=s[1],h=IDBKeyRange.lowerBound(s),_=!1;return jc(t).$t({range:h,Ft:!0},function(w,A,B){w[0]===e&&w[1]===u&&(_=!0),B.done()}).next(function(){return _})}function Af(t){return ia(t,Ti.store)}function jc(t){return ia(t,f.store)}function rp(t){return ia(t,Ts.store)}var Vd=function(){function t(e){this.Ht=e}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),ly=function(){function t(e,n){this.referenceDelegate=e,this.R=n}return t.prototype.allocateTargetId=function(e){var n=this;return this.Xt(e).next(function(s){var u=new Vd(s.highestTargetId);return s.highestTargetId=u.next(),n.Zt(e,s).next(function(){return s.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(n){return mr.fromTimestamp(new eo(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(n){return n.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(e,n,s){var u=this;return this.Xt(e).next(function(h){return h.highestListenSequenceNumber=n,s&&(h.lastRemoteSnapshotVersion=s.toTimestamp()),n>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=n),u.Zt(e,h)})},t.prototype.addTargetData=function(e,n){var s=this;return this.te(e,n).next(function(){return s.Xt(e).next(function(u){return u.targetCount+=1,s.ee(n,u),s.Zt(e,u)})})},t.prototype.updateTargetData=function(e,n){return this.te(e,n)},t.prototype.removeTargetData=function(e,n){var s=this;return this.removeMatchingKeysForTargetId(e,n.targetId).next(function(){return xl(e).delete(n.targetId)}).next(function(){return s.Xt(e)}).next(function(u){return Qn(u.targetCount>0),u.targetCount-=1,s.Zt(e,u)})},t.prototype.removeTargets=function(e,n,s){var u=this,h=0,_=[];return xl(e).$t(function(w,A){var B=tp(A);B.sequenceNumber<=n&&null===s.get(B.targetId)&&(h++,_.push(u.removeTargetData(e,B)))}).next(function(){return Dt.waitFor(_)}).next(function(){return h})},t.prototype.forEachTarget=function(e,n){return xl(e).$t(function(s,u){var h=tp(u);n(h)})},t.prototype.Xt=function(e){return HI(e).get(re.key).next(function(n){return Qn(null!==n),n})},t.prototype.Zt=function(e,n){return HI(e).put(re.key,n)},t.prototype.te=function(e,n){return xl(e).put(dr(this.R,n))},t.prototype.ee=function(e,n){var s=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,s=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,s=!0),s},t.prototype.getTargetCount=function(e){return this.Xt(e).next(function(n){return n.targetCount})},t.prototype.getTargetData=function(e,n){var s=yl(n),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]),h=null;return xl(e).$t({range:u,index:k.queryTargetsIndexName},function(_,w,A){var B=tp(w);vf(n,B.target)&&(h=B,A.done())}).next(function(){return h})},t.prototype.addMatchingKeys=function(e,n,s){var u=this,h=[],_=kl(e);return n.forEach(function(w){var A=ra(w.path);h.push(_.put(new H(s,A))),h.push(u.referenceDelegate.addReference(e,s,w))}),Dt.waitFor(h)},t.prototype.removeMatchingKeys=function(e,n,s){var u=this,h=kl(e);return Dt.forEach(n,function(_){var w=ra(_.path);return Dt.waitFor([h.delete([s,w]),u.referenceDelegate.removeReference(e,s,_)])})},t.prototype.removeMatchingKeysForTargetId=function(e,n){var s=kl(e),u=IDBKeyRange.bound([n],[n+1],!1,!0);return s.delete(u)},t.prototype.getMatchingKeysForTargetId=function(e,n){var s=IDBKeyRange.bound([n],[n+1],!1,!0),u=kl(e),h=si();return u.$t({range:s,Ft:!0},function(_,w,A){var B=vu(_[1]),Y=new Dn(B);h=h.add(Y)}).next(function(){return h})},t.prototype.containsKey=function(e,n){var s=ra(n.path),u=IDBKeyRange.bound([s],[kh(s)],!1,!0),h=0;return kl(e).$t({index:H.documentTargetsIndex,Ft:!0,range:u},function(_,w,A){0!==_[0]&&(h++,A.done())}).next(function(){return h>0})},t.prototype.lt=function(e,n){return xl(e).get(n).next(function(s){return s?tp(s):null})},t}();function xl(t){return ia(t,k.store)}function HI(t){return ia(t,re.store)}function kl(t){return ia(t,H.store)}function Mf(t){return(0,V.__awaiter)(this,void 0,void 0,function(){return(0,V.__generator)(this,function(e){if(t.code!==Tt.FAILED_PRECONDITION||t.message!==Kt)throw t;return on("LocalStore","Unexpectedly lost primary lease"),[2]})})}function yb(t,e){var s=t[1],h=e[1],_=Lr(t[0],e[0]);return 0===_?Lr(s,h):_}var GI=function(){function t(e){this.ne=e,this.buffer=new lo(yb),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(e){var n=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var s=this.buffer.last();yb(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),_b=function(){function t(e,n){this.garbageCollector=e,this.asyncQueue=n,this.oe=!1,this.ce=null}return t.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(e){var n=this,s=this.oe?3e5:6e4;on("LruGarbageCollector","Garbage collection scheduled in "+s+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,function(){return(0,V.__awaiter)(n,void 0,void 0,function(){var u;return(0,V.__generator)(this,function(h){switch(h.label){case 0:this.ce=null,this.oe=!0,h.label=1;case 1:return h.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return h.sent(),[3,7];case 3:return ba(u=h.sent())?(on("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",u),[3,6]):[3,4];case 4:return[4,Mf(u)];case 5:h.sent(),h.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return h.sent(),[2]}})})})},t}(),v1=function(){function t(e,n){this.ae=e,this.params=n}return t.prototype.calculateTargetCount=function(e,n){return this.ae.he(e).next(function(s){return Math.floor(n/100*s)})},t.prototype.nthSequenceNumber=function(e,n){var s=this;if(0===n)return Dt.resolve(jo.o);var u=new GI(n);return this.ae.forEachTarget(e,function(h){return u.re(h.sequenceNumber)}).next(function(){return s.ae.le(e,function(h){return u.re(h)})}).next(function(){return u.maxValue})},t.prototype.removeTargets=function(e,n,s){return this.ae.removeTargets(e,n,s)},t.prototype.removeOrphanedDocuments=function(e,n){return this.ae.removeOrphanedDocuments(e,n)},t.prototype.collect=function(e,n){var s=this;return-1===this.params.cacheSizeCollectionThreshold?(on("LruGarbageCollector","Garbage collection skipped; disabled"),Dt.resolve(Xu)):this.getCacheSize(e).next(function(u){return u<s.params.cacheSizeCollectionThreshold?(on("LruGarbageCollector","Garbage collection skipped; Cache size "+u+" is lower than threshold "+s.params.cacheSizeCollectionThreshold),Xu):s.fe(e,n)})},t.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},t.prototype.fe=function(e,n){var s,u,h,_,w,A,B,Y=this,ue=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(pe){return pe>Y.params.maximumSequenceNumbersToCollect?(on("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+Y.params.maximumSequenceNumbersToCollect+" from "+pe),u=Y.params.maximumSequenceNumbersToCollect):u=pe,_=Date.now(),Y.nthSequenceNumber(e,u)}).next(function(pe){return s=pe,w=Date.now(),Y.removeTargets(e,s,n)}).next(function(pe){return h=pe,A=Date.now(),Y.removeOrphanedDocuments(e,s)}).next(function(pe){return B=Date.now(),df()<=hr.LogLevel.DEBUG&&on("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(_-ue)+"ms\n\tDetermined least recently used "+u+" in "+(w-_)+"ms\n\tRemoved "+h+" targets in "+(A-w)+"ms\n\tRemoved "+pe+" documents in "+(B-A)+"ms\nTotal Duration: "+(B-ue)+"ms"),Dt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:pe})})},t}(),qI=function(){function t(e,n){this.db=e,this.garbageCollector=new v1(this,n)}return t.prototype.he=function(e){var n=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(s){return n.next(function(u){return s+u})})},t.prototype.de=function(e){var n=0;return this.le(e,function(s){n++}).next(function(){return n})},t.prototype.forEachTarget=function(e,n){return this.db.getTargetCache().forEachTarget(e,n)},t.prototype.le=function(e,n){return this.we(e,function(s,u){return n(u)})},t.prototype.addReference=function(e,n,s){return fy(e,s)},t.prototype.removeReference=function(e,n,s){return fy(e,s)},t.prototype.removeTargets=function(e,n,s){return this.db.getTargetCache().removeTargets(e,n,s)},t.prototype.markPotentiallyOrphaned=function(e,n){return fy(e,n)},t.prototype._e=function(e,n){return u=n,h=!1,rp(s=e).Ot(function(_){return cy(s,_,u).next(function(w){return w&&(h=!0),Dt.resolve(!w)})}).next(function(){return h});var s,u,h},t.prototype.removeOrphanedDocuments=function(e,n){var s=this,u=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[],_=0;return this.we(e,function(w,A){if(A<=n){var B=s._e(e,w).next(function(Y){if(!Y)return _++,u.getEntry(e,w).next(function(){return u.removeEntry(w),kl(e).delete([0,ra(w.path)])})});h.push(B)}}).next(function(){return Dt.waitFor(h)}).next(function(){return u.apply(e)}).next(function(){return _})},t.prototype.removeTarget=function(e,n){var s=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)},t.prototype.updateLimboDocument=function(e,n){return fy(e,n)},t.prototype.we=function(e,n){var s,u=kl(e),h=jo.o;return u.$t({index:H.documentTargetsIndex},function(_,w){var B=w.path,Y=w.sequenceNumber;0===_[0]?(h!==jo.o&&n(new Dn(vu(s)),h),h=Y,s=B):h=jo.o}).next(function(){h!==jo.o&&n(new Dn(vu(s)),h)})},t.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},t}();function fy(t,e){return kl(t).put((s=t.currentSequenceNumber,new H(0,ra(e.path),s)));var s}var Rf=function(){function t(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}return t.prototype.get=function(e){var n=this.mapKeyFn(e),s=this.inner[n];if(void 0!==s)for(var u=0,h=s;u<h.length;u++){var _=h[u],A=_[1];if(this.equalsFn(_[0],e))return A}},t.prototype.has=function(e){return void 0!==this.get(e)},t.prototype.set=function(e,n){var s=this.mapKeyFn(e),u=this.inner[s];if(void 0!==u){for(var h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,n]);u.push([e,n])}else this.inner[s]=[[e,n]]},t.prototype.delete=function(e){var n=this.mapKeyFn(e),s=this.inner[n];if(void 0===s)return!1;for(var u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return 1===s.length?delete this.inner[n]:s.splice(u,1),!0;return!1},t.prototype.forEach=function(e){Ei(this.inner,function(n,s){for(var u=0,h=s;u<h.length;u++){var _=h[u];e(_[0],_[1])}})},t.prototype.isEmpty=function(){return cu(this.inner)},t}(),dy=function(){function t(){this.changes=new Rf(function(e){return e.toString()},function(e,n){return e.isEqual(n)}),this.changesApplied=!1}return t.prototype.getReadTime=function(e){var n=this.changes.get(e);return n?n.readTime:mr.min()},t.prototype.addEntry=function(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})},t.prototype.removeEntry=function(e,n){void 0===n&&(n=null),this.assertNotApplied(),this.changes.set(e,{document:to.newInvalidDocument(e),readTime:n})},t.prototype.getEntry=function(e,n){this.assertNotApplied();var s=this.changes.get(n);return void 0!==s?Dt.resolve(s.document):this.getFromCache(e,n)},t.prototype.getEntries=function(e,n){return this.getAllFromCache(e,n)},t.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},t.prototype.assertNotApplied=function(){},t}(),zI=function(){function t(e,n){this.R=e,this.Ut=n}return t.prototype.addEntry=function(e,n,s){return xf(e).put(py(n),s)},t.prototype.removeEntry=function(e,n){var s=xf(e),u=py(n);return s.delete(u)},t.prototype.updateMetadata=function(e,n){var s=this;return this.getMetadata(e).next(function(u){return u.byteSize+=n,s.me(e,u)})},t.prototype.getEntry=function(e,n){var s=this;return xf(e).get(py(n)).next(function(u){return s.ye(n,u)})},t.prototype.ge=function(e,n){var s=this;return xf(e).get(py(n)).next(function(u){return{document:s.ye(n,u),size:Bd(u)}})},t.prototype.getEntries=function(e,n){var s=this,u=ea();return this.pe(e,n,function(h,_){var w=s.ye(h,_);u=u.insert(h,w)}).next(function(){return u})},t.prototype.Ee=function(e,n){var s=this,u=ea(),h=new _o(Dn.comparator);return this.pe(e,n,function(_,w){var A=s.ye(_,w);u=u.insert(_,A),h=h.insert(_,Bd(w))}).next(function(){return{documents:u,Te:h}})},t.prototype.pe=function(e,n,s){if(n.isEmpty())return Dt.resolve();var u=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),h=n.getIterator(),_=h.getNext();return xf(e).$t({range:u},function(w,A,B){for(var Y=Dn.fromSegments(w);_&&Dn.comparator(_,Y)<0;)s(_,null),_=h.getNext();_&&_.isEqual(Y)&&(s(_,A),_=h.hasNext()?h.getNext():null),_?B.Ct(_.path.toArray()):B.done()}).next(function(){for(;_;)s(_,null),_=h.hasNext()?h.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(e,n,s){var u=this,h=ea(),_=n.path.length+1,w={};if(s.isEqual(mr.min())){var A=n.path.toArray();w.range=IDBKeyRange.lowerBound(A)}else{var B=n.path.toArray(),Y=sy(s);w.range=IDBKeyRange.lowerBound([B,Y],!0),w.index=y.collectionReadTimeIndex}return xf(e).$t(w,function(ue,pe,ze){if(ue.length===_){var Le=oy(u.R,pe);n.path.isPrefixOf(Le.key.path)?_f(n,Le)&&(h=h.insert(Le.key,Le)):ze.done()}}).next(function(){return h})},t.prototype.newChangeBuffer=function(e){return new hy(this,!!e&&e.trackRemovals)},t.prototype.getSize=function(e){return this.getMetadata(e).next(function(n){return n.byteSize})},t.prototype.getMetadata=function(e){return WI(e).get(D.key).next(function(n){return Qn(!!n),n})},t.prototype.me=function(e,n){return WI(e).put(D.key,n)},t.prototype.ye=function(e,n){if(n){var s=oy(this.R,n);if(!s.isNoDocument()||!s.version.isEqual(mr.min()))return s}return to.newInvalidDocument(e)},t}(),hy=function(t){function e(n,s){var u=this;return(u=t.call(this)||this).Ie=n,u.trackRemovals=s,u.Ae=new Rf(function(h){return h.toString()},function(h,_){return h.isEqual(_)}),u}return(0,V.__extends)(e,t),e.prototype.applyChanges=function(n){var s=this,u=[],h=0,_=new lo(function(w,A){return Lr(w.canonicalString(),A.canonicalString())});return this.changes.forEach(function(w,A){var B=s.Ae.get(w);if(A.document.isValidDocument()){var Y=gb(s.Ie.R,A.document,s.getReadTime(w));_=_.add(w.path.popLast());var ue=Bd(Y);h+=ue-B,u.push(s.Ie.addEntry(n,w,Y))}else if(h-=B,s.trackRemovals){var pe=gb(s.Ie.R,to.newNoDocument(w,mr.min()),s.getReadTime(w));u.push(s.Ie.addEntry(n,w,pe))}else u.push(s.Ie.removeEntry(n,w))}),_.forEach(function(w){u.push(s.Ie.Ut.addToCollectionParentIndex(n,w))}),u.push(this.Ie.updateMetadata(n,h)),Dt.waitFor(u)},e.prototype.getFromCache=function(n,s){var u=this;return this.Ie.ge(n,s).next(function(h){return u.Ae.set(s,h.size),h.document})},e.prototype.getAllFromCache=function(n,s){var u=this;return this.Ie.Ee(n,s).next(function(h){var _=h.documents;return h.Te.forEach(function(w,A){u.Ae.set(w,A)}),_})},e}(dy);function WI(t){return ia(t,D.store)}function xf(t){return ia(t,y.store)}function py(t){return t.path.toArray()}var y1=function(){function t(e){this.R=e}return t.prototype.Rt=function(e,n,s,u){var h=this;Qn(s<u&&s>=0&&u<=11);var A,_=new fr("createOrUpgrade",n);s<1&&u>=1&&(e.createObjectStore(Ds.store),(A=e).createObjectStore(Ts.store,{keyPath:Ts.keyPath}),A.createObjectStore(Ti.store,{keyPath:Ti.keyPath,autoIncrement:!0}).createIndex(Ti.userMutationsIndex,Ti.userMutationsKeyPath,{unique:!0}),A.createObjectStore(f.store),YI(e),function(A){A.createObjectStore(y.store)}(e));var w=Dt.resolve();return s<3&&u>=3&&(0!==s&&(function(A){A.deleteObjectStore(H.store),A.deleteObjectStore(k.store),A.deleteObjectStore(re.store)}(e),YI(e)),w=w.next(function(){return function(A){var B=A.store(re.store),Y=new re(0,0,mr.min().toTimestamp(),0);return B.put(re.key,Y)}(_)})),s<4&&u>=4&&(0!==s&&(w=w.next(function(){return function(A,B){return B.store(Ti.store).Nt().next(function(Y){A.deleteObjectStore(Ti.store),A.createObjectStore(Ti.store,{keyPath:Ti.keyPath,autoIncrement:!0}).createIndex(Ti.userMutationsIndex,Ti.userMutationsKeyPath,{unique:!0});var ue=B.store(Ti.store),pe=Y.map(function(ze){return ue.put(ze)});return Dt.waitFor(pe)})}(e,_)})),w=w.next(function(){!function(A){A.createObjectStore(be.store,{keyPath:be.keyPath})}(e)})),s<5&&u>=5&&(w=w.next(function(){return h.Re(_)})),s<6&&u>=6&&(w=w.next(function(){return function(A){A.createObjectStore(D.store)}(e),h.be(_)})),s<7&&u>=7&&(w=w.next(function(){return h.ve(_)})),s<8&&u>=8&&(w=w.next(function(){return h.Pe(e,_)})),s<9&&u>=9&&(w=w.next(function(){(function(A){A.objectStoreNames.contains("remoteDocumentChanges")&&A.deleteObjectStore("remoteDocumentChanges")})(e),function(A){var B=A.objectStore(y.store);B.createIndex(y.readTimeIndex,y.readTimeIndexPath,{unique:!1}),B.createIndex(y.collectionReadTimeIndex,y.collectionReadTimeIndexPath,{unique:!1})}(n)})),s<10&&u>=10&&(w=w.next(function(){return h.Ve(_)})),s<11&&u>=11&&(w=w.next(function(){(function(A){A.createObjectStore(Te.store,{keyPath:Te.keyPath})})(e),function(A){A.createObjectStore(gt.store,{keyPath:gt.keyPath})}(e)})),w},t.prototype.be=function(e){var n=0;return e.store(y.store).$t(function(s,u){n+=Bd(u)}).next(function(){var s=new D(n);return e.store(D.store).put(D.key,s)})},t.prototype.Re=function(e){var n=this,s=e.store(Ts.store),u=e.store(Ti.store);return s.Nt().next(function(h){return Dt.forEach(h,function(_){var w=IDBKeyRange.bound([_.userId,-1],[_.userId,_.lastAcknowledgedBatchId]);return u.Nt(Ti.userMutationsIndex,w).next(function(A){return Dt.forEach(A,function(B){Qn(B.userId===_.userId);var Y=Ld(n.R,B);return uy(e,_.userId,Y).next(function(){})})})})})},t.prototype.ve=function(e){var n=e.store(H.store),s=e.store(y.store);return e.store(re.store).get(re.key).next(function(u){var h=[];return s.$t(function(_,w){var A=new Ur(_),B=[0,ra(A)];h.push(n.get(B).next(function(Y){return Y?Dt.resolve():n.put(new H(0,ra(A),u.highestListenSequenceNumber))}))}).next(function(){return Dt.waitFor(h)})})},t.prototype.Pe=function(e,n){e.createObjectStore(le.store,{keyPath:le.keyPath});var s=n.store(le.store),u=new Bg,h=function(_){if(u.add(_)){var w=_.lastSegment(),A=_.popLast();return s.put({collectionId:w,parent:ra(A)})}};return n.store(y.store).$t({Ft:!0},function(_,w){var A=new Ur(_);return h(A.popLast())}).next(function(){return n.store(f.store).$t({Ft:!0},function(_,w){var B=vu(_[1]);return h(B.popLast())})})},t.prototype.Ve=function(e){var n=this,s=e.store(k.store);return s.$t(function(u,h){var _=tp(h),w=dr(n.R,_);return s.put(w)})},t}();function YI(t){t.createObjectStore(H.store,{keyPath:H.keyPath}).createIndex(H.documentTargetsIndex,H.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(k.store,{keyPath:k.keyPath}).createIndex(k.queryTargetsIndexName,k.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(re.store)}var bb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",_1=function(){function t(e,n,s,u,h,_,w,A,B,Y){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=s,this.Se=h,this.window=_,this.document=w,this.De=B,this.Ce=Y,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(ue){return Promise.resolve()},!t.yt())throw new Ht(Tt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new qI(this,u),this.Le=n+"main",this.R=new iy(A),this.Be=new Fi(this.Le,11,new y1(this.R)),this.qe=new ly(this.referenceDelegate,this.R),this.Ut=new $I,this.Ue=new zI(this.R,this.Ut),this.Ke=new vb,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===Y&&Di("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Ht(Tt.FAILED_PRECONDITION,bb);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return e.qe.getHighestSequenceNumber(n)})}).then(function(n){e.Ne=new jo(n,e.De)}).then(function(){e.xe=!0}).catch(function(n){return e.Be&&e.Be.close(),Promise.reject(n)})},t.prototype.He=function(e){var n=this;return this.Me=function(s){return(0,V.__awaiter)(n,void 0,void 0,function(){return(0,V.__generator)(this,function(u){return this.started?[2,e(s)]:[2]})})},e(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(e){var n=this;this.Be.vt(function(s){return(0,V.__awaiter)(n,void 0,void 0,function(){return(0,V.__generator)(this,function(u){switch(u.label){case 0:return null===s.newVersion?[4,e()]:[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return(0,V.__awaiter)(n,void 0,void 0,function(){return(0,V.__generator)(this,function(s){switch(s.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return gy(n).put(new be(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(n).next(function(s){s||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(n)}).next(function(s){return e.isPrimary&&!s?e.Xe(n).next(function(){return!1}):!!s&&e.Ze(n).next(function(){return!0})})}).catch(function(n){if(ba(n))return on("IndexedDbPersistence","Failed to extend owner lease: ",n),e.isPrimary;if(!e.allowTabSynchronization)throw n;return on("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){e.isPrimary!==n&&e.Se.enqueueRetryable(function(){return e.Me(n)}),e.isPrimary=n})},t.prototype.Je=function(e){var n=this;return Ug(e).get(Ds.key).next(function(s){return Dt.resolve(n.tn(s))})},t.prototype.en=function(e){return gy(e).delete(this.clientId)},t.prototype.nn=function(){return(0,V.__awaiter)(this,void 0,void 0,function(){var e,n,s,h=this;return(0,V.__generator)(this,function(_){switch(_.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(w){var A=ia(w,be.store);return A.Nt().next(function(B){var Y=h.rn(B,18e5),ue=B.filter(function(pe){return-1===Y.indexOf(pe)});return Dt.forEach(ue,function(pe){return A.delete(pe.clientId)}).next(function(){return ue})})}).catch(function(){return[]})]);case 1:if(e=_.sent(),this.Qe)for(n=0,s=e;n<s.length;n++)this.Qe.removeItem(this.on(s[n].clientId));_.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},t.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.Ye=function(e){var n=this;return this.Ce?Dt.resolve(!0):Ug(e).get(Ds.key).next(function(s){if(null!==s&&n.sn(s.leaseTimestampMs,5e3)&&!n.cn(s.ownerId)){if(n.tn(s)&&n.networkEnabled)return!0;if(!n.tn(s)){if(!s.allowTabSynchronization)throw new Ht(Tt.FAILED_PRECONDITION,bb);return!1}}return!(!n.networkEnabled||!n.inForeground)||gy(e).Nt().next(function(u){return void 0===n.rn(u,5e3).find(function(h){return!(n.clientId===h.clientId||!(!n.networkEnabled&&h.networkEnabled||!n.inForeground&&h.inForeground&&n.networkEnabled===h.networkEnabled))})})}).next(function(s){return n.isPrimary!==s&&on("IndexedDbPersistence","Client "+(s?"is":"is not")+" eligible for a primary lease."),s})},t.prototype.shutdown=function(){return(0,V.__awaiter)(this,void 0,void 0,function(){var e=this;return(0,V.__generator)(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Ds.store,be.store],function(s){var u=new ny(s,jo.o);return e.Xe(u).next(function(){return e.en(u)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(e,n){var s=this;return e.filter(function(u){return s.sn(u.updateTimeMs,n)&&!s.cn(u.clientId)})},t.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(n){return gy(n).Nt().next(function(s){return e.rn(s,18e5).map(function(u){return u.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(e){return m1.Qt(e,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,s){var h,u=this;return on("IndexedDbPersistence","Starting transaction:",e),this.Be.runTransaction(e,"readonly"===n?"readonly":"readwrite",kt,function(w){return h=new ny(w,u.Ne?u.Ne.next():jo.o),"readwrite-primary"===n?u.Je(h).next(function(A){return!!A||u.Ye(h)}).next(function(A){if(!A)throw Di("Failed to obtain primary lease for action '"+e+"'."),u.isPrimary=!1,u.Se.enqueueRetryable(function(){return u.Me(!1)}),new Ht(Tt.FAILED_PRECONDITION,Kt);return s(h)}).next(function(A){return u.Ze(h).next(function(){return A})}):u.dn(h).next(function(){return s(h)})}).then(function(w){return h.raiseOnCommittedEvent(),w})},t.prototype.dn=function(e){var n=this;return Ug(e).get(Ds.key).next(function(s){if(null!==s&&n.sn(s.leaseTimestampMs,5e3)&&!n.cn(s.ownerId)&&!n.tn(s)&&!(n.Ce||n.allowTabSynchronization&&s.allowTabSynchronization))throw new Ht(Tt.FAILED_PRECONDITION,bb)})},t.prototype.Ze=function(e){var n=new Ds(this.clientId,this.allowTabSynchronization,Date.now());return Ug(e).put(Ds.key,n)},t.yt=function(){return Fi.yt()},t.prototype.Xe=function(e){var n=this,s=Ug(e);return s.get(Ds.key).next(function(u){return n.tn(u)?(on("IndexedDbPersistence","Releasing primary lease."),s.delete(Ds.key)):Dt.resolve()})},t.prototype.sn=function(e,n){var s=Date.now();return!(e<s-n||e>s&&(Di("Detected an update time that is in the future: "+e+" > "+s),1))},t.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var e,n=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){n.un(),(0,un.isSafari)()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(e){var n;try{var s=null!==(null===(n=this.Qe)||void 0===n?void 0:n.getItem(this.on(e)));return on("IndexedDbPersistence","Client '"+e+"' "+(s?"is":"is not")+" zombied in LocalStorage"),s}catch(u){return Di("IndexedDbPersistence","Failed to get zombied client id.",u),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Di("Failed to set zombie client id.",e)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},t.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();function Ug(t){return ia(t,Ds.store)}function gy(t){return ia(t,be.store)}function wb(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Ol=function(t,e){this.progress=t,this.wn=e},jg=function(){function t(e,n,s){this.Ue=e,this._n=n,this.Ut=s}return t.prototype.mn=function(e,n){var s=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,n).next(function(u){return s.yn(e,n,u)})},t.prototype.yn=function(e,n,s){return this.Ue.getEntry(e,n).next(function(u){for(var h=0,_=s;h<_.length;h++)_[h].applyToLocalView(u);return u})},t.prototype.gn=function(e,n){e.forEach(function(s,u){for(var h=0,_=n;h<_.length;h++)_[h].applyToLocalView(u)})},t.prototype.pn=function(e,n){var s=this;return this.Ue.getEntries(e,n).next(function(u){return s.En(e,u).next(function(){return u})})},t.prototype.En=function(e,n){var s=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,n).next(function(u){return s.gn(n,u)})},t.prototype.getDocumentsMatchingQuery=function(e,n,s){return Dn.isDocumentKey((u=n).path)&&null===u.collectionGroup&&0===u.filters.length?this.Tn(e,n.path):co(n)?this.In(e,n,s):this.An(e,n,s);var u},t.prototype.Tn=function(e,n){return this.mn(e,new Dn(n)).next(function(s){var u=Df();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})},t.prototype.In=function(e,n,s){var u=this,h=n.collectionGroup,_=Df();return this.Ut.getCollectionParents(e,h).next(function(w){return Dt.forEach(w,function(A){var Y,ue,B=(Y=n,ue=A.child(h),new lu(ue,null,Y.explicitOrderBy.slice(),Y.filters.slice(),Y.limit,Y.limitType,Y.startAt,Y.endAt));return u.An(e,B,s).next(function(Y){Y.forEach(function(ue,pe){_=_.insert(ue,pe)})})}).next(function(){return _})})},t.prototype.An=function(e,n,s){var u,h,_=this;return this.Ue.getDocumentsMatchingQuery(e,n,s).next(function(w){return u=w,_._n.getAllMutationBatchesAffectingQuery(e,n)}).next(function(w){return _.Rn(e,h=w,u).next(function(A){u=A;for(var B=0,Y=h;B<Y.length;B++)for(var ue=Y[B],pe=0,ze=ue.mutations;pe<ze.length;pe++){var Le=ze[pe],ut=Le.key,Mt=u.get(ut);null==Mt&&(Mt=to.newInvalidDocument(ut),u=u.insert(ut,Mt)),$h(Le,Mt,ue.localWriteTime),Mt.isFoundDocument()||(u=u.remove(ut))}})}).next(function(){return u.forEach(function(w,A){_f(n,A)||(u=u.remove(w))}),u})},t.prototype.Rn=function(e,n,s){for(var u=si(),h=0,_=n;h<_.length;h++)for(var w=0,A=_[h].mutations;w<A.length;w++){var B=A[w];B instanceof $i&&null===s.get(B.key)&&(u=u.add(B.key))}var Y=s;return this.Ue.getEntries(e,u).next(function(ue){return ue.forEach(function(pe,ze){ze.isFoundDocument()&&(Y=Y.insert(pe,ze))}),Y})},t}(),KI=function(){function t(e,n,s,u){this.targetId=e,this.fromCache=n,this.bn=s,this.vn=u}return t.Pn=function(e,n){for(var s=si(),u=si(),h=0,_=n.docChanges;h<_.length;h++){var w=_[h];switch(w.type){case 0:s=s.add(w.doc.key);break;case 1:u=u.add(w.doc.key)}}return new t(e,n.fromCache,s,u)},t}(),my=function(){function t(){}return t.prototype.Vn=function(e){this.Sn=e},t.prototype.getDocumentsMatchingQuery=function(e,n,s,u){var _,h=this;return 0===(_=n).filters.length&&null===_.limit&&null==_.startAt&&null==_.endAt&&(0===_.explicitOrderBy.length||1===_.explicitOrderBy.length&&_.explicitOrderBy[0].field.isKeyField())||s.isEqual(mr.min())?this.Dn(e,n):this.Sn.pn(e,u).next(function(_){var w=h.Cn(n,_);return(Bh(n)||Id(n))&&h.Nn(n.limitType,w,u,s)?h.Dn(e,n):(df()<=hr.LogLevel.DEBUG&&on("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),wg(n)),h.Sn.getDocumentsMatchingQuery(e,n,s).next(function(A){return w.forEach(function(B){A=A.insert(B.key,B)}),A}))})},t.prototype.Cn=function(e,n){var s=new lo(bf(e));return n.forEach(function(u,h){_f(e,h)&&(s=s.add(h))}),s},t.prototype.Nn=function(e,n,s,u){if(s.size!==n.size)return!0;var h="F"===e?n.last():n.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)},t.prototype.Dn=function(e,n){return df()<=hr.LogLevel.DEBUG&&on("QueryEngine","Using full collection scan to execute query:",wg(n)),this.Sn.getDocumentsMatchingQuery(e,n,mr.min())},t}(),vy=function(){function t(e,n,s,u){this.persistence=e,this.xn=n,this.R=u,this.kn=new _o(Lr),this.Fn=new Rf(function(h){return yl(h)},vf),this.$n=mr.min(),this._n=e.getMutationQueue(s),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new jg(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(s){return e.collect(s,n.kn)})},t}();function yy(t,e,n,s){return new vy(t,e,n,s)}function $g(t,e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n,s,u,h;return(0,V.__generator)(this,function(_){switch(_.label){case 0:return n=cn(t),s=n._n,u=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(w){var A;return n._n.getAllMutationBatches(w).next(function(B){return A=B,s=n.persistence.getMutationQueue(e),u=new jg(n.On,s,n.persistence.getIndexManager()),s.getAllMutationBatches(w)}).next(function(B){for(var Y=[],ue=[],pe=si(),ze=0,Le=A;ze<Le.length;ze++){var ut=Le[ze];Y.push(ut.batchId);for(var Mt=0,Wt=ut.mutations;Mt<Wt.length;Mt++)pe=pe.add(Wt[Mt].key)}for(var bn=0,tr=B;bn<tr.length;bn++){var Yn=tr[bn];ue.push(Yn.batchId);for(var an=0,Ai=Yn.mutations;an<Ai.length;an++)pe=pe.add(Ai[an].key)}return u.pn(w,pe).next(function(Gn){return{Ln:Gn,removedBatchIds:Y,addedBatchIds:ue}})})})];case 1:return h=_.sent(),[2,(n._n=s,n.Mn=u,n.xn.Vn(n.Mn),h)]}})})}function XI(t,e){var n=cn(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(s){var _,w,A,B,Y,ue,pe,u=e.batch.keys(),h=n.On.newChangeBuffer({trackRemovals:!0});return(_=n,w=s,A=e,B=h,Y=A.batch,ue=Y.keys(),pe=Dt.resolve(),ue.forEach(function(ze){pe=pe.next(function(){return B.getEntry(w,ze)}).next(function(Le){var ut=A.docVersions.get(ze);Qn(null!==ut),Le.version.compareTo(ut)<0&&(Y.applyToRemoteDocument(Le,A),Le.isValidDocument()&&B.addEntry(Le,A.commitVersion))})}),pe.next(function(){return _._n.removeMutationBatch(w,Y)})).next(function(){return h.apply(s)}).next(function(){return n._n.performConsistencyCheck(s)}).next(function(){return n.Mn.pn(s,u)})})}function $c(t){var e=cn(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return e.qe.getLastRemoteSnapshotVersion(n)})}function Eb(t,e){var n=cn(t),s=e.snapshotVersion,u=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(h){var _=n.On.newChangeBuffer({trackRemovals:!0});u=n.kn;var w=[];e.targetChanges.forEach(function(Y,ue){var ut,Mt,Wt,pe=u.get(ue);if(pe){w.push(n.qe.removeMatchingKeys(h,Y.removedDocuments,ue).next(function(){return n.qe.addMatchingKeys(h,Y.addedDocuments,ue)}));var ze=Y.resumeToken;if(ze.approximateByteSize()>0){var Le=pe.withResumeToken(ze,s).withSequenceNumber(h.currentSequenceNumber);u=u.insert(ue,Le),ut=pe,Wt=Y,Qn((Mt=Le).resumeToken.approximateByteSize()>0),(0===ut.resumeToken.approximateByteSize()||Mt.snapshotVersion.toMicroseconds()-ut.snapshotVersion.toMicroseconds()>=3e8||Wt.addedDocuments.size+Wt.modifiedDocuments.size+Wt.removedDocuments.size>0)&&w.push(n.qe.updateTargetData(h,Le))}}});var A=ea();if(e.documentUpdates.forEach(function(Y,ue){e.resolvedLimboDocuments.has(Y)&&w.push(n.persistence.referenceDelegate.updateLimboDocument(h,Y))}),w.push(Cb(h,_,e.documentUpdates,s,void 0).next(function(Y){A=Y})),!s.isEqual(mr.min())){var B=n.qe.getLastRemoteSnapshotVersion(h).next(function(Y){return n.qe.setTargetsMetadata(h,h.currentSequenceNumber,s)});w.push(B)}return Dt.waitFor(w).next(function(){return _.apply(h)}).next(function(){return n.Mn.En(h,A)}).next(function(){return A})}).then(function(h){return n.kn=u,h})}function Cb(t,e,n,s,u){var h=si();return n.forEach(function(_){return h=h.add(_)}),e.getEntries(t,h).next(function(_){var w=ea();return n.forEach(function(A,B){var Y=_.get(A),ue=(null==u?void 0:u.get(A))||s;B.isNoDocument()&&B.version.isEqual(mr.min())?(e.removeEntry(A,ue),w=w.insert(A,B)):!Y.isValidDocument()||B.version.compareTo(Y.version)>0||0===B.version.compareTo(Y.version)&&Y.hasPendingWrites?(e.addEntry(B,ue),w=w.insert(A,B)):on("LocalStore","Ignoring outdated watch update for ",A,". Current version:",Y.version," Watch version:",B.version)}),w})}function _y(t,e){var n=cn(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(s){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(s,e)})}function Ud(t,e){var n=cn(t);return n.persistence.runTransaction("Allocate target","readwrite",function(s){var u;return n.qe.getTargetData(s,e).next(function(h){return h?Dt.resolve(u=h):n.qe.allocateTargetId(s).next(function(_){return u=new Fg(e,_,0,s.currentSequenceNumber),n.qe.addTargetData(s,u).next(function(){return u})})})}).then(function(s){var u=n.kn.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.kn=n.kn.insert(s.targetId,s),n.Fn.set(e,s.targetId)),s})}function kf(t,e,n){return(0,V.__awaiter)(this,void 0,void 0,function(){var s,u,h,_;return(0,V.__generator)(this,function(w){switch(w.label){case 0:s=cn(t),u=s.kn.get(e),h=n?"readwrite":"readwrite-primary",w.label=1;case 1:return w.trys.push([1,4,,5]),n?[3,3]:[4,s.persistence.runTransaction("Release target",h,function(A){return s.persistence.referenceDelegate.removeTarget(A,u)})];case 2:w.sent(),w.label=3;case 3:return[3,5];case 4:if(!ba(_=w.sent()))throw _;return on("LocalStore","Failed to update sequence numbers for target "+e+": "+_),[3,5];case 5:return s.kn=s.kn.remove(e),s.Fn.delete(u.target),[2]}})})}function Hg(t,e,n){var s=cn(t),u=mr.min(),h=si();return s.persistence.runTransaction("Execute query","readonly",function(_){return(w=s,A=_,B=as(e),Y=cn(w),ue=Y.Fn.get(B),void 0!==ue?Dt.resolve(Y.kn.get(ue)):Y.qe.getTargetData(A,B)).next(function(w){if(w)return u=w.lastLimboFreeSnapshotVersion,s.qe.getMatchingKeysForTargetId(_,w.targetId).next(function(A){h=A})}).next(function(){return s.xn.getDocumentsMatchingQuery(_,e,n?u:mr.min(),n?h:si())}).next(function(w){return{documents:w,Bn:h}});var w,A,B,Y,ue})}function Ib(t,e){var n=cn(t),s=cn(n.qe),u=n.kn.get(e);return u?Promise.resolve(u.target):n.persistence.runTransaction("Get target data","readonly",function(h){return s.lt(h,e).next(function(_){return _?_.target:null})})}function jd(t){var e=cn(t);return e.persistence.runTransaction("Get new document changes","readonly",function(n){return u=n,h=e.$n,_=cn(e.On),w=ea(),A=sy(h),B=xf(u),Y=IDBKeyRange.lowerBound(A,!0),B.$t({index:y.readTimeIndex,range:Y},function(ue,pe){var ze=oy(_.R,pe);w=w.insert(ze.key,ze),A=pe.readTime}).next(function(){return{wn:w,readTime:mb(A)}});var u,h,_,w,A,B,Y}).then(function(n){var s=n.wn;return e.$n=n.readTime,s})}function $d(t){return(0,V.__awaiter)(this,void 0,void 0,function(){var e;return(0,V.__generator)(this,function(n){return[2,(e=cn(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(s){return h=xf(s),_=mr.min(),h.$t({index:y.readTimeIndex,reverse:!0},function(w,A,B){A.readTime&&(_=mb(A.readTime)),B.done()}).next(function(){return _});var h,_}).then(function(s){e.$n=s})]})})}function by(t,e,n,s){return(0,V.__awaiter)(this,void 0,void 0,function(){var u,h,_,w,A,B,Y,ue,pe,ze;return(0,V.__generator)(this,function(Le){switch(Le.label){case 0:for(u=cn(t),h=si(),_=ea(),w=Ig(),A=0,B=n;A<B.length;A++)ue=e.qn((Y=B[A]).metadata.name),Y.document&&(h=h.add(ue)),_=_.insert(ue,e.Un(Y)),w=w.insert(ue,e.Kn(Y.metadata.readTime));return pe=u.On.newChangeBuffer({trackRemovals:!0}),[4,Ud(u,(ut=s,as(Oc(Ur.fromString("__bundle__/docs/"+ut)))))];case 1:return ze=Le.sent(),[2,u.persistence.runTransaction("Apply bundle documents","readwrite",function(ut){return Cb(ut,pe,_,mr.min(),w).next(function(Mt){return pe.apply(ut),Mt}).next(function(Mt){return u.qe.removeMatchingKeysForTargetId(ut,ze.targetId).next(function(){return u.qe.addMatchingKeys(ut,h,ze.targetId)}).next(function(){return u.Mn.En(ut,Mt)}).next(function(){return Mt})})})]}var ut})})}function Hd(t,e,n){return void 0===n&&(n=si()),(0,V.__awaiter)(this,void 0,void 0,function(){var s,u;return(0,V.__generator)(this,function(h){switch(h.label){case 0:return[4,Ud(t,as(Lg(e.bundledQuery)))];case 1:return s=h.sent(),[2,(u=cn(t)).persistence.runTransaction("Save named query","readwrite",function(_){var w=fo(e.readTime);if(s.snapshotVersion.compareTo(w)>=0)return u.Ke.saveNamedQuery(_,e);var A=s.withResumeToken(ss.EMPTY_BYTE_STRING,w);return u.kn=u.kn.insert(A.targetId,A),u.qe.updateTargetData(_,A).next(function(){return u.qe.removeMatchingKeysForTargetId(_,s.targetId)}).next(function(){return u.qe.addMatchingKeys(_,n,s.targetId)}).next(function(){return u.Ke.saveNamedQuery(_,e)})})]}})})}var ip=function(){function t(e){this.R=e,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(e,n){return Dt.resolve(this.Qn.get(n))},t.prototype.saveBundleMetadata=function(e,n){var s;return this.Qn.set(n.id,{id:(s=n).id,version:s.version,createTime:fo(s.createTime)}),Dt.resolve()},t.prototype.getNamedQuery=function(e,n){return Dt.resolve(this.jn.get(n))},t.prototype.saveNamedQuery=function(e,n){return this.jn.set(n.name,{name:(s=n).name,query:Lg(s.bundledQuery),readTime:fo(s.readTime)}),Dt.resolve();var s},t}(),Nl=function(){function t(){this.Wn=new lo(Ho.Gn),this.zn=new lo(Ho.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(e,n){var s=new Ho(e,n);this.Wn=this.Wn.add(s),this.zn=this.zn.add(s)},t.prototype.Jn=function(e,n){var s=this;e.forEach(function(u){return s.addReference(u,n)})},t.prototype.removeReference=function(e,n){this.Yn(new Ho(e,n))},t.prototype.Xn=function(e,n){var s=this;e.forEach(function(u){return s.removeReference(u,n)})},t.prototype.Zn=function(e){var n=this,s=new Dn(new Ur([])),u=new Ho(s,e),h=new Ho(s,e+1),_=[];return this.zn.forEachInRange([u,h],function(w){n.Yn(w),_.push(w.key)}),_},t.prototype.ts=function(){var e=this;this.Wn.forEach(function(n){return e.Yn(n)})},t.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},t.prototype.es=function(e){var n=new Dn(new Ur([])),s=new Ho(n,e),u=new Ho(n,e+1),h=si();return this.zn.forEachInRange([s,u],function(_){h=h.add(_.key)}),h},t.prototype.containsKey=function(e){var n=new Ho(e,0),s=this.Wn.firstAfterOrEqual(n);return null!==s&&e.isEqual(s.key)},t}(),Ho=function(){function t(e,n){this.key=e,this.ns=n}return t.Gn=function(e,n){return Dn.comparator(e.key,n.key)||Lr(e.ns,n.ns)},t.Hn=function(e,n){return Lr(e.ns,n.ns)||Dn.comparator(e.key,n.key)},t}(),Db=function(){function t(e,n){this.Ut=e,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new lo(Ho.Gn)}return t.prototype.checkEmpty=function(e){return Dt.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(e,n,s,u){var h=this.ss;this.ss++;var _=new ry(h,n,s,u);this._n.push(_);for(var w=0,A=u;w<A.length;w++){var B=A[w];this.rs=this.rs.add(new Ho(B.key,h)),this.Ut.addToCollectionParentIndex(e,B.key.path.popLast())}return Dt.resolve(_)},t.prototype.lookupMutationBatch=function(e,n){return Dt.resolve(this.os(n))},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var u=this.cs(n+1),h=u<0?0:u;return Dt.resolve(this._n.length>h?this._n[h]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Dt.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(e){return Dt.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var s=this,u=new Ho(n,0),h=new Ho(n,Number.POSITIVE_INFINITY),_=[];return this.rs.forEachInRange([u,h],function(w){var A=s.os(w.ns);_.push(A)}),Dt.resolve(_)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var s=this,u=new lo(Lr);return n.forEach(function(h){var _=new Ho(h,0),w=new Ho(h,Number.POSITIVE_INFINITY);s.rs.forEachInRange([_,w],function(A){u=u.add(A.ns)})}),Dt.resolve(this.us(u))},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var s=n.path,u=s.length+1,h=s;Dn.isDocumentKey(h)||(h=h.child(""));var _=new Ho(new Dn(h),0),w=new lo(Lr);return this.rs.forEachWhile(function(A){var B=A.key.path;return!!s.isPrefixOf(B)&&(B.length===u&&(w=w.add(A.ns)),!0)},_),Dt.resolve(this.us(w))},t.prototype.us=function(e){var n=this,s=[];return e.forEach(function(u){var h=n.os(u);null!==h&&s.push(h)}),s},t.prototype.removeMutationBatch=function(e,n){var s=this;Qn(0===this.hs(n.batchId,"removed")),this._n.shift();var u=this.rs;return Dt.forEach(n.mutations,function(h){var _=new Ho(h.key,n.batchId);return u=u.delete(_),s.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(function(){s.rs=u})},t.prototype.Gt=function(e){},t.prototype.containsKey=function(e,n){var s=new Ho(n,0),u=this.rs.firstAfterOrEqual(s);return Dt.resolve(n.isEqual(u&&u.key))},t.prototype.performConsistencyCheck=function(e){return Dt.resolve()},t.prototype.hs=function(e,n){return this.cs(e)},t.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},t.prototype.os=function(e){var n=this.cs(e);return n<0||n>=this._n.length?null:this._n[n]},t}(),Tb=function(){function t(e,n){this.Ut=e,this.ls=n,this.docs=new _o(Dn.comparator),this.size=0}return t.prototype.addEntry=function(e,n,s){var u=n.key,h=this.docs.get(u),_=h?h.size:0,w=this.ls(n);return this.docs=this.docs.insert(u,{document:n.clone(),size:w,readTime:s}),this.size+=w-_,this.Ut.addToCollectionParentIndex(e,u.path.popLast())},t.prototype.removeEntry=function(e){var n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)},t.prototype.getEntry=function(e,n){var s=this.docs.get(n);return Dt.resolve(s?s.document.clone():to.newInvalidDocument(n))},t.prototype.getEntries=function(e,n){var s=this,u=ea();return n.forEach(function(h){var _=s.docs.get(h);u=u.insert(h,_?_.document.clone():to.newInvalidDocument(h))}),Dt.resolve(u)},t.prototype.getDocumentsMatchingQuery=function(e,n,s){for(var u=ea(),h=new Dn(n.path.child("")),_=this.docs.getIteratorFrom(h);_.hasNext();){var w=_.getNext(),B=w.value,Y=B.document,ue=B.readTime;if(!n.path.isPrefixOf(w.key.path))break;ue.compareTo(s)<=0||_f(n,Y)&&(u=u.insert(Y.key,Y.clone()))}return Dt.resolve(u)},t.prototype.fs=function(e,n){return Dt.forEach(this.docs,function(s){return n(s)})},t.prototype.newChangeBuffer=function(e){return new wy(this)},t.prototype.getSize=function(e){return Dt.resolve(this.size)},t}(),wy=function(t){function e(n){var s=this;return(s=t.call(this)||this).Ie=n,s}return(0,V.__extends)(e,t),e.prototype.applyChanges=function(n){var s=this,u=[];return this.changes.forEach(function(h,_){_.document.isValidDocument()?u.push(s.Ie.addEntry(n,_.document,s.getReadTime(h))):s.Ie.removeEntry(h)}),Dt.waitFor(u)},e.prototype.getFromCache=function(n,s){return this.Ie.getEntry(n,s)},e.prototype.getAllFromCache=function(n,s){return this.Ie.getEntries(n,s)},e}(dy),Ey=function(){function t(e){this.persistence=e,this.ds=new Rf(function(n){return yl(n)},vf),this.lastRemoteSnapshotVersion=mr.min(),this.highestTargetId=0,this.ws=0,this._s=new Nl,this.targetCount=0,this.ys=Vd.Jt()}return t.prototype.forEachTarget=function(e,n){return this.ds.forEach(function(s,u){return n(u)}),Dt.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(e){return Dt.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(e){return Dt.resolve(this.ws)},t.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Dt.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ws&&(this.ws=n),Dt.resolve()},t.prototype.te=function(e){this.ds.set(e.target,e);var n=e.targetId;n>this.highestTargetId&&(this.ys=new Vd(n),this.highestTargetId=n),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},t.prototype.addTargetData=function(e,n){return this.te(n),this.targetCount+=1,Dt.resolve()},t.prototype.updateTargetData=function(e,n){return this.te(n),Dt.resolve()},t.prototype.removeTargetData=function(e,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,Dt.resolve()},t.prototype.removeTargets=function(e,n,s){var u=this,h=0,_=[];return this.ds.forEach(function(w,A){A.sequenceNumber<=n&&null===s.get(A.targetId)&&(u.ds.delete(w),_.push(u.removeMatchingKeysForTargetId(e,A.targetId)),h++)}),Dt.waitFor(_).next(function(){return h})},t.prototype.getTargetCount=function(e){return Dt.resolve(this.targetCount)},t.prototype.getTargetData=function(e,n){var s=this.ds.get(n)||null;return Dt.resolve(s)},t.prototype.addMatchingKeys=function(e,n,s){return this._s.Jn(n,s),Dt.resolve()},t.prototype.removeMatchingKeys=function(e,n,s){this._s.Xn(n,s);var u=this.persistence.referenceDelegate,h=[];return u&&n.forEach(function(_){h.push(u.markPotentiallyOrphaned(e,_))}),Dt.waitFor(h)},t.prototype.removeMatchingKeysForTargetId=function(e,n){return this._s.Zn(n),Dt.resolve()},t.prototype.getMatchingKeysForTargetId=function(e,n){var s=this._s.es(n);return Dt.resolve(s)},t.prototype.containsKey=function(e,n){return Dt.resolve(this._s.containsKey(n))},t}(),Sb=function(){function t(e,n){var s=this;this.gs={},this.Ne=new jo(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Ey(this),this.Ut=new bu,this.Ue=new Tb(this.Ut,function(_){return s.referenceDelegate.ps(_)}),this.R=new iy(n),this.Ke=new ip(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(e){var n=this.gs[e.toKey()];return n||(n=new Db(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=n),n},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,s){var u=this;on("MemoryPersistence","Starting transaction:",e);var h=new Gg(this.Ne.next());return this.referenceDelegate.Es(),s(h).next(function(_){return u.referenceDelegate.Ts(h).next(function(){return _})}).toPromise().then(function(_){return h.raiseOnCommittedEvent(),_})},t.prototype.Is=function(e,n){return Dt.or(Object.values(this.gs).map(function(s){return function(){return s.containsKey(e,n)}}))},t}(),Gg=function(t){function e(n){var s=this;return(s=t.call(this)||this).currentSequenceNumber=n,s}return(0,V.__extends)(e,t),e}(ln),QI=function(){function t(e){this.persistence=e,this.As=new Nl,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw xn()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(e,n,s){return this.As.addReference(s,n),this.vs.delete(s.toString()),Dt.resolve()},t.prototype.removeReference=function(e,n,s){return this.As.removeReference(s,n),this.vs.add(s.toString()),Dt.resolve()},t.prototype.markPotentiallyOrphaned=function(e,n){return this.vs.add(n.toString()),Dt.resolve()},t.prototype.removeTarget=function(e,n){var s=this;this.As.Zn(n.targetId).forEach(function(h){return s.vs.add(h.toString())});var u=this.persistence.getTargetCache();return u.getMatchingKeysForTargetId(e,n.targetId).next(function(h){h.forEach(function(_){return s.vs.add(_.toString())})}).next(function(){return u.removeTargetData(e,n)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(e){var n=this,s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Dt.forEach(this.vs,function(u){var h=Dn.fromPath(u);return n.Ps(e,h).next(function(_){_||s.removeEntry(h)})}).next(function(){return n.Rs=null,s.apply(e)})},t.prototype.updateLimboDocument=function(e,n){var s=this;return this.Ps(e,n).next(function(u){u?s.vs.delete(n.toString()):s.vs.add(n.toString())})},t.prototype.ps=function(e){return 0},t.prototype.Ps=function(e,n){var s=this;return Dt.or([function(){return Dt.resolve(s.As.containsKey(n))},function(){return s.persistence.getTargetCache().containsKey(e,n)},function(){return s.persistence.Is(e,n)}])},t}(),Go=function(){function t(e){this.uid=e}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();function JI(t,e){return"firestore_clients_"+t+"_"+e}function Cy(t,e,n){var s="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(s+="_"+e.uid),s}function qg(t,e){return"firestore_targets_"+t+"_"+e}Go.UNAUTHENTICATED=new Go(null),Go.GOOGLE_CREDENTIALS=new Go("google-credentials-uid"),Go.FIRST_PARTY=new Go("first-party-uid"),Go.MOCK_USER=new Go("mock-user");var Ab=function(){function t(e,n,s,u){this.user=e,this.batchId=n,this.state=s,this.error=u}return t.Vs=function(e,n,s){var u,h=JSON.parse(s),_="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return _&&h.error&&(_="string"==typeof h.error.message&&"string"==typeof h.error.code)&&(u=new Ht(h.error.code,h.error.message)),_?new t(e,n,h.state,u):(Di("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+s),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),zg=function(){function t(e,n,s){this.targetId=e,this.state=n,this.error=s}return t.Vs=function(e,n){var s,u=JSON.parse(n),h="object"==typeof u&&-1!==["not-current","current","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return h&&u.error&&(h="string"==typeof u.error.message&&"string"==typeof u.error.code)&&(s=new Ht(u.error.code,u.error.message)),h?new t(e,u.state,s):(Di("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),Mb=function(){function t(e,n){this.clientId=e,this.activeTargetIds=n}return t.Vs=function(e,n){for(var s=JSON.parse(n),u="object"==typeof s&&s.activeTargetIds instanceof Array,h=xd(),_=0;u&&_<s.activeTargetIds.length;++_)u=gl(s.activeTargetIds[_]),h=h.add(s.activeTargetIds[_]);return u?new t(e,h):(Di("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),ZI=function(){function t(e,n){this.clientId=e,this.onlineState=n}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Di("SharedClientState","Failed to parse online state: "+e),null)},t}(),Vs=function(){function t(){this.activeTargetIds=xd()}return t.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),Iy=function(){function t(e,n,s,u,h){this.window=e,this.Se=n,this.persistenceKey=s,this.Ns=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new _o(Lr),this.started=!1,this.$s=[];var _=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=h,this.Os=JI(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new Vs),this.Ls=new RegExp("^firestore_clients_"+_+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+_+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+_+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(w){return"firestore_bundle_loaded_"+w}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return(0,V.__awaiter)(this,void 0,void 0,function(){var e,n,s,u,h,_,w,A,B,Y,pe=this;return(0,V.__generator)(this,function(ze){switch(ze.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=ze.sent(),n=0,s=e;n<s.length;n++)(u=s[n])!==this.Ns&&(h=this.getItem(JI(this.persistenceKey,u)))&&(_=Mb.Vs(u,h))&&(this.Fs=this.Fs.insert(_.clientId,_));for(this.Qs(),(w=this.storage.getItem(this.Us))&&(A=this.js(w))&&this.Ws(A),B=0,Y=this.$s;B<Y.length;B++)this.ks(Y[B]);return this.$s=[],this.window.addEventListener("pagehide",function(){return pe.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(e){var n=!1;return this.Fs.forEach(function(s,u){u.activeTargetIds.has(e)&&(n=!0)}),n},t.prototype.addPendingMutation=function(e){this.zs(e,"pending")},t.prototype.updateMutationState=function(e,n,s){this.zs(e,n,s),this.Hs(e)},t.prototype.addLocalQueryTarget=function(e){var n="not-current";if(this.isActiveQueryTarget(e)){var s=this.storage.getItem(qg(this.persistenceKey,e));if(s){var u=zg.Vs(e,s);u&&(n=u.state)}}return this.Js.Ds(e),this.Qs(),n},t.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},t.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){this.removeItem(qg(this.persistenceKey,e))},t.prototype.updateQueryState=function(e,n,s){this.Ys(e,n,s)},t.prototype.handleUserChange=function(e,n,s){var u=this;n.forEach(function(h){u.Hs(h)}),this.currentUser=e,s.forEach(function(h){u.addPendingMutation(h)})},t.prototype.setOnlineState=function(e){this.Xs(e)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(e){var n=this.storage.getItem(e);return on("SharedClientState","READ",e,n),n},t.prototype.setItem=function(e,n){on("SharedClientState","SET",e,n),this.storage.setItem(e,n)},t.prototype.removeItem=function(e){on("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.ks=function(e){var n=this,s=e;if(s.storageArea===this.storage){if(on("SharedClientState","EVENT",s.key,s.newValue),s.key===this.Os)return void Di("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,V.__awaiter)(n,void 0,void 0,function(){var u,h,_,w,A,B;return(0,V.__generator)(this,function(Y){if(this.started){if(null!==s.key)if(this.Ls.test(s.key)){if(null==s.newValue)return u=this.ti(s.key),[2,this.ei(u,null)];if(h=this.ni(s.key,s.newValue))return[2,this.ei(h.clientId,h)]}else if(this.Bs.test(s.key)){if(null!==s.newValue&&(_=this.si(s.key,s.newValue)))return[2,this.ii(_)]}else if(this.qs.test(s.key)){if(null!==s.newValue&&(w=this.ri(s.key,s.newValue)))return[2,this.oi(w)]}else if(s.key===this.Us){if(null!==s.newValue&&(A=this.js(s.newValue)))return[2,this.Ws(A)]}else if(s.key===this.Ms)(B=function(ue){var pe=jo.o;if(null!=ue)try{var ze=JSON.parse(ue);Qn("number"==typeof ze),pe=ze}catch(Le){Di("SharedClientState","Failed to read sequence number from WebStorage",Le)}return pe}(s.newValue))!==jo.o&&this.sequenceNumberHandler(B);else if(s.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(s);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(e,n,s){var u=new Ab(this.currentUser,e,n,s),h=Cy(this.persistenceKey,this.currentUser,e);this.setItem(h,u.Ss())},t.prototype.Hs=function(e){var n=Cy(this.persistenceKey,this.currentUser,e);this.removeItem(n)},t.prototype.Xs=function(e){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:e}))},t.prototype.Ys=function(e,n,s){var u=qg(this.persistenceKey,e),h=new zg(e,n,s);this.setItem(u,h.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(e){var n=this.Ls.exec(e);return n?n[1]:null},t.prototype.ni=function(e,n){var s=this.ti(e);return Mb.Vs(s,n)},t.prototype.si=function(e,n){var s=this.Bs.exec(e),u=Number(s[1]);return Ab.Vs(new Go(void 0!==s[2]?s[2]:null),u,n)},t.prototype.ri=function(e,n){var s=this.qs.exec(e),u=Number(s[1]);return zg.Vs(u,n)},t.prototype.js=function(e){return ZI.Vs(e)},t.prototype.ii=function(e){return(0,V.__awaiter)(this,void 0,void 0,function(){return(0,V.__generator)(this,function(n){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(on("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},t.prototype.ei=function(e,n){var s=this,u=n?this.Fs.insert(e,n):this.Fs.remove(e),h=this.Gs(this.Fs),_=this.Gs(u),w=[],A=[];return _.forEach(function(B){h.has(B)||w.push(B)}),h.forEach(function(B){_.has(B)||A.push(B)}),this.syncEngine.hi(w,A).then(function(){s.Fs=u})},t.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},t.prototype.Gs=function(e){var n=xd();return e.forEach(function(s,u){n=n.unionWith(u.activeTargetIds)}),n},t}(),Rb=function(){function t(){this.li=new Vs,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(e){},t.prototype.updateMutationState=function(e,n,s){},t.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},t.prototype.updateQueryState=function(e,n,s){this.fi[e]=n},t.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},t.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){delete this.fi[e]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.start=function(){return this.li=new Vs,Promise.resolve()},t.prototype.handleUserChange=function(e,n,s){},t.prototype.setOnlineState=function(e){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(e){},t.prototype.notifyBundleLoaded=function(){},t}(),b1=function(){function t(){}return t.prototype.di=function(e){},t.prototype.shutdown=function(){},t}(),eD=function(){function t(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return t.prototype.di=function(e){this.gi.push(e)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){on("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(0)},t.prototype.yi=function(){on("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),xb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},w1=function(){function t(e){this.Ei=e.Ei,this.Ti=e.Ti}return t.prototype.Ii=function(e){this.Ai=e},t.prototype.Ri=function(e){this.bi=e},t.prototype.onMessage=function(e){this.vi=e},t.prototype.close=function(){this.Ti()},t.prototype.send=function(e){this.Ei(e)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(e){this.bi(e)},t.prototype.Si=function(e){this.vi(e)},t}(),tD=function(t){function e(n){var s=this;return(s=t.call(this,n)||this).forceLongPolling=n.forceLongPolling,s.autoDetectLongPolling=n.autoDetectLongPolling,s.useFetchStreams=n.useFetchStreams,s}return(0,V.__extends)(e,t),e.prototype.Fi=function(n,s,u,h){return new Promise(function(_,w){var A=new qu;A.listenOnce(Fv.COMPLETE,function(){try{switch(A.getLastErrorCode()){case gd.NO_ERROR:var Y=A.getResponseJson();on("Connection","XHR received:",JSON.stringify(Y)),_(Y);break;case gd.TIMEOUT:on("Connection",'RPC "'+n+'" timed out'),w(new Ht(Tt.DEADLINE_EXCEEDED,"Request time out"));break;case gd.HTTP_ERROR:var ue=A.getStatus();if(on("Connection",'RPC "'+n+'" failed with status:',ue,"response text:",A.getResponseText()),ue>0){var pe=A.getResponseJson().error;if(pe&&pe.status&&pe.message){var ze=(ut=pe.status.toLowerCase().replace(/_/g,"-"),Object.values(Tt).indexOf(ut)>=0?ut:Tt.UNKNOWN);w(new Ht(ze,pe.message))}else w(new Ht(Tt.UNKNOWN,"Server responded with status "+A.getStatus()))}else w(new Ht(Tt.UNAVAILABLE,"Connection failed."));break;default:xn()}}finally{on("Connection",'RPC "'+n+'" completed.')}var ut});var B=JSON.stringify(h);A.send(s,"POST",B,u,15)})},e.prototype.Oi=function(n,s){var u=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],h=new os,_=oe(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(w.xmlHttpFactory=new _s({})),this.ki(w.initMessageHeaders,s),(0,un.isMobileCordova)()||(0,un.isReactNative)()||(0,un.isElectron)()||(0,un.isIE)()||(0,un.isUWP)()||(0,un.isBrowserExtension)()||(w.httpHeadersOverwriteParam="$httpHeaders");var A=u.join("");on("Connection","Creating WebChannel: "+A,w);var B=h.createWebChannel(A,w),Y=!1,ue=!1,pe=new w1({Ei:function(Le){ue?on("Connection","Not sending because WebChannel is closed:",Le):(Y||(on("Connection","Opening WebChannel transport."),B.open(),Y=!0),on("Connection","WebChannel sending:",Le),B.send(Le))},Ti:function(){return B.close()}}),ze=function(Le,ut,Mt){Le.listen(ut,function(Wt){try{Mt(Wt)}catch(hn){setTimeout(function(){throw hn},0)}})};return ze(B,Qs.EventType.OPEN,function(){ue||on("Connection","WebChannel transport opened.")}),ze(B,Qs.EventType.CLOSE,function(){ue||(ue=!0,on("Connection","WebChannel transport closed"),pe.Vi())}),ze(B,Qs.EventType.ERROR,function(Le){ue||(ue=!0,zu("Connection","WebChannel transport errored:",Le),pe.Vi(new Ht(Tt.UNAVAILABLE,"The operation could not be completed")))}),ze(B,Qs.EventType.MESSAGE,function(Le){var ut;if(!ue){var Mt=Le.data[0];Qn(!!Mt);var hn=Mt.error||(null===(ut=Mt[0])||void 0===ut?void 0:ut.error);if(hn){on("Connection","WebChannel received error:",hn);var bn=hn.status,tr=function(an){var Ai=kr[an];if(void 0!==Ai)return Zs(Ai)}(bn),Yn=hn.message;void 0===tr&&(tr=Tt.INTERNAL,Yn="Unknown error status: "+bn+" with message "+hn.message),ue=!0,pe.Vi(new Ht(tr,Yn)),B.close()}else on("Connection","WebChannel received:",Mt),pe.Si(Mt)}}),ze(_,dg.STAT_EVENT,function(Le){Le.stat===Sc_PROXY?on("Connection","Detected buffering proxy"):Le.stat===Sc_NOPROXY&&on("Connection","Detected no buffering proxy")}),setTimeout(function(){pe.Pi()},0),pe},e}(function(){function t(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Di=(e.ssl?"https":"http")+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(e,n,s,u){var h=this.xi(e,n);on("RestConnection","Sending: ",h,s);var _={};return this.ki(_,u),this.Fi(e,h,_,s).then(function(w){return on("RestConnection","Received: ",w),w},function(w){throw zu("RestConnection",e+" failed with error: ",w,"url: ",h,"request:",s),w})},t.prototype.$i=function(e,n,s,u){return this.Ni(e,n,s,u)},t.prototype.ki=function(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var s in n.authHeaders)n.authHeaders.hasOwnProperty(s)&&(e[s]=n.authHeaders[s])},t.prototype.xi=function(e,n){return this.Di+"/v1/"+n+":"+xb[e]},t}());function Wg(){return"undefined"!=typeof window?window:null}function op(){return"undefined"!=typeof document?document:null}function sp(t){return new Tl(t,!0)}var Dy=function(){function t(e,n,s,u,h){void 0===s&&(s=1e3),void 0===u&&(u=1.5),void 0===h&&(h=6e4),this.Se=e,this.timerId=n,this.Mi=s,this.Li=u,this.Bi=h,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(e){var n=this;this.cancel();var s=Math.floor(this.qi+this.Wi()),u=Math.max(0,Date.now()-this.Ki),h=Math.max(0,s-u);h>0&&on("ExponentialBackoff","Backing off for "+h+" ms (base delay: "+this.qi+" ms, delay with jitter: "+s+" ms, last attempt: "+u+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,h,function(){return n.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),kb=function(){function t(e,n,s,u,h,_){this.Se=e,this.zi=s,this.Hi=u,this.Ji=h,this.listener=_,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Dy(e,n)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,V.__awaiter)(this,void 0,void 0,function(){return(0,V.__generator)(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},t.prototype.cr=function(e){this.ur(),this.stream.send(e)},t.prototype.rr=function(){return(0,V.__awaiter)(this,void 0,void 0,function(){return(0,V.__generator)(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(e,n){return(0,V.__awaiter)(this,void 0,void 0,function(){return(0,V.__generator)(this,function(s){switch(s.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():n&&n.code===Tt.RESOURCE_EXHAUSTED?(Di(n.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===Tt.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(n)];case 1:return s.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var e=this;this.state=1;var n=this.hr(this.Yi),s=this.Yi;this.Ji.getToken().then(function(u){e.Yi===s&&e.lr(u)},function(u){n(function(){var h=new Ht(Tt.UNKNOWN,"Fetching auth token failed: "+u.message);return e.dr(h)})})},t.prototype.lr=function(e){var n=this,s=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){s(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(u){s(function(){return n.dr(u)})}),this.stream.onMessage(function(u){s(function(){return n.onMessage(u)})})},t.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return(0,V.__awaiter)(e,void 0,void 0,function(){return(0,V.__generator)(this,function(n){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(e){return on("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.hr=function(e){var n=this;return function(s){n.Se.enqueueAndForget(function(){return n.Yi===e?s():(on("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Ob=function(t){function e(n,s,u,h,_){var w=this;return(w=t.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",s,u,_)||this).R=h,w}return(0,V.__extends)(e,t),e.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},e.prototype.onMessage=function(n){this.Zi.reset();var s=function(h,_){var w,Mt;if("targetChange"in _){var A="NO_CHANGE"===(Mt=_.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Mt?1:"REMOVE"===Mt?2:"CURRENT"===Mt?3:"RESET"===Mt?4:xn(),B=_.targetChange.targetIds||[],Y=function(Mt,Wt){return Mt.I?(Qn(void 0===Wt||"string"==typeof Wt),ss.fromBase64String(Wt||"")):(Qn(void 0===Wt||Wt instanceof Uint8Array),ss.fromUint8Array(Wt||new Uint8Array))}(h,_.targetChange.resumeToken),ue=(pe=_.targetChange.cause)&&function(Mt){var Wt=void 0===Mt.code?Tt.UNKNOWN:Zs(Mt.code);return new Ht(Wt,Mt.message||"")}(pe);w=new Tg(A,B,Y,ue||null)}else if("documentChange"in _){B=na(h,(A=_.documentChange).document.name),Y=fo(A.document.updateTime);var pe=new Pi({mapValue:{fields:A.document.fields}}),ze=(ue=to.newFoundDocument(B,Y,pe),A.targetIds||[]);w=new Tf(ze,A.removedTargetIds||[],ue.key,ue)}else if("documentDelete"in _)B=na(h,(A=_.documentDelete).document),Y=A.readTime?fo(A.readTime):mr.min(),pe=to.newNoDocument(B,Y),w=new Tf([],ue=A.removedTargetIds||[],pe.key,pe);else if("documentRemove"in _)B=na(h,(A=_.documentRemove).document),w=new Tf([],Y=A.removedTargetIds||[],B,null);else{if(!("filter"in _))return xn();var ut=_.filter;B=new Cg(A=ut.count||0),w=new Dg(Y=ut.targetId,B)}return w}(this.R,n),u=function(h){if(!("targetChange"in h))return mr.min();var _=h.targetChange;return _.targetIds&&_.targetIds.length?mr.min():_.readTime?fo(_.readTime):mr.min()}(n);return this.listener._r(s,u)},e.prototype.mr=function(n){var h,_,w,A,s={};s.database=mu(this.R),s.addTarget=(h=this.R,(w=_l(A=(_=n).target)?{documents:xg(h,A)}:{query:Bs(h,A)}).targetId=_.targetId,_.resumeToken.approximateByteSize()>0?w.resumeToken=Kv(h,_.resumeToken):_.snapshotVersion.compareTo(mr.min())>0&&(w.readTime=cs(h,_.snapshotVersion.toTimestamp())),w);var u=function(h,_){var w=function(A,B){switch(B){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return xn()}}(0,_.purpose);return null==w?null:{"goog-listen-tags":w}}(0,n);u&&(s.labels=u),this.cr(s)},e.prototype.yr=function(n){var s={};s.database=mu(this.R),s.removeTarget=n,this.cr(s)},e}(kb),nD=function(t){function e(n,s,u,h,_){var w=this;return(w=t.call(this,n,"write_stream_connection_backoff","write_stream_idle",s,u,_)||this).R=h,w.gr=!1,w}return(0,V.__extends)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(n){return this.Hi.Oi("Write",n)},e.prototype.onMessage=function(n){if(Qn(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var s=(_=n.commitTime,(h=n.writeResults)&&h.length>0?(Qn(void 0!==_),h.map(function(w){return B=_,(Y=fo((A=w).updateTime?A.updateTime:B)).isEqual(mr.min())&&(Y=fo(B)),new Dl(Y,A.transformResults||[]);var A,B,Y})):[]),u=fo(n.commitTime);return this.listener.Tr(u,s)}var h,_;return Qn(!n.writeResults||0===n.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var n={};n.database=mu(this.R),this.cr(n)},e.prototype.Er=function(n){var s=this,u={streamToken:this.lastStreamToken,writes:n.map(function(h){return Sl(s.R,h)})};this.cr(u)},e}(kb),Nb=function(t){function e(n,s,u){var h=this;return(h=t.call(this)||this).credentials=n,h.Hi=s,h.R=u,h.Rr=!1,h}return(0,V.__extends)(e,t),e.prototype.br=function(){if(this.Rr)throw new Ht(Tt.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(n,s,u){var h=this;return this.br(),this.credentials.getToken().then(function(_){return h.Hi.Ni(n,s,u,_)}).catch(function(_){throw"FirebaseError"===_.name?(_.code===Tt.UNAUTHENTICATED&&h.credentials.invalidateToken(),_):new Ht(Tt.UNKNOWN,_.toString())})},e.prototype.$i=function(n,s,u){var h=this;return this.br(),this.credentials.getToken().then(function(_){return h.Hi.$i(n,s,u,_)}).catch(function(_){throw"FirebaseError"===_.name?(_.code===Tt.UNAUTHENTICATED&&h.credentials.invalidateToken(),_):new Ht(Tt.UNKNOWN,_.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),rD=function(){function t(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},t.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},t.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},t.prototype.Cr=function(e){var n="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Di(n),this.Vr=!1):on("OnlineStateTracker",n)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),iD=function(t,e,n,s,u){var h=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=u,this.Lr.di(function(_){n.enqueueAndForget(function(){return(0,V.__awaiter)(h,void 0,void 0,function(){return(0,V.__generator)(this,function(w){switch(w.label){case 0:return Hc(this)?(on("RemoteStore","Restarting streams for network reachability change."),[4,function(A){return(0,V.__awaiter)(this,void 0,void 0,function(){var B;return(0,V.__generator)(this,function(Y){switch(Y.label){case 0:return(B=cn(A)).Or.add(4),[4,Of(B)];case 1:return Y.sent(),B.Br.set("Unknown"),B.Or.delete(4),[4,Gd(B)];case 2:return Y.sent(),[2]}})})}(this)]):[3,2];case 1:w.sent(),w.label=2;case 2:return[2]}})})})}),this.Br=new rD(n,s)};function Gd(t){return(0,V.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,V.__generator)(this,function(s){switch(s.label){case 0:if(!Hc(t))return[3,4];e=0,n=t.Mr,s.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:s.sent(),s.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Of(t){return(0,V.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,V.__generator)(this,function(s){switch(s.label){case 0:e=0,n=t.Mr,s.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:s.sent(),s.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Yg(t,e){var n=cn(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Fb(n)?Ty(n):Pl(n).er()&&ap(n,e))}function oa(t,e){var n=cn(t),s=Pl(n);n.$r.delete(e),s.er()&&Pb(n,e),0===n.$r.size&&(s.er()?s.ir():Hc(n)&&n.Br.set("Unknown"))}function ap(t,e){t.qr.U(e.targetId),Pl(t).mr(e)}function Pb(t,e){t.qr.U(e),Pl(t).yr(e)}function Ty(t){t.qr=new Yv({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Pl(t).start(),t.Br.Sr()}function Fb(t){return Hc(t)&&!Pl(t).tr()&&t.$r.size>0}function Hc(t){return 0===cn(t).Or.size}function Lb(t){t.qr=void 0}function oD(t){return(0,V.__awaiter)(this,void 0,void 0,function(){return(0,V.__generator)(this,function(e){return t.$r.forEach(function(n,s){ap(t,n)}),[2]})})}function sD(t,e){return(0,V.__awaiter)(this,void 0,void 0,function(){return(0,V.__generator)(this,function(n){return Lb(t),Fb(t)?(t.Br.Nr(e),Ty(t)):t.Br.set("Unknown"),[2]})})}function Sy(t,e,n){return(0,V.__awaiter)(this,void 0,void 0,function(){var s,u,h;return(0,V.__generator)(this,function(_){switch(_.label){case 0:if(t.Br.set("Online"),!(e instanceof Tg&&2===e.state&&e.cause))return[3,6];_.label=1;case 1:return _.trys.push([1,3,,5]),[4,function(w,A){return(0,V.__awaiter)(this,void 0,void 0,function(){var B,Y,ue,pe;return(0,V.__generator)(this,function(ze){switch(ze.label){case 0:B=A.cause,Y=0,ue=A.targetIds,ze.label=1;case 1:return Y<ue.length?w.$r.has(pe=ue[Y])?[4,w.remoteSyncer.rejectListen(pe,B)]:[3,3]:[3,5];case 2:ze.sent(),w.$r.delete(pe),w.qr.removeTarget(pe),ze.label=3;case 3:ze.label=4;case 4:return Y++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return _.sent(),[3,5];case 3:return s=_.sent(),on("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),[4,Kg(t,s)];case 4:return _.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Tf?t.qr.X(e):e instanceof Dg?t.qr.rt(e):t.qr.et(e),n.isEqual(mr.min()))return[3,13];_.label=7;case 7:return _.trys.push([7,11,,13]),[4,$c(t.localStore)];case 8:return u=_.sent(),n.compareTo(u)>=0?[4,(w=t,A=n,B=w.qr.ut(A),B.targetChanges.forEach(function(Y,ue){if(Y.resumeToken.approximateByteSize()>0){var pe=w.$r.get(ue);pe&&w.$r.set(ue,pe.withResumeToken(Y.resumeToken,A))}}),B.targetMismatches.forEach(function(Y){var ue=w.$r.get(Y);if(ue){w.$r.set(Y,ue.withResumeToken(ss.EMPTY_BYTE_STRING,ue.snapshotVersion)),Pb(w,Y);var pe=new Fg(ue.target,Y,1,ue.sequenceNumber);ap(w,pe)}}),w.remoteSyncer.applyRemoteEvent(B))]:[3,10];case 9:_.sent(),_.label=10;case 10:return[3,13];case 11:return on("RemoteStore","Failed to raise snapshot:",h=_.sent()),[4,Kg(t,h)];case 12:return _.sent(),[3,13];case 13:return[2]}var w,A,B})})}function Kg(t,e,n){return(0,V.__awaiter)(this,void 0,void 0,function(){var s=this;return(0,V.__generator)(this,function(u){switch(u.label){case 0:if(!ba(e))throw e;return t.Or.add(1),[4,Of(t)];case 1:return u.sent(),t.Br.set("Offline"),n||(n=function(){return $c(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,V.__awaiter)(s,void 0,void 0,function(){return(0,V.__generator)(this,function(h){switch(h.label){case 0:return on("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return h.sent(),t.Or.delete(1),[4,Gd(t)];case 2:return h.sent(),[2]}})})}),[2]}})})}function Bb(t,e){return e().catch(function(n){return Kg(t,n,e)})}function Gc(t){return(0,V.__awaiter)(this,void 0,void 0,function(){var e,n,s,u,h;return(0,V.__generator)(this,function(_){switch(_.label){case 0:e=cn(t),n=Nf(e),s=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,_.label=1;case 1:if(!(Hc(w=e)&&w.Fr.length<10))return[3,7];_.label=2;case 2:return _.trys.push([2,4,,6]),[4,_y(e.localStore,s)];case 3:return null===(u=_.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(s=u.batchId,function(w,A){w.Fr.push(A);var B=Nf(w);B.er()&&B.pr&&B.Er(A.mutations)}(e,u),[3,6]);case 4:return h=_.sent(),[4,Kg(e,h)];case 5:return _.sent(),[3,6];case 6:return[3,1];case 7:return Xg(e)&&Vb(e),[2]}var w})})}function Xg(t){return Hc(t)&&!Nf(t).tr()&&t.Fr.length>0}function Vb(t){Nf(t).start()}function Ay(t){return(0,V.__awaiter)(this,void 0,void 0,function(){return(0,V.__generator)(this,function(e){return Nf(t).Ar(),[2]})})}function My(t){return(0,V.__awaiter)(this,void 0,void 0,function(){var e,n,s;return(0,V.__generator)(this,function(h){for(e=Nf(t),n=0,s=t.Fr;n<s.length;n++)e.Er(s[n].mutations);return[2]})})}function Ub(t,e,n){return(0,V.__awaiter)(this,void 0,void 0,function(){var s,u;return(0,V.__generator)(this,function(h){switch(h.label){case 0:return s=t.Fr.shift(),u=_u.from(s,e,n),[4,Bb(t,function(){return t.remoteSyncer.applySuccessfulWrite(u)})];case 1:return h.sent(),[4,Gc(t)];case 2:return h.sent(),[2]}})})}function aD(t,e){return(0,V.__awaiter)(this,void 0,void 0,function(){return(0,V.__generator)(this,function(n){switch(n.label){case 0:return e&&Nf(t).pr?[4,function(s,u){return(0,V.__awaiter)(this,void 0,void 0,function(){var h,_;return(0,V.__generator)(this,function(w){switch(w.label){case 0:return Ad(_=u.code)&&_!==Tt.ABORTED?(h=s.Fr.shift(),Nf(s).sr(),[4,Bb(s,function(){return s.remoteSyncer.rejectFailedWrite(h.batchId,u)})]):[3,3];case 1:return w.sent(),[4,Gc(s)];case 2:w.sent(),w.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Xg(t)&&Vb(t),[2]}})})}function Ry(t,e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n;return(0,V.__generator)(this,function(s){switch(s.label){case 0:return n=cn(t),e?(n.Or.delete(2),[4,Gd(n)]):[3,2];case 1:return s.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Of(n)]);case 3:s.sent(),n.Br.set("Unknown"),s.label=4;case 4:s.label=5;case 5:return[2]}})})}function Pl(t){var n,s,u,h,e=this;return t.Ur||(t.Ur=(n=t.datastore,s=t.asyncQueue,u={Ii:oD.bind(null,t),Ri:sD.bind(null,t),_r:Sy.bind(null,t)},(h=cn(n)).br(),new Ob(s,h.Hi,h.credentials,h.R,u)),t.Mr.push(function(n){return(0,V.__awaiter)(e,void 0,void 0,function(){return(0,V.__generator)(this,function(s){switch(s.label){case 0:return n?(t.Ur.sr(),Fb(t)?Ty(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:s.sent(),Lb(t),s.label=3;case 3:return[2]}})})})),t.Ur}function Nf(t){var n,s,u,h,e=this;return t.Kr||(t.Kr=(n=t.datastore,s=t.asyncQueue,u={Ii:Ay.bind(null,t),Ri:aD.bind(null,t),Ir:My.bind(null,t),Tr:Ub.bind(null,t)},(h=cn(n)).br(),new nD(s,h.Hi,h.credentials,h.R,u)),t.Mr.push(function(n){return(0,V.__awaiter)(e,void 0,void 0,function(){return(0,V.__generator)(this,function(s){switch(s.label){case 0:return n?(t.Kr.sr(),[4,Gc(t)]):[3,2];case 1:return s.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:s.sent(),t.Fr.length>0&&(on("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),s.label=4;case 4:return[2]}})})})),t.Kr}var uD=function(){function t(e,n,s,u,h){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=u,this.removalCallback=h,this.deferred=new Cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(_){})}return t.createAndSchedule=function(e,n,s,u,h){var _=new t(e,n,Date.now()+s,u,h);return _.start(s),_},t.prototype.start=function(e){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},e)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ht(Tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(n){return e.deferred.resolve(n)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Pf(t,e){if(Di("AsyncQueue",e+": "+t),ba(t))return new Ht(Tt.UNAVAILABLE,e+": "+t);throw t}var xy=function(){function t(e){this.comparator=e?function(n,s){return e(n,s)||Dn.comparator(n.key,s.key)}:function(n,s){return Dn.comparator(n.key,s.key)},this.keyedMap=Df(),this.sortedSet=new _o(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(e){return null!=this.keyedMap.get(e)},t.prototype.get=function(e){return this.keyedMap.get(e)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(e){var n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(n,s){return e(n),!1})},t.prototype.add=function(e){var n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))},t.prototype.delete=function(e){var n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();n.hasNext();){var u=n.getNext().key,h=s.getNext().key;if(!u.isEqual(h))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(n){e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var s=new t;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s},t}(),ky=function(){function t(){this.Qr=new _o(Dn.comparator)}return t.prototype.track=function(e){var n=e.doc.key,s=this.Qr.get(n);s?0!==e.type&&3===s.type?this.Qr=this.Qr.insert(n,e):3===e.type&&1!==s.type?this.Qr=this.Qr.insert(n,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Qr=this.Qr.insert(n,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Qr=this.Qr.remove(n):1===e.type&&2===s.type?this.Qr=this.Qr.insert(n,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):xn():this.Qr=this.Qr.insert(n,e)},t.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(n,s){e.push(s)}),e},t}(),up=function(){function t(e,n,s,u,h,_,w,A){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=h,this.fromCache=_,this.syncStateChanged=w,this.excludesMetadataChanges=A}return t.fromInitialDocuments=function(e,n,s,u){var h=[];return n.forEach(function(_){h.push({type:0,doc:_})}),new t(e,n,xy.emptySet(n),h,s,u,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&El(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(var u=0;u<n.length;u++)if(n[u].type!==s[u].type||!n[u].doc.isEqual(s[u].doc))return!1;return!0},t}(),jb=function(){this.Wr=void 0,this.listeners=[]},qc=function(){this.queries=new Rf(function(t){return Cl(t)},El),this.onlineState="Unknown",this.Gr=new Set};function qd(t,e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n,s,u,h,_,w,A;return(0,V.__generator)(this,function(B){switch(B.label){case 0:if(n=cn(t),u=!1,(h=n.queries.get(s=e.query))||(u=!0,h=new jb),!u)return[3,4];B.label=1;case 1:return B.trys.push([1,3,,4]),_=h,[4,n.onListen(s)];case 2:return _.Wr=B.sent(),[3,4];case 3:return w=B.sent(),A=Pf(w,"Initialization of query '"+wg(e.query)+"' failed"),[2,void e.onError(A)];case 4:return n.queries.set(s,h),h.listeners.push(e),e.zr(n.onlineState),h.Wr&&e.Hr(h.Wr)&&cp(n),[2]}})})}function Oy(t,e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n,s,u,h,_;return(0,V.__generator)(this,function(w){return n=cn(t),u=!1,(h=n.queries.get(s=e.query))&&(_=h.listeners.indexOf(e))>=0&&(h.listeners.splice(_,1),u=0===h.listeners.length),u?[2,(n.queries.delete(s),n.onUnlisten(s))]:[2]})})}function cD(t,e){for(var n=cn(t),s=!1,u=0,h=e;u<h.length;u++){var _=h[u],A=n.queries.get(_.query);if(A){for(var B=0,Y=A.listeners;B<Y.length;B++)Y[B].Hr(_)&&(s=!0);A.Wr=_}}s&&cp(n)}function E1(t,e,n){var s=cn(t),u=s.queries.get(e);if(u)for(var h=0,_=u.listeners;h<_.length;h++)_[h].onError(n);s.queries.delete(e)}function cp(t){t.Gr.forEach(function(e){e.next()})}var Qg=function(){function t(e,n,s){this.query=e,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=s||{}}return t.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var n=[],s=0,u=e.docChanges;s<u.length;s++){var h=u[s];3!==h.type&&n.push(h)}e=new up(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var _=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),_=!0):this.eo(e,this.onlineState)&&(this.no(e),_=!0),this.Xr=e,_},t.prototype.onError=function(e){this.Jr.error(e)},t.prototype.zr=function(e){this.onlineState=e;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),n=!0),n},t.prototype.eo=function(e,n){return!e.fromCache||!(this.options.so&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)},t.prototype.Zr=function(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(e){e=up.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},t}(),Ny=function(){function t(e,n){this.payload=e,this.byteLength=n}return t.prototype.io=function(){return"metadata"in this.payload},t}(),zd=function(){function t(e){this.R=e}return t.prototype.qn=function(e){return na(this.R,e)},t.prototype.Un=function(e){return e.metadata.exists?kd(this.R,e.document,!1):to.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},t.prototype.Kn=function(e){return fo(e)},t}(),lD=function(){function t(e,n,s){this.ro=e,this.localStore=n,this.R=s,this.queries=[],this.documents=[],this.progress=Jg(e)}return t.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var n=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},t.prototype.co=function(e){for(var n=new Map,s=new zd(this.R),u=0,h=e;u<h.length;u++){var _=h[u];if(_.metadata.queries)for(var w=s.qn(_.metadata.name),A=0,B=_.metadata.queries;A<B.length;A++){var Y=B[A],ue=(n.get(Y)||si()).add(w);n.set(Y,ue)}}return n},t.prototype.complete=function(){return(0,V.__awaiter)(this,void 0,void 0,function(){var e,n,s,u,h;return(0,V.__generator)(this,function(_){switch(_.label){case 0:return[4,by(this.localStore,new zd(this.R),this.documents,this.ro.id)];case 1:e=_.sent(),n=this.co(this.documents),s=0,u=this.queries,_.label=2;case 2:return s<u.length?[4,Hd(this.localStore,h=u[s],n.get(h.name))]:[3,5];case 3:_.sent(),_.label=4;case 4:return s++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Ol(Object.assign({},this.progress),e))]}})})},t}();function Jg(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var Py=function(t){this.key=t},Fy=function(t){this.key=t},Ly=function(){function t(e,n){this.query=e,this.uo=n,this.ao=null,this.current=!1,this.ho=si(),this.mutatedKeys=si(),this.lo=bf(e),this.fo=new xy(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(e,n){var s=this,u=n?n.mo:new ky,h=n?n.fo:this.fo,_=n?n.mutatedKeys:this.mutatedKeys,w=h,A=!1,B=Bh(this.query)&&h.size===this.query.limit?h.last():null,Y=Id(this.query)&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal(function(pe,ze){var Le=h.get(pe),ut=_f(s.query,ze)?ze:null,Mt=!!Le&&s.mutatedKeys.has(Le.key),Wt=!!ut&&(ut.hasLocalMutations||s.mutatedKeys.has(ut.key)&&ut.hasCommittedMutations),hn=!1;Le&&ut?Le.data.isEqual(ut.data)?Mt!==Wt&&(u.track({type:3,doc:ut}),hn=!0):s.yo(Le,ut)||(u.track({type:2,doc:ut}),hn=!0,(B&&s.lo(ut,B)>0||Y&&s.lo(ut,Y)<0)&&(A=!0)):!Le&&ut?(u.track({type:0,doc:ut}),hn=!0):Le&&!ut&&(u.track({type:1,doc:Le}),hn=!0,(B||Y)&&(A=!0)),hn&&(ut?(w=w.add(ut),_=Wt?_.add(pe):_.delete(pe)):(w=w.delete(pe),_=_.delete(pe)))}),Bh(this.query)||Id(this.query))for(;w.size>this.query.limit;){var ue=Bh(this.query)?w.last():w.first();w=w.delete(ue.key),_=_.delete(ue.key),u.track({type:1,doc:ue})}return{fo:w,mo:u,Nn:A,mutatedKeys:_}},t.prototype.yo=function(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},t.prototype.applyChanges=function(e,n,s){var u=this,h=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var _=e.mo.jr();_.sort(function(Y,ue){return ze=ue.type,(Le=function(ut){switch(ut){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xn()}})(Y.type)-Le(ze)||u.lo(Y.doc,ue.doc);var ze,Le}),this.po(s);var w=n?this.Eo():[],A=0===this.ho.size&&this.current?1:0,B=A!==this.ao;return this.ao=A,0!==_.length||B?{snapshot:new up(this.query,e.fo,h,_,e.mutatedKeys,0===A,B,!1),To:w}:{To:w}},t.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new ky,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},t.prototype.po=function(e){var n=this;e&&(e.addedDocuments.forEach(function(s){return n.uo=n.uo.add(s)}),e.modifiedDocuments.forEach(function(s){}),e.removedDocuments.forEach(function(s){return n.uo=n.uo.delete(s)}),this.current=e.current)},t.prototype.Eo=function(){var e=this;if(!this.current)return[];var n=this.ho;this.ho=si(),this.fo.forEach(function(u){e.Io(u.key)&&(e.ho=e.ho.add(u.key))});var s=[];return n.forEach(function(u){e.ho.has(u)||s.push(new Fy(u))}),this.ho.forEach(function(u){n.has(u)||s.push(new Py(u))}),s},t.prototype.Ao=function(e){this.uo=e.Bn,this.ho=si();var n=this._o(e.documents);return this.applyChanges(n,!0)},t.prototype.Ro=function(){return up.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),fD=function(t,e,n){this.query=t,this.targetId=e,this.view=n},By=function(t){this.key=t,this.bo=!1},dD=function(){function t(e,n,s,u,h,_){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=_,this.vo={},this.Po=new Rf(function(w){return Cl(w)},El),this.Vo=new Map,this.So=new Set,this.Do=new _o(Dn.comparator),this.Co=new Map,this.No=new Nl,this.xo={},this.ko=new Map,this.Fo=Vd.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function hD(t,e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n,u,h,_,w;return(0,V.__generator)(this,function(A){switch(A.label){case 0:return n=$y(t),(h=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.Ro(),[3,4]):[3,1];case 1:return[4,Ud(n.localStore,as(e))];case 2:return _=A.sent(),w=n.sharedClientState.addLocalQueryTarget(_.targetId),[4,Zg(n,e,_.targetId,"current"===w)];case 3:u=A.sent(),n.isPrimaryClient&&Yg(n.remoteStore,_),A.label=4;case 4:return[2,u]}})})}function Zg(t,e,n,s){return(0,V.__awaiter)(this,void 0,void 0,function(){var u,h,_,w,A,B;return(0,V.__generator)(this,function(Y){switch(Y.label){case 0:return t.Oo=function(ue,pe,ze){return function(Le,ut,Mt,Wt){return(0,V.__awaiter)(this,void 0,void 0,function(){var hn,bn,tr;return(0,V.__generator)(this,function(Yn){switch(Yn.label){case 0:return(hn=ut.view._o(Mt)).Nn?[4,Hg(Le.localStore,ut.query,!1).then(function(an){return ut.view._o(an.documents,hn)})]:[3,2];case 1:hn=Yn.sent(),Yn.label=2;case 2:return bn=Wt&&Wt.targetChanges.get(ut.targetId),tr=ut.view.applyChanges(hn,Le.isPrimaryClient,bn),[2,(em(Le,ut.targetId,tr.To),tr.snapshot)]}})})}(t,ue,pe,ze)},[4,Hg(t.localStore,e,!0)];case 1:return u=Y.sent(),h=new Ly(e,u.Bn),_=h._o(u.documents),w=Wh.createSynthesizedTargetChangeForCurrentChange(n,s&&"Offline"!==t.onlineState),A=h.applyChanges(_,t.isPrimaryClient,w),em(t,n,A.To),B=new fD(e,n,h),[2,(t.Po.set(e,B),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),A.snapshot)]}})})}function Wd(t,e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n,s,u;return(0,V.__generator)(this,function(h){switch(h.label){case 0:return n=cn(t),s=n.Po.get(e),(u=n.Vo.get(s.targetId)).length>1?[2,(n.Vo.set(s.targetId,u.filter(function(_){return!El(_,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)?[3,2]:[4,kf(n.localStore,s.targetId,!1).then(function(){n.sharedClientState.clearQueryState(s.targetId),oa(n.remoteStore,s.targetId),Fl(n,s.targetId)}).catch(Mf)]):[3,3];case 1:h.sent(),h.label=2;case 2:return[3,5];case 3:return Fl(n,s.targetId),[4,kf(n.localStore,s.targetId,!0)];case 4:h.sent(),h.label=5;case 5:return[2]}})})}function $b(t,e,n){return(0,V.__awaiter)(this,void 0,void 0,function(){var s,u,h,_;return(0,V.__generator)(this,function(w){switch(w.label){case 0:s=nm(t),w.label=1;case 1:return w.trys.push([1,5,,6]),[4,(A=s.localStore,B=e,ue=cn(A),pe=eo.now(),ze=B.reduce(function(Le,ut){return Le.add(ut.key)},si()),ue.persistence.runTransaction("Locally write mutations","readwrite",function(Le){return ue.Mn.pn(Le,ze).next(function(ut){Y=ut;for(var Mt=[],Wt=0,hn=B;Wt<hn.length;Wt++){var bn=hn[Wt],tr=Hh(bn,Y.get(bn.key));null!=tr&&Mt.push(new $i(bn.key,tr,gg(tr.value.mapValue),yo.exists(!0)))}return ue._n.addMutationBatch(Le,pe,Mt,B)})}).then(function(Le){return Le.applyToLocalDocumentSet(Y),{batchId:Le.batchId,changes:Y}}))];case 2:return u=w.sent(),s.sharedClientState.addPendingMutation(u.batchId),function(A,B,Y){var ue=A.xo[A.currentUser.toKey()];ue||(ue=new _o(Lr)),ue=ue.insert(B,Y),A.xo[A.currentUser.toKey()]=ue}(s,u.batchId,n),[4,zc(s,u.changes)];case 3:return w.sent(),[4,Gc(s.remoteStore)];case 4:return w.sent(),[3,6];case 5:return h=w.sent(),_=Pf(h,"Failed to persist write"),n.reject(_),[3,6];case 6:return[2]}var A,B,Y,ue,pe,ze})})}function Hb(t,e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n,s;return(0,V.__generator)(this,function(u){switch(u.label){case 0:n=cn(t),u.label=1;case 1:return u.trys.push([1,4,,6]),[4,Eb(n.localStore,e)];case 2:return s=u.sent(),e.targetChanges.forEach(function(h,_){var w=n.Co.get(_);w&&(Qn(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?w.bo=!0:h.modifiedDocuments.size>0?Qn(w.bo):h.removedDocuments.size>0&&(Qn(w.bo),w.bo=!1))}),[4,zc(n,s,e)];case 3:return u.sent(),[3,6];case 4:return[4,Mf(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function Gb(t,e,n){var s=cn(t);if(s.isPrimaryClient&&0===n||!s.isPrimaryClient&&1===n){var u=[];s.Po.forEach(function(h,_){var w=_.view.zr(e);w.snapshot&&u.push(w.snapshot)}),function(h,_){var w=cn(h);w.onlineState=_;var A=!1;w.queries.forEach(function(B,Y){for(var ue=0,pe=Y.listeners;ue<pe.length;ue++)pe[ue].zr(_)&&(A=!0)}),A&&cp(w)}(s.eventManager,e),u.length&&s.vo._r(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Yd(t,e,n){return(0,V.__awaiter)(this,void 0,void 0,function(){var s,u,h,_,w,A;return(0,V.__generator)(this,function(B){switch(B.label){case 0:return(s=cn(t)).sharedClientState.updateQueryState(e,"rejected",n),u=s.Co.get(e),(h=u&&u.key)?(_=(_=new _o(Dn.comparator)).insert(h,to.newNoDocument(h,mr.min())),w=si().add(h),A=new zh(mr.min(),new Map,new lo(Lr),_,w),[4,Hb(s,A)]):[3,2];case 1:return B.sent(),s.Do=s.Do.remove(h),s.Co.delete(e),tm(s),[3,4];case 2:return[4,kf(s.localStore,e,!1).then(function(){return Fl(s,e,n)}).catch(Mf)];case 3:B.sent(),B.label=4;case 4:return[2]}})})}function pD(t,e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n,s,u;return(0,V.__generator)(this,function(h){switch(h.label){case 0:n=cn(t),s=e.batch.batchId,h.label=1;case 1:return h.trys.push([1,4,,6]),[4,XI(n.localStore,e)];case 2:return u=h.sent(),wa(n,s,null),Vy(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),[4,zc(n,u)];case 3:return h.sent(),[3,6];case 4:return[4,Mf(h.sent())];case 5:return h.sent(),[3,6];case 6:return[2]}})})}function gD(t,e,n){return(0,V.__awaiter)(this,void 0,void 0,function(){var s,u;return(0,V.__generator)(this,function(h){switch(h.label){case 0:s=cn(t),h.label=1;case 1:return h.trys.push([1,4,,6]),[4,(_=s.localStore,w=e,A=cn(_),A.persistence.runTransaction("Reject batch","readwrite-primary",function(B){var Y;return A._n.lookupMutationBatch(B,w).next(function(ue){return Qn(null!==ue),Y=ue.keys(),A._n.removeMutationBatch(B,ue)}).next(function(){return A._n.performConsistencyCheck(B)}).next(function(){return A.Mn.pn(B,Y)})}))];case 2:return u=h.sent(),wa(s,e,n),Vy(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),[4,zc(s,u)];case 3:return h.sent(),[3,6];case 4:return[4,Mf(h.sent())];case 5:return h.sent(),[3,6];case 6:return[2]}var _,w,A})})}function mD(t,e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n,s,u,h,_;return(0,V.__generator)(this,function(w){switch(w.label){case 0:Hc((n=cn(t)).remoteStore)||on("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),w.label=1;case 1:return w.trys.push([1,3,,4]),[4,(A=n.localStore,B=cn(A),B.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(Y){return B._n.getHighestUnacknowledgedBatchId(Y)}))];case 2:return-1===(s=w.sent())?[2,void e.resolve()]:((u=n.ko.get(s)||[]).push(e),n.ko.set(s,u),[3,4]);case 3:return h=w.sent(),_=Pf(h,"Initialization of waitForPendingWrites() operation failed"),e.reject(_),[3,4];case 4:return[2]}var A,B})})}function Vy(t,e){(t.ko.get(e)||[]).forEach(function(n){n.resolve()}),t.ko.delete(e)}function wa(t,e,n){var s=cn(t),u=s.xo[s.currentUser.toKey()];if(u){var h=u.get(e);h&&(n?h.reject(n):h.resolve(),u=u.remove(e)),s.xo[s.currentUser.toKey()]=u}}function Fl(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var s=0,u=t.Vo.get(e);s<u.length;s++){var h=u[s];t.Po.delete(h),n&&t.vo.Mo(h,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(_){t.No.containsKey(_)||Uy(t,_)})}function Uy(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(oa(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),tm(t))}function em(t,e,n){for(var s=0,u=n;s<u.length;s++){var h=u[s];h instanceof Py?(t.No.addReference(h.key,e),qb(t,h)):h instanceof Fy?(on("SyncEngine","Document no longer in limbo: "+h.key),t.No.removeReference(h.key,e),t.No.containsKey(h.key)||Uy(t,h.key)):xn()}}function qb(t,e){var n=e.key,s=n.path.canonicalString();t.Do.get(n)||t.So.has(s)||(on("SyncEngine","New document in limbo: "+n),t.So.add(s),tm(t))}function tm(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Dn(Ur.fromString(e)),s=t.Fo.next();t.Co.set(s,new By(n)),t.Do=t.Do.insert(n,s),Yg(t.remoteStore,new Fg(as(Oc(n.path)),s,2,jo.o))}}function zc(t,e,n){return(0,V.__awaiter)(this,void 0,void 0,function(){var s,u,h,_;return(0,V.__generator)(this,function(w){switch(w.label){case 0:return s=cn(t),u=[],h=[],_=[],s.Po.isEmpty()?[3,3]:(s.Po.forEach(function(A,B){_.push(s.Oo(B,e,n).then(function(Y){if(Y){s.isPrimaryClient&&s.sharedClientState.updateQueryState(B.targetId,Y.fromCache?"not-current":"current"),u.push(Y);var ue=KI.Pn(B.targetId,Y);h.push(ue)}}))}),[4,Promise.all(_)]);case 1:return w.sent(),s.vo._r(u),[4,function(A,B){return(0,V.__awaiter)(this,void 0,void 0,function(){var Y,ue,pe,ze,Le,ut,Mt,hn;return(0,V.__generator)(this,function(bn){switch(bn.label){case 0:Y=cn(A),bn.label=1;case 1:return bn.trys.push([1,3,,4]),[4,Y.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(tr){return Dt.forEach(B,function(Yn){return Dt.forEach(Yn.bn,function(an){return Y.persistence.referenceDelegate.addReference(tr,Yn.targetId,an)}).next(function(){return Dt.forEach(Yn.vn,function(an){return Y.persistence.referenceDelegate.removeReference(tr,Yn.targetId,an)})})})})];case 2:return bn.sent(),[3,4];case 3:if(!ba(ue=bn.sent()))throw ue;return on("LocalStore","Failed to update sequence numbers: "+ue),[3,4];case 4:for(pe=0,ze=B;pe<ze.length;pe++)ut=(Le=ze[pe]).targetId,Le.fromCache||(Mt=Y.kn.get(ut),hn=Mt.withLastLimboFreeSnapshotVersion(Mt.snapshotVersion),Y.kn=Y.kn.insert(ut,hn));return[2]}})})}(s.localStore,h)];case 2:w.sent(),w.label=3;case 3:return[2]}})})}function vD(t,e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n,s;return(0,V.__generator)(this,function(u){switch(u.label){case 0:return(n=cn(t)).currentUser.isEqual(e)?[3,3]:(on("SyncEngine","User change. New user:",e.toKey()),[4,$g(n.localStore,e)]);case 1:return s=u.sent(),n.currentUser=e,(h=n).ko.forEach(function(w){w.forEach(function(A){A.reject(new Ht(Tt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.ko.clear(),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),[4,zc(n,s.Ln)];case 2:u.sent(),u.label=3;case 3:return[2]}var h})})}function yD(t,e){var n=cn(t),s=n.Co.get(e);if(s&&s.bo)return si().add(s.key);var u=si(),h=n.Vo.get(e);if(!h)return u;for(var _=0,w=h;_<w.length;_++){var B=n.Po.get(w[_]);u=u.unionWith(B.view.wo)}return u}function _D(t,e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n,s,u;return(0,V.__generator)(this,function(h){switch(h.label){case 0:return[4,Hg((n=cn(t)).localStore,e.query,!0)];case 1:return s=h.sent(),u=e.view.Ao(s),[2,(n.isPrimaryClient&&em(n,e.targetId,u.To),u)]}})})}function zb(t){return(0,V.__awaiter)(this,void 0,void 0,function(){var e;return(0,V.__generator)(this,function(n){return[2,jd((e=cn(t)).localStore).then(function(s){return zc(e,s)})]})})}function C1(t,e,n,s){return(0,V.__awaiter)(this,void 0,void 0,function(){var u,h;return(0,V.__generator)(this,function(_){switch(_.label){case 0:return[4,(w=(u=cn(t)).localStore,A=e,B=cn(w),Y=cn(B._n),B.persistence.runTransaction("Lookup mutation documents","readonly",function(ue){return Y.jt(ue,A).next(function(pe){return pe?B.Mn.pn(ue,pe):Dt.resolve(null)})}))];case 1:return null===(h=_.sent())?[3,6]:"pending"!==n?[3,3]:[4,Gc(u.remoteStore)];case 2:return _.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(wa(u,e,s||null),Vy(u,e),function(w,A){cn(cn(w)._n).Gt(A)}(u.localStore,e)):xn(),_.label=4;case 4:return[4,zc(u,h)];case 5:return _.sent(),[3,7];case 6:on("SyncEngine","Cannot apply mutation batch with id: "+e),_.label=7;case 7:return[2]}var w,A,B,Y})})}function Wb(t,e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n,s,u,h,_,A,B;return(0,V.__generator)(this,function(Y){switch(Y.label){case 0:return $y(n=cn(t)),nm(n),!0!==e||!0===n.$o?[3,3]:(s=n.sharedClientState.getAllActiveQueryTargets(),[4,Yb(n,s.toArray())]);case 1:return u=Y.sent(),n.$o=!0,[4,Ry(n.remoteStore,!0)];case 2:for(Y.sent(),h=0,_=u;h<_.length;h++)Yg(n.remoteStore,_[h]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(A=[],B=Promise.resolve(),n.Vo.forEach(function(ue,pe){n.sharedClientState.isLocalQueryTarget(pe)?A.push(pe):B=B.then(function(){return Fl(n,pe),kf(n.localStore,pe,!0)}),oa(n.remoteStore,pe)}),[4,B]);case 4:return Y.sent(),[4,Yb(n,A)];case 5:return Y.sent(),(pe=cn(n)).Co.forEach(function(ze,Le){oa(pe.remoteStore,Le)}),pe.No.ts(),pe.Co=new Map,pe.Do=new _o(Dn.comparator),n.$o=!1,[4,Ry(n.remoteStore,!1)];case 6:Y.sent(),Y.label=7;case 7:return[2]}var pe})})}function Yb(t,e,n){return(0,V.__awaiter)(this,void 0,void 0,function(){var s,u,h,_,w,A,B,Y,ue,pe,Le,ut,Mt;return(0,V.__generator)(this,function(Wt){switch(Wt.label){case 0:s=cn(t),u=[],h=[],_=0,w=e,Wt.label=1;case 1:return _<w.length?(B=void 0,(Y=s.Vo.get(A=w[_]))&&0!==Y.length?[4,Ud(s.localStore,as(Y[0]))]:[3,7]):[3,13];case 2:B=Wt.sent(),ue=0,pe=Y,Wt.label=3;case 3:return ue<pe.length?(Le=s.Po.get(pe[ue]),[4,_D(s,Le)]):[3,6];case 4:(ut=Wt.sent()).snapshot&&h.push(ut.snapshot),Wt.label=5;case 5:return ue++,[3,3];case 6:return[3,11];case 7:return[4,Ib(s.localStore,A)];case 8:return Mt=Wt.sent(),[4,Ud(s.localStore,Mt)];case 9:return B=Wt.sent(),[4,Zg(s,Kb(Mt),A,!1)];case 10:Wt.sent(),Wt.label=11;case 11:u.push(B),Wt.label=12;case 12:return _++,[3,1];case 13:return[2,(s.vo._r(h),u)]}})})}function Kb(t){return Cd(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function I1(t){var e=cn(t);return cn(cn(e.localStore).persistence).fn()}function D1(t,e,n,s){return(0,V.__awaiter)(this,void 0,void 0,function(){var u,h,_;return(0,V.__generator)(this,function(w){switch(w.label){case 0:return(u=cn(t)).$o?(on("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!u.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,jd(u.localStore)];case 3:return h=w.sent(),_=zh.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,zc(u,h,_)];case 4:return w.sent(),[3,8];case 5:return[4,kf(u.localStore,e,!0)];case 6:return w.sent(),Fl(u,e,s),[3,8];case 7:xn(),w.label=8;case 8:return[2]}})})}function jy(t,e,n){return(0,V.__awaiter)(this,void 0,void 0,function(){var s,u,h,_,w,A,B,Y,ue;return(0,V.__generator)(this,function(ze){switch(ze.label){case 0:if(!(s=$y(t)).$o)return[3,10];u=0,h=e,ze.label=1;case 1:return u<h.length?s.Vo.has(_=h[u])?(on("SyncEngine","Adding an already active target "+_),[3,5]):[4,Ib(s.localStore,_)]:[3,6];case 2:return w=ze.sent(),[4,Ud(s.localStore,w)];case 3:return A=ze.sent(),[4,Zg(s,Kb(w),A.targetId,!1)];case 4:ze.sent(),Yg(s.remoteStore,A),ze.label=5;case 5:return u++,[3,1];case 6:B=function(Le){return(0,V.__generator)(this,function(ut){switch(ut.label){case 0:return s.Vo.has(Le)?[4,kf(s.localStore,Le,!1).then(function(){oa(s.remoteStore,Le),Fl(s,Le)}).catch(Mf)]:[3,2];case 1:ut.sent(),ut.label=2;case 2:return[2]}})},Y=0,ue=n,ze.label=7;case 7:return Y<ue.length?[5,B(ue[Y])]:[3,10];case 8:ze.sent(),ze.label=9;case 9:return Y++,[3,7];case 10:return[2]}})})}function $y(t){var e=cn(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Yd.bind(null,e),e.vo._r=cD.bind(null,e.eventManager),e.vo.Mo=E1.bind(null,e.eventManager),e}function nm(t){var e=cn(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gD.bind(null,e),e}function Xb(t,e,n){var s=cn(t);(function(u,h,_){return(0,V.__awaiter)(this,void 0,void 0,function(){var w,A,B,Y,ue,pe;return(0,V.__generator)(this,function(ze){switch(ze.label){case 0:return ze.trys.push([0,14,,15]),[4,h.getMetadata()];case 1:return w=ze.sent(),[4,(Le=u.localStore,ut=w,Mt=cn(Le),Wt=fo(ut.createTime),Mt.persistence.runTransaction("hasNewerBundle","readonly",function(hn){return Mt.Ke.getBundleMetadata(hn,ut.id)}).then(function(hn){return!!hn&&hn.createTime.compareTo(Wt)>=0}))];case 2:return ze.sent()?[4,h.close()]:[3,4];case 3:return[2,(ze.sent(),void _._completeWith(function(Le){return{taskState:"Success",documentsLoaded:Le.totalDocuments,bytesLoaded:Le.totalBytes,totalDocuments:Le.totalDocuments,totalBytes:Le.totalBytes}}(w)))];case 4:return _._updateProgress(Jg(w)),A=new lD(w,u.localStore,h.R),[4,h.Lo()];case 5:B=ze.sent(),ze.label=6;case 6:return B?[4,A.oo(B)]:[3,10];case 7:return(Y=ze.sent())&&_._updateProgress(Y),[4,h.Lo()];case 8:B=ze.sent(),ze.label=9;case 9:return[3,6];case 10:return[4,A.complete()];case 11:return ue=ze.sent(),[4,zc(u,ue.wn,void 0)];case 12:return ze.sent(),[4,function(Le,ut){var Mt=cn(Le);return Mt.persistence.runTransaction("Save bundle","readwrite",function(Wt){return Mt.Ke.saveBundleMetadata(Wt,ut)})}(u.localStore,w)];case 13:return ze.sent(),_._completeWith(ue.progress),[3,15];case 14:return zu("SyncEngine","Loading bundle failed with "+(pe=ze.sent())),_._failWith(pe),[3,15];case 15:return[2]}var Le,ut,Mt,Wt})})})(s,e,n).then(function(){s.sharedClientState.notifyBundleLoaded()})}var bD=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(e){return(0,V.__awaiter)(this,void 0,void 0,function(){return(0,V.__generator)(this,function(n){switch(n.label){case 0:return this.R=sp(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},t.prototype.Uo=function(e){return null},t.prototype.Ko=function(e){return yy(this.persistence,new my,e.initialUser,this.R)},t.prototype.qo=function(e){return new Sb(QI.bs,this.R)},t.prototype.Bo=function(e){return new Rb},t.prototype.terminate=function(){return(0,V.__awaiter)(this,void 0,void 0,function(){return(0,V.__generator)(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},t}(),qa=function(t){function e(n,s,u){var h=this;return(h=t.call(this)||this).Qo=n,h.cacheSizeBytes=s,h.forceOwnership=u,h.synchronizeTabs=!1,h}return(0,V.__extends)(e,t),e.prototype.initialize=function(n){return(0,V.__awaiter)(this,void 0,void 0,function(){var s=this;return(0,V.__generator)(this,function(u){switch(u.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return u.sent(),[4,$d(this.localStore)];case 2:return u.sent(),[4,this.Qo.initialize(this,n)];case 3:return u.sent(),[4,nm(this.Qo.syncEngine)];case 4:return u.sent(),[4,Gc(this.Qo.remoteStore)];case 5:return u.sent(),[4,this.persistence.He(function(){return s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(s.localStore),Promise.resolve()})];case 6:return u.sent(),[2]}})})},e.prototype.Ko=function(n){return yy(this.persistence,new my,n.initialUser,this.R)},e.prototype.Uo=function(n){return new _b(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue)},e.prototype.qo=function(n){var s=wb(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),u=void 0!==this.cacheSizeBytes?Ga.withCacheSize(this.cacheSizeBytes):Ga.DEFAULT;return new _1(this.synchronizeTabs,s,n.clientId,u,n.asyncQueue,Wg(),op(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(n){return new Rb},e}(bD),T1=function(t){function e(n,s){var u=this;return(u=t.call(this,n,s,!1)||this).Qo=n,u.cacheSizeBytes=s,u.synchronizeTabs=!0,u}return(0,V.__extends)(e,t),e.prototype.initialize=function(n){return(0,V.__awaiter)(this,void 0,void 0,function(){var s,u=this;return(0,V.__generator)(this,function(h){switch(h.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return h.sent(),s=this.Qo.syncEngine,this.sharedClientState instanceof Iy?(this.sharedClientState.syncEngine={ui:C1.bind(null,s),ai:D1.bind(null,s),hi:jy.bind(null,s),fn:I1.bind(null,s),ci:zb.bind(null,s)},[4,this.sharedClientState.start()]):[3,3];case 2:h.sent(),h.label=3;case 3:return[4,this.persistence.He(function(_){return(0,V.__awaiter)(u,void 0,void 0,function(){return(0,V.__generator)(this,function(w){switch(w.label){case 0:return[4,Wb(this.Qo.syncEngine,_)];case 1:return w.sent(),this.gcScheduler&&(_&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):_||this.gcScheduler.stop()),[2]}})})})];case 4:return h.sent(),[2]}})})},e.prototype.Bo=function(n){var s=Wg();if(!Iy.yt(s))throw new Ht(Tt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var u=wb(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Iy(s,n.asyncQueue,u,n.clientId,n.initialUser)},e}(qa),Qb=function(){function t(){}return t.prototype.initialize=function(e,n){return(0,V.__awaiter)(this,void 0,void 0,function(){var s=this;return(0,V.__generator)(this,function(u){switch(u.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(h){return Gb(s.syncEngine,h,1)},this.remoteStore.remoteSyncer.handleCredentialChange=vD.bind(null,this.syncEngine),[4,Ry(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:u.sent(),u.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(e){return new qc},t.prototype.createDatastore=function(e){var s=sp(e.databaseInfo.databaseId),u=new tD(e.databaseInfo);return new Nb(e.credentials,u,s)},t.prototype.createRemoteStore=function(e){var n,s,u,h,_,w=this;return n=this.localStore,s=this.datastore,u=e.asyncQueue,h=function(A){return Gb(w.syncEngine,A,0)},_=eD.yt()?new eD:new b1,new iD(n,s,u,h,_)},t.prototype.createSyncEngine=function(e,n){return B=n,Y=new dD(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions),B&&(Y.$o=!0),Y;var B,Y},t.prototype.terminate=function(){return function(e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n;return(0,V.__generator)(this,function(s){switch(s.label){case 0:return n=cn(e),on("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Of(n)];case 1:return s.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}();function Hy(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return(0,V.__awaiter)(this,void 0,void 0,function(){var s;return(0,V.__generator)(this,function(u){return n<t.byteLength?(s={value:t.slice(n,n+e),done:!1},[2,(n+=e,s)]):[2,{done:!0}]})})},cancel:function(){return(0,V.__awaiter)(this,void 0,void 0,function(){return(0,V.__generator)(this,function(s){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var lp=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(e,n){var s=this;this.muted||setTimeout(function(){s.muted||e(n)},0)},t}(),Jb=function(){function t(e,n){var s=this;this.Go=e,this.R=n,this.metadata=new Cn,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(u){u&&u.io()?s.metadata.resolve(u.payload.metadata):s.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==u?void 0:u.payload)))},function(u){return s.metadata.reject(u)})}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,V.__awaiter)(this,void 0,void 0,function(){return(0,V.__generator)(this,function(e){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,V.__awaiter)(this,void 0,void 0,function(){return(0,V.__generator)(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,V.__awaiter)(this,void 0,void 0,function(){var e,n,s,u;return(0,V.__generator)(this,function(h){switch(h.label){case 0:return[4,this.Jo()];case 1:return null===(e=h.sent())?[2,null]:(n=this.zo.decode(e),s=Number(n),isNaN(s)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(s)]);case 2:return u=h.sent(),[2,new Ny(JSON.parse(u),e.length+s)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,V.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,V.__generator)(this,function(s){switch(s.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(s.sent())return[3,3];s.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),n)])}})})},t.prototype.Xo=function(e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n;return(0,V.__generator)(this,function(s){switch(s.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:s.sent()&&this.Yo("Reached the end of bundle when more is expected."),s.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),n)]}})})},t.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},t.prototype.tc=function(){return(0,V.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,V.__generator)(this,function(s){switch(s.label){case 0:return[4,this.Go.read()];case 1:return(e=s.sent()).done||((n=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n),[2,e.done]}})})},t}(),wD=function(){function t(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n,s=this;return(0,V.__generator)(this,function(u){switch(u.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Ht(Tt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(h,_){return(0,V.__awaiter)(this,void 0,void 0,function(){var w,A,B,Y,ue,pe;return(0,V.__generator)(this,function(ze){switch(ze.label){case 0:return w=cn(h),A=mu(w.R)+"/documents",B={documents:_.map(function(Le){return Bc(w.R,Le)})},[4,w.$i("BatchGetDocuments",A,B)];case 1:return Y=ze.sent(),ue=new Map,Y.forEach(function(Le){var Mt,Wt,ut=(Mt=w.R,"found"in(Wt=Le)?function(hn,bn){Qn(!!bn.found);var tr=na(hn,bn.found.name),Yn=fo(bn.found.updateTime),an=new Pi({mapValue:{fields:bn.found.fields}});return to.newFoundDocument(tr,Yn,an)}(Mt,Wt):"missing"in Wt?function(hn,bn){Qn(!!bn.missing),Qn(!!bn.readTime);var tr=na(hn,bn.missing),Yn=fo(bn.readTime);return to.newNoDocument(tr,Yn)}(Mt,Wt):xn());ue.set(ut.key.toString(),ut)}),pe=[],[2,(_.forEach(function(Le){var ut=ue.get(Le.toString());Qn(!!ut),pe.push(ut)}),pe)]}})})}(this.datastore,e)];case 1:return[2,((n=u.sent()).forEach(function(h){return s.recordVersion(h)}),n)]}})})},t.prototype.set=function(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.update=function(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())},t.prototype.delete=function(e){this.write(new Ku(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.commit=function(){return(0,V.__awaiter)(this,void 0,void 0,function(){var e,n=this;return(0,V.__generator)(this,function(s){switch(s.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(u){e.delete(u.key.toString())}),e.forEach(function(u,h){var _=Dn.fromPath(h);n.mutations.push(new Sd(_,n.precondition(_)))}),[4,function(u,h){return(0,V.__awaiter)(this,void 0,void 0,function(){var _,w,A;return(0,V.__generator)(this,function(B){switch(B.label){case 0:return _=cn(u),w=mu(_.R)+"/documents",A={writes:h.map(function(Y){return Sl(_.R,Y)})},[4,_.Ni("Commit",w,A)];case 1:return B.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return s.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(e){var n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw xn();n=mr.min()}var s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new Ht(Tt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)},t.prototype.precondition=function(e){var n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?yo.updateTime(n):yo.none()},t.prototype.preconditionForUpdate=function(e){var n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(mr.min()))throw new Ht(Tt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yo.updateTime(n)}return yo.exists(!0)},t.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},t.prototype.ensureCommitNotCalled=function(){},t}(),S1=function(){function t(e,n,s,u){this.asyncQueue=e,this.datastore=n,this.updateFunction=s,this.deferred=u,this.ec=5,this.Zi=new Dy(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var e=this;this.Zi.ji(function(){return(0,V.__awaiter)(e,void 0,void 0,function(){var n,s,u=this;return(0,V.__generator)(this,function(h){return n=new wD(this.datastore),(s=this.sc(n))&&s.then(function(_){u.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){u.deferred.resolve(_)}).catch(function(w){u.ic(w)})})}).catch(function(_){u.ic(_)}),[2]})})})},t.prototype.sc=function(e){try{var n=this.updateFunction(e);return!ya(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(s){return this.deferred.reject(s),null}},t.prototype.ic=function(e){var n=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(e)},t.prototype.rc=function(e){if("FirebaseError"===e.name){var n=e.code;return"aborted"===n||"failed-precondition"===n||!Ad(n)}return!1},t}(),Zb=function(){function t(e,n,s){var u=this;this.credentials=e,this.asyncQueue=n,this.databaseInfo=s,this.user=Go.UNAUTHENTICATED,this.clientId=xh.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(h){return(0,V.__awaiter)(u,void 0,void 0,function(){return(0,V.__generator)(this,function(_){switch(_.label){case 0:return on("FirestoreClient","Received user=",h.uid),[4,this.credentialListener(h)];case 1:return _.sent(),this.user=h,[2]}})})})}return t.prototype.getConfiguration=function(){return(0,V.__awaiter)(this,void 0,void 0,function(){return(0,V.__generator)(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Ht(Tt.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var n=new Cn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,V.__awaiter)(e,void 0,void 0,function(){var s,u;return(0,V.__generator)(this,function(h){switch(h.label){case 0:return h.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:h.sent(),h.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:h.sent(),h.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return s=h.sent(),u=Pf(s,"Failed to shutdown persistence"),n.reject(u),[3,6];case 6:return[2]}})})}),n.promise},t}();function rm(t,e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n,s,u=this;return(0,V.__generator)(this,function(h){switch(h.label){case 0:return t.asyncQueue.verifyOperationInProgress(),on("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=h.sent(),[4,e.initialize(n)];case 2:return h.sent(),s=n.initialUser,t.setCredentialChangeListener(function(_){return(0,V.__awaiter)(u,void 0,void 0,function(){return(0,V.__generator)(this,function(w){switch(w.label){case 0:return s.isEqual(_)?[3,2]:[4,$g(e.localStore,_)];case 1:w.sent(),s=_,w.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function ew(t,e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n,s;return(0,V.__generator)(this,function(u){switch(u.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,fp(t)];case 1:return n=u.sent(),on("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return s=u.sent(),[4,e.initialize(n,s)];case 3:return u.sent(),t.setCredentialChangeListener(function(h){return function(_,w){return(0,V.__awaiter)(this,void 0,void 0,function(){var A,B;return(0,V.__generator)(this,function(Y){switch(Y.label){case 0:return(A=cn(_)).asyncQueue.verifyOperationInProgress(),on("RemoteStore","RemoteStore received new credentials"),B=Hc(A),A.Or.add(3),[4,Of(A)];case 1:return Y.sent(),B&&A.Br.set("Unknown"),[4,A.remoteSyncer.handleCredentialChange(w)];case 2:return Y.sent(),A.Or.delete(3),[4,Gd(A)];case 3:return Y.sent(),[2]}})})}(e.remoteStore,h)}),t.onlineComponents=e,[2]}})})}function fp(t){return(0,V.__awaiter)(this,void 0,void 0,function(){return(0,V.__generator)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(on("FirestoreClient","Using default OfflineComponentProvider"),[4,rm(t,new bD)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function im(t){return(0,V.__awaiter)(this,void 0,void 0,function(){return(0,V.__generator)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(on("FirestoreClient","Using default OnlineComponentProvider"),[4,ew(t,new Qb)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function tw(t){return fp(t).then(function(e){return e.persistence})}function Gy(t){return fp(t).then(function(e){return e.localStore})}function nw(t){return im(t).then(function(e){return e.remoteStore})}function qy(t){return im(t).then(function(e){return e.syncEngine})}function Kd(t){return(0,V.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,V.__generator)(this,function(s){switch(s.label){case 0:return[4,im(t)];case 1:return e=s.sent(),[2,((n=e.eventManager).onListen=hD.bind(null,e.syncEngine),n.onUnlisten=Wd.bind(null,e.syncEngine),n)]}})})}function dp(t,e,n){var s=this;void 0===n&&(n={});var u=new Cn;return t.asyncQueue.enqueueAndForget(function(){return(0,V.__awaiter)(s,void 0,void 0,function(){var h;return(0,V.__generator)(this,function(_){switch(_.label){case 0:return h=function(w,A,B,Y,ue){var pe=new lp({next:function(Le){A.enqueueAndForget(function(){return Oy(w,ze)});var ut=Le.docs.has(B);!ut&&Le.fromCache?ue.reject(new Ht(Tt.UNAVAILABLE,"Failed to get document because the client is offline.")):ut&&Le.fromCache&&Y&&"server"===Y.source?ue.reject(new Ht(Tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):ue.resolve(Le)},error:function(Le){return ue.reject(Le)}}),ze=new Qg(Oc(B.path),pe,{includeMetadataChanges:!0,so:!0});return qd(w,ze)},[4,Kd(t)];case 1:return[2,h.apply(void 0,[_.sent(),t.asyncQueue,e,n,u])]}})})}),u.promise}function Ff(t,e,n){var s=this;void 0===n&&(n={});var u=new Cn;return t.asyncQueue.enqueueAndForget(function(){return(0,V.__awaiter)(s,void 0,void 0,function(){var h;return(0,V.__generator)(this,function(_){switch(_.label){case 0:return h=function(w,A,B,Y,ue){var pe=new lp({next:function(Le){A.enqueueAndForget(function(){return Oy(w,ze)}),Le.fromCache&&"server"===Y.source?ue.reject(new Ht(Tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):ue.resolve(Le)},error:function(Le){return ue.reject(Le)}}),ze=new Qg(B,pe,{includeMetadataChanges:!0,so:!0});return qd(w,ze)},[4,Kd(t)];case 1:return[2,h.apply(void 0,[_.sent(),t.asyncQueue,e,n,u])]}})})}),u.promise}var ED=function(t,e,n,s,u,h,_,w){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=s,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=_,this.useFetchStreams=w},Ll=function(){function t(e,n){this.projectId=e,this.database=n||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),rw=new Map,iw=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},om=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){this.changeListener=n,e.enqueueRetryable(function(){return n(Go.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Qu=function(){function t(e){this.token=e,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){var s=this;this.changeListener=n,e.enqueueRetryable(function(){return n(s.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),hp=function(){function t(e){var n=this;this.currentUser=Go.UNAUTHENTICATED,this.oc=new Cn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var s=function(u){on("FirebaseCredentialsProvider","Auth detected"),n.auth=u,n.auth.addAuthTokenListener(n.uc)};e.onInit(function(u){return s(u)}),setTimeout(function(){if(!n.auth){var u=e.getImmediate({optional:!0});u?s(u):(on("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return t.prototype.getToken=function(){var e=this,n=this.cc,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then(function(u){return e.cc!==n?(on("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):u?(Qn("string"==typeof u.accessToken),new iw(u.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(e,n){var s=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return(0,V.__awaiter)(s,void 0,void 0,function(){return(0,V.__generator)(this,function(u){switch(u.label){case 0:return[4,this.oc.promise];case 1:return u.sent(),[4,n(this.currentUser)];case 2:return u.sent(),this.changeListener=n,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Qn(null===e||"string"==typeof e),new Go(e)},t}(),Ss=function(){function t(e,n,s){this.hc=e,this.lc=n,this.fc=s,this.type="FirstParty",this.user=Go.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),t}(),Lf=function(){function t(e,n,s){this.hc=e,this.lc=n,this.fc=s}return t.prototype.getToken=function(){return Promise.resolve(new Ss(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(e,n){e.enqueueRetryable(function(){return n(Go.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Xd(t,e,n){if(!n)throw new Ht(Tt.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function sa(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ht(Tt.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function sm(t,e,n,s){if(!0===e&&!0===s)throw new Ht(Tt.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Bf(t){if(!Dn.isDocumentKey(t))throw new Ht(Tt.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Vf(t){if(Dn.isDocumentKey(t))throw new Ht(Tt.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Wc(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(n){if(n.constructor){var s=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(s&&s.length>1)return s[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":xn()}function jr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ht(Tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Wc(t);throw new Ht(Tt.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Uf(t,e){if(e<=0)throw new Ht(Tt.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var jf=function(){function t(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new Ht(Tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ht(Tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,sm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},t}(),Ju=function(){function t(e,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jf({}),this._settingsFrozen=!1,e instanceof Ll?(this._databaseId=e,this._credentials=new om):(this._app=e,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Ht(Tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(s.options.projectId)}(e),this._credentials=new hp(n))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Ht(Tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Ht(Tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jf(e),void 0!==e.credentials&&(this._credentials=function(n){if(!n)return new om;switch(n.type){case"gapi":var s=n.client;return Qn(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new Lf(s,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Ht(Tt.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(n=rw.get(this))&&(on("ComponentProvider","Removing Datastore"),rw.delete(this),n.terminate()),Promise.resolve();var n},t}(),Si=function(){function t(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Yc(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Ro=function(){function t(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Yc=function(t){function e(n,s,u){var h=this;return(h=t.call(this,n,s,Oc(u))||this)._path=u,h.type="collection",h}return(0,V.__extends)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Si(this.firestore,null,new Dn(n))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(n){return new e(this.firestore,n,this._path)},e}(Ro);function zy(t,e){for(var n,s=[],u=2;u<arguments.length;u++)s[u-2]=arguments[u];if(t=(0,un.getModularInstance)(t),Xd("collection","path",e),t instanceof Ju)return Vf(n=Ur.fromString.apply(Ur,(0,V.__spreadArray)([e],s))),new Yc(t,null,n);if(!(t instanceof Si||t instanceof Yc))throw new Ht(Tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Vf(n=Ur.fromString.apply(Ur,(0,V.__spreadArray)([t.path],s)).child(Ur.fromString(e))),new Yc(t.firestore,null,n)}function pp(t,e){for(var n,s=[],u=2;u<arguments.length;u++)s[u-2]=arguments[u];if(t=(0,un.getModularInstance)(t),1===arguments.length&&(e=xh.u()),Xd("doc","path",e),t instanceof Ju)return Bf(n=Ur.fromString.apply(Ur,(0,V.__spreadArray)([e],s))),new Si(t,null,new Dn(n));if(!(t instanceof Si||t instanceof Yc))throw new Ht(Tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Bf(n=t._path.child(Ur.fromString.apply(Ur,(0,V.__spreadArray)([e],s)))),new Si(t.firestore,t instanceof Yc?t.converter:null,new Dn(n))}function Wy(t,e){return t=(0,un.getModularInstance)(t),e=(0,un.getModularInstance)(e),(t instanceof Si||t instanceof Yc)&&(e instanceof Si||e instanceof Yc)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Yy(t,e){return t=(0,un.getModularInstance)(t),e=(0,un.getModularInstance)(e),t instanceof Ro&&e instanceof Ro&&t.firestore===e.firestore&&El(t._query,e._query)&&t.converter===e.converter}var ow=function(){function t(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Dy(this,"async_queue_retry"),this.Ic=function(){var s=op();s&&on("AsyncQueue","Visibility state changed to "+s.visibilityState),e.Zi.Gi()};var n=op();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(e){this.enqueue(e)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},t.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var n=op();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(e){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var s=new Cn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(e().then(s.resolve,s.reject),s.promise)}).then(function(){return s.promise})},t.prototype.enqueueRetryable=function(e){var n=this;this.enqueueAndForget(function(){return n.wc.push(e),n.bc()})},t.prototype.bc=function(){return(0,V.__awaiter)(this,void 0,void 0,function(){var e,n=this;return(0,V.__generator)(this,function(s){switch(s.label){case 0:if(0===this.wc.length)return[3,5];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return s.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!ba(e=s.sent()))throw e;return on("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),s.label=5;case 5:return[2]}})})},t.prototype.Rc=function(e){var n=this,s=this.dc.then(function(){return n.gc=!0,e().catch(function(u){throw n.yc=u,n.gc=!1,Di("INTERNAL UNHANDLED ERROR: ",(_=(h=u).message||"",h.stack&&(_=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),_)),u;var h,_}).then(function(u){return n.gc=!1,u})});return this.dc=s,s},t.prototype.enqueueAfterDelay=function(e,n,s){var u=this;this.Ac(),this.Tc.indexOf(e)>-1&&(n=0);var h=uD.createAndSchedule(this,e,n,s,function(_){return u.vc(_)});return this.mc.push(h),h},t.prototype.Ac=function(){this.yc&&xn()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return(0,V.__awaiter)(this,void 0,void 0,function(){var e;return(0,V.__generator)(this,function(n){switch(n.label){case 0:return[4,e=this.dc];case 1:n.sent(),n.label=2;case 2:if(e!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},t.prototype.Vc=function(e){for(var n=0,s=this.mc;n<s.length;n++)if(s[n].timerId===e)return!0;return!1},t.prototype.Sc=function(e){var n=this;return this.Pc().then(function(){n.mc.sort(function(_,w){return _.targetTimeMs-w.targetTimeMs});for(var s=0,u=n.mc;s<u.length;s++){var h=u[s];if(h.skipDelay(),"all"!==e&&h.timerId===e)break}return n.Pc()})},t.prototype.Dc=function(e){this.Tc.push(e)},t.prototype.vc=function(e){var n=this.mc.indexOf(e);this.mc.splice(n,1)},t}();function $f(t){return function(e,n){if("object"!=typeof e||null===e)return!1;for(var s=e,u=0,h=["next","error","complete"];u<h.length;u++){var _=h[u];if(_ in s&&"function"==typeof s[_])return!0}return!1}(t)}var sw=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Cn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(e,n,s){this._progressObserver={next:e,error:n,complete:s}},t.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},t.prototype.then=function(e,n){return this._taskCompletionResolver.promise.then(e,n)},t.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},t.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},t.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},t}(),ho=function(t){function e(n,s){var u=this;return(u=t.call(this,n,s)||this).type="firestore",u._queue=new ow,u._persistenceKey="name"in n?n.name:"[DEFAULT]",u}return(0,V.__extends)(e,t),e.prototype._terminate=function(){return this._firestoreClient||uw(this),this._firestoreClient.terminate()},e}(Ju);function xo(t){return t._firestoreClient||uw(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function uw(t){var e,h,w,n=t._freezeSettings(),s=(h=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new ED(t._databaseId,h,t._persistenceKey,(w=n).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,w.useFetchStreams));t._firestoreClient=new Zb(t._credentials,t._queue,s)}function cw(t,e,n){var s=this,u=new Cn;return t.asyncQueue.enqueue(function(){return(0,V.__awaiter)(s,void 0,void 0,function(){var h;return(0,V.__generator)(this,function(_){switch(_.label){case 0:return _.trys.push([0,3,,4]),[4,rm(t,n)];case 1:return _.sent(),[4,ew(t,e)];case 2:return _.sent(),u.resolve(),[3,4];case 3:if(!("FirebaseError"===(w=h=_.sent()).name?w.code===Tt.FAILED_PRECONDITION||w.code===Tt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&w instanceof DOMException)||22===w.code||20===w.code||11===w.code))throw h;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+h),u.reject(h),[3,4];case 4:return[2]}var w})})}).then(function(){return u.promise})}function Ky(t){if(t._initialized||t._terminated)throw new Ht(Tt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Zu=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var s=0;s<e.length;++s)if(0===e[s].length)throw new Ht(Tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bs(e)}return t.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},t}(),Hf=function(){function t(e){this._byteString=e}return t.fromBase64String=function(e){try{return new t(ss.fromBase64String(e))}catch(n){throw new Ht(Tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(ss.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},t}(),Bl=function(t){this._methodName=t},am=function(){function t(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ht(Tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ht(Tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(e){return Lr(this._lat,e._lat)||Lr(this._long,e._long)},t}(),lw=/^__.*__$/,CD=function(){function t(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}return t.prototype.toMutation=function(e,n){return null!==this.fieldMask?new $i(e,this.data,this.fieldMask,n,this.fieldTransforms):new pu(e,this.data,n,this.fieldTransforms)},t}(),fw=function(){function t(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}return t.prototype.toMutation=function(e,n){return new $i(e,this.data,this.fieldMask,n,this.fieldTransforms)},t}();function ID(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xn()}}var dw=function(){function t(e,n,s,u,h,_){this.settings=e,this.databaseId=n,this.R=s,this.ignoreUndefinedProperties=u,void 0===h&&this.Cc(),this.fieldTransforms=h||[],this.fieldMask=_||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(e){var n,s=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.xc({path:s,Fc:!1});return u.$c(e),u},t.prototype.Oc=function(e){var n,s=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.xc({path:s,Fc:!1});return u.Cc(),u},t.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(e){return cm(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(n){return e.isPrefixOf(n)})||void 0!==this.fieldTransforms.find(function(n){return e.isPrefixOf(n.field)})},t.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},t.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(ID(this.Nc)&&lw.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),Xy=function(){function t(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.R=s||sp(e)}return t.prototype.Uc=function(e,n,s,u){return void 0===u&&(u=!1),new dw({Nc:e,methodName:n,qc:s,path:bs.emptyPath(),Fc:!1,Bc:u},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Kc(t){var e=t._freezeSettings(),n=sp(t._databaseId);return new Xy(t._databaseId,!!e.ignoreUndefinedProperties,n)}function um(t,e,n,s,u,h){void 0===h&&(h={});var _=t.Uc(h.merge||h.mergeFields?2:0,e,n,u);Qd("Data must be an object, but it was:",_,s);var w,A,B=mw(s,_);if(h.merge)w=new Mc(_.fieldMask),A=_.fieldTransforms;else if(h.mergeFields){for(var Y=[],ue=0,pe=h.mergeFields;ue<pe.length;ue++){var ze=Zy(e,pe[ue],n);if(!_.contains(ze))throw new Ht(Tt.INVALID_ARGUMENT,"Field '"+ze+"' is specified in your field mask but missing from your input data.");yw(Y,ze)||Y.push(ze)}w=new Mc(Y),A=_.fieldTransforms.filter(function(Le){return w.covers(Le.field)})}else w=null,A=_.fieldTransforms;return new CD(new Pi(B),w,A)}var hw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,V.__extends)(e,t),e.prototype._toFieldTransform=function(n){if(2!==n.Nc)throw n.Lc(1===n.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},e.prototype.isEqual=function(n){return n instanceof e},e}(Bl);function DD(t,e,n){return new dw({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var A1=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,V.__extends)(e,t),e.prototype._toFieldTransform=function(n){return new Is(n.path,new Pc)},e.prototype.isEqual=function(n){return n instanceof e},e}(Bl),TD=function(t){function e(n,s){var u=this;return(u=t.call(this,n)||this).Kc=s,u}return(0,V.__extends)(e,t),e.prototype._toFieldTransform=function(n){var s=DD(this,n,!0),u=this.Kc.map(function(_){return Ul(_,s)}),h=new du(u);return new Is(n.path,h)},e.prototype.isEqual=function(n){return this===n},e}(Bl),pw=function(t){function e(n,s){var u=this;return(u=t.call(this,n)||this).Kc=s,u}return(0,V.__extends)(e,t),e.prototype._toFieldTransform=function(n){var s=DD(this,n,!0),u=this.Kc.map(function(_){return Ul(_,s)}),h=new Fc(u);return new Is(n.path,h)},e.prototype.isEqual=function(n){return this===n},e}(Bl),M1=function(t){function e(n,s){var u=this;return(u=t.call(this,n)||this).Qc=s,u}return(0,V.__extends)(e,t),e.prototype._toFieldTransform=function(n){var s=new hu(n.R,Uh(n.R,this.Qc));return new Is(n.path,s)},e.prototype.isEqual=function(n){return this===n},e}(Bl);function Qy(t,e,n,s){var u=t.Uc(1,e,n);Qd("Data must be an object, but it was:",u,s);var h=[],_=Pi.empty();Ei(s,function(A,B){var Y=e_(e,A,n);B=(0,un.getModularInstance)(B);var ue=u.Oc(Y);if(B instanceof hw)h.push(Y);else{var pe=Ul(B,ue);null!=pe&&(h.push(Y),_.set(Y,pe))}});var w=new Mc(h);return new fw(_,w,u.fieldTransforms)}function Vl(t,e,n,s,u,h){var _=t.Uc(1,e,n),w=[Zy(e,s,n)],A=[u];if(h.length%2!=0)throw new Ht(Tt.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var B=0;B<h.length;B+=2)w.push(Zy(e,h[B])),A.push(h[B+1]);for(var Y=[],ue=Pi.empty(),pe=w.length-1;pe>=0;--pe)if(!yw(Y,w[pe])){var ze=w[pe],Le=A[pe];Le=(0,un.getModularInstance)(Le);var ut=_.Oc(ze);if(Le instanceof hw)Y.push(ze);else{var Mt=Ul(Le,ut);null!=Mt&&(Y.push(ze),ue.set(ze,Mt))}}var Wt=new Mc(Y);return new fw(ue,Wt,_.fieldTransforms)}function gw(t,e,n,s){return void 0===s&&(s=!1),Ul(n,t.Uc(s?4:3,e))}function Ul(t,e){if(Jy(t=(0,un.getModularInstance)(t)))return Qd("Unsupported field value:",e,t),mw(t,e);if(t instanceof Bl)return function(n,s){if(!ID(s.Nc))throw s.Lc(n._methodName+"() can only be used with update() and set()");if(!s.path)throw s.Lc(n._methodName+"() is not currently supported inside arrays");var u=n._toFieldTransform(s);u&&s.fieldTransforms.push(u)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(n,s){for(var u=[],h=0,_=0,w=n;_<w.length;_++){var A=Ul(w[_],s.Mc(h));null==A&&(A={nullValue:"NULL_VALUE"}),u.push(A),h++}return{arrayValue:{values:u}}}(t,e)}return function(n,s){if(null===(n=(0,un.getModularInstance)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return Uh(s.R,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){var u=eo.fromDate(n);return{timestampValue:cs(s.R,u)}}if(n instanceof eo)return u=new eo(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:cs(s.R,u)};if(n instanceof am)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Hf)return{bytesValue:Kv(s.R,n._byteString)};if(n instanceof Si){var h=n.firestore._databaseId;if(!h.isEqual(u=s.databaseId))throw s.Lc("Document reference is for database "+h.projectId+"/"+h.database+" but should be for database "+u.projectId+"/"+u.database);return{referenceValue:Rg(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s.Lc("Unsupported field value: "+Wc(n))}(t,e)}function mw(t,e){var n={};return cu(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ei(t,function(s,u){var h=Ul(u,e.kc(s));null!=h&&(n[s]=h)}),{mapValue:{fields:n}}}function Jy(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof eo||t instanceof am||t instanceof Hf||t instanceof Si||t instanceof Bl)}function Qd(t,e,n){if(!Jy(n)||"object"!=typeof(u=n)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){var s=Wc(n);throw e.Lc("an object"===s?t+" a custom object":t+" "+s)}var u}function Zy(t,e,n){if((e=(0,un.getModularInstance)(e))instanceof Zu)return e._internalPath;if("string"==typeof e)return e_(t,e);throw cm("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var vw=new RegExp("[~\\*/\\[\\]]");function e_(t,e,n){if(e.search(vw)>=0)throw cm("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Zu.bind.apply(Zu,(0,V.__spreadArray)([void 0],e.split(".")))))._internalPath}catch(s){throw cm("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function cm(t,e,n,s,u){var h=s&&!s.isEmpty(),_=void 0!==u,w="Function "+e+"() called with invalid data";n&&(w+=" (via `toFirestore()`)");var A="";return(h||_)&&(A+=" (found",h&&(A+=" in field "+s),_&&(A+=" in document "+u),A+=")"),new Ht(Tt.INVALID_ARGUMENT,(w+=". ")+t+A)}function yw(t,e){return t.some(function(n){return n.isEqual(e)})}var gp=function(){function t(e,n,s,u,h){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=u,this._converter=h}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Si(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var e=new SD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(e){if(this._document){var n=this._document.data.field(mp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}},t}(),SD=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,V.__extends)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(gp);function mp(t,e){return"string"==typeof e?e_(t,e):e instanceof Zu?e._internalPath:e._delegate._internalPath}var Gf=function(){function t(e,n){this.hasPendingWrites=e,this.fromCache=n}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),ec=function(t){function e(n,s,u,h,_,w){var A=this;return(A=t.call(this,n,s,u,h,w)||this)._firestore=n,A._firestoreImpl=n,A.metadata=_,A}return(0,V.__extends)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(n){if(void 0===n&&(n={}),this._document){if(this._converter){var s=new Jd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},e.prototype.get=function(n,s){if(void 0===s&&(s={}),this._document){var u=this._document.data.field(mp("DocumentSnapshot.get",n));if(null!==u)return this._userDataWriter.convertValue(u,s.serverTimestamps)}},e}(gp),Jd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,V.__extends)(e,t),e.prototype.data=function(n){return void 0===n&&(n={}),t.prototype.data.call(this,n)},e}(ec),tc=function(){function t(e,n,s,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new Gf(u.hasPendingWrites,u.fromCache),this.query=s}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(n){return e.push(n)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,n){var s=this;this._snapshot.docs.forEach(function(u){e.call(n,new Jd(s._firestore,s._userDataWriter,u.key,u,new Gf(s._snapshot.mutatedKeys.has(u.key),s._snapshot.fromCache),s.query.converter))})},t.prototype.docChanges=function(e){void 0===e&&(e={});var n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ht(Tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,u){if(s._snapshot.oldDocs.isEmpty()){var h=0;return s._snapshot.docChanges.map(function(w){return{type:"added",doc:new Jd(s._firestore,s._userDataWriter,w.doc.key,w.doc,new Gf(s._snapshot.mutatedKeys.has(w.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:h++}})}var _=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(function(w){return u||3!==w.type}).map(function(w){var A=new Jd(s._firestore,s._userDataWriter,w.doc.key,w.doc,new Gf(s._snapshot.mutatedKeys.has(w.doc.key),s._snapshot.fromCache),s.query.converter),B=-1,Y=-1;return 0!==w.type&&(B=_.indexOf(w.doc.key),_=_.delete(w.doc.key)),1!==w.type&&(Y=(_=_.add(w.doc)).indexOf(w.doc.key)),{type:R1(w.type),doc:A,oldIndex:B,newIndex:Y}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},t}();function R1(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xn()}}function lm(t,e){return t instanceof ec&&e instanceof ec?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof tc&&e instanceof tc&&t._firestore===e._firestore&&Yy(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function _w(t){if(Id(t)&&0===t.explicitOrderBy.length)throw new Ht(Tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var fm=function(){};function za(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var s=0,u=e;s<u.length;s++){var h=u[s];t=h._apply(t)}return t}var bw=function(t){function e(n,s,u){var h=this;return(h=t.call(this)||this).jc=n,h.Wc=s,h.Gc=u,h.type="where",h}return(0,V.__extends)(e,t),e.prototype._apply=function(n){var h,w,s=Kc(n.firestore),u=function(h,_,w,A,B,Y,ue){var pe;if(B.isKeyField()){if("array-contains"===Y||"array-contains-any"===Y)throw new Ht(Tt.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+Y+"' queries on FieldPath.documentId().");if("in"===Y||"not-in"===Y){AD(ue,Y);for(var ze=[],Le=0,ut=ue;Le<ut.length;Le++)ze.push(hm(A,h,ut[Le]));pe={arrayValue:{values:ze}}}else pe=hm(A,h,ue)}else"in"!==Y&&"not-in"!==Y&&"array-contains-any"!==Y||AD(ue,Y),pe=gw(w,"where",ue,"in"===Y||"not-in"===Y);var Wt=Mo.create(B,Y,pe);return function(hn,bn){if(bn.g()){var tr=fu(hn);if(null!==tr&&!tr.isEqual(bn.field))throw new Ht(Tt.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+tr.toString()+"' and '"+bn.field.toString()+"'");var Yn=bl(hn);null!==Yn&&Ew(0,bn.field,Yn)}var an=function(Ai,Ja){for(var Gn=0,lv=Ai.filters;Gn<lv.length;Gn++){var mt=lv[Gn];if(Ja.indexOf(mt.op)>=0)return mt.op}return null}(hn,function(Ai){switch(Ai){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(bn.op));if(null!==an)throw new Ht(Tt.INVALID_ARGUMENT,an===bn.op?"Invalid query. You cannot use more than one '"+bn.op.toString()+"' filter.":"Invalid query. You cannot use '"+bn.op.toString()+"' filters with '"+an.toString()+"' filters.")}(h,Wt),Wt}(n._query,0,s,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Ro(n.firestore,n.converter,(w=(h=n._query).filters.concat([u]),new lu(h.path,h.collectionGroup,h.explicitOrderBy.slice(),w,h.limit,h.limitType,h.startAt,h.endAt)))},e}(fm),t_=function(t){function e(n,s){var u=this;return(u=t.call(this)||this).jc=n,u.zc=s,u.type="orderBy",u}return(0,V.__extends)(e,t),e.prototype._apply=function(n){var u,_,s=function(u,h,_){if(null!==u.startAt)throw new Ht(Tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new Ht(Tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var w=new yf(h,_);return function(A,B){if(null===bl(A)){var Y=fu(A);null!==Y&&Ew(0,Y,B.field)}}(u,w),w}(n._query,this.jc,this.zc);return new Ro(n.firestore,n.converter,(_=(u=n._query).explicitOrderBy.concat([s]),new lu(u.path,u.collectionGroup,_,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)))},e}(fm),dm=function(t){function e(n,s,u){var h=this;return(h=t.call(this)||this).type=n,h.Hc=s,h.Jc=u,h}return(0,V.__extends)(e,t),e.prototype._apply=function(n){return new Ro(n.firestore,n.converter,wl(n._query,this.Hc,this.Jc))},e}(fm),ww=function(t){function e(n,s,u){var h=this;return(h=t.call(this)||this).type=n,h.Yc=s,h.Xc=u,h}return(0,V.__extends)(e,t),e.prototype._apply=function(n){var u,h,s=yp(n,this.type,this.Yc,this.Xc);return new Ro(n.firestore,n.converter,(h=s,new lu((u=n._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,h,u.endAt)))},e}(fm),vp=function(t){function e(n,s,u){var h=this;return(h=t.call(this)||this).type=n,h.Yc=s,h.Xc=u,h}return(0,V.__extends)(e,t),e.prototype._apply=function(n){var u,h,s=yp(n,this.type,this.Yc,this.Xc);return new Ro(n.firestore,n.converter,(h=s,new lu((u=n._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,h)))},e}(fm);function yp(t,e,n,s){if(n[0]=(0,un.getModularInstance)(n[0]),n[0]instanceof gp)return function(h,_,w,A,B){if(!A)throw new Ht(Tt.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+w+"().");for(var Y=[],ue=0,pe=ja(h);ue<pe.length;ue++){var ze=pe[ue];if(ze.field.isKeyField())Y.push(yd(_,A.key));else{var Le=A.data.field(ze.field);if(Oh(Le))throw new Ht(Tt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ze.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Le){var ut=ze.field.canonicalString();throw new Ht(Tt.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+ut+"' (used as the orderBy) does not exist.")}Y.push(Le)}}return new Ed(Y,B)}(t._query,t.firestore._databaseId,e,n[0]._document,s);var u=Kc(t.firestore);return function(h,_,w,A,B,Y){var ue=h.explicitOrderBy;if(B.length>ue.length)throw new Ht(Tt.INVALID_ARGUMENT,"Too many arguments provided to "+A+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var pe=[],ze=0;ze<B.length;ze++){var Le=B[ze];if(ue[ze].field.isKeyField()){if("string"!=typeof Le)throw new Ht(Tt.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+A+"(), but got a "+typeof Le);if(!co(h)&&-1!==Le.indexOf("/"))throw new Ht(Tt.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+A+"() must be a plain document ID, but '"+Le+"' contains a slash.");var ut=h.path.child(Ur.fromString(Le));if(!Dn.isDocumentKey(ut))throw new Ht(Tt.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+A+"() must result in a valid document path, but '"+ut+"' is not because it contains an odd number of segments.");var Mt=new Dn(ut);pe.push(yd(_,Mt))}else{var Wt=gw(w,A,Le);pe.push(Wt)}}return new Ed(pe,Y)}(t._query,t.firestore._databaseId,u,e,n,s)}function hm(t,e,n){if("string"==typeof(n=(0,un.getModularInstance)(n))){if(""===n)throw new Ht(Tt.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!co(e)&&-1!==n.indexOf("/"))throw new Ht(Tt.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var s=e.path.child(Ur.fromString(n));if(!Dn.isDocumentKey(s))throw new Ht(Tt.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+s+"' is not because it has an odd number of segments ("+s.length+").");return yd(t,new Dn(s))}if(n instanceof Si)return yd(t,n._key);throw new Ht(Tt.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Wc(n)+".")}function AD(t,e){if(!Array.isArray(t)||0===t.length)throw new Ht(Tt.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Ht(Tt.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Ew(t,e,n){if(!n.isEqual(e))throw new Ht(Tt.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var _p=function(){function t(){}return t.prototype.convertValue=function(e,n){switch(void 0===n&&(n="none"),$o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ba(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw xn()}},t.prototype.convertObject=function(e,n){var s=this,u={};return Ei(e.fields,function(h,_){u[h]=s.convertValue(_,n)}),u},t.prototype.convertGeoPoint=function(e){return new am(zi(e.latitude),zi(e.longitude))},t.prototype.convertArray=function(e,n){var s=this;return(e.values||[]).map(function(u){return s.convertValue(u,n)})},t.prototype.convertServerTimestamp=function(e,n){switch(n){case"previous":var s=pf(e);return null==s?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Va(e));default:return null}},t.prototype.convertTimestamp=function(e){var n=ws(e);return new eo(n.seconds,n.nanos)},t.prototype.convertDocumentKey=function(e,n){var s=Ur.fromString(e);Qn(Nd(s));var u=new Ll(s.get(1),s.get(3)),h=new Dn(s.popFirst(5));return u.isEqual(n)||Di("Document "+h+" contains a document reference within a different database ("+u.projectId+"/"+u.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),h},t}();function Zd(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var n_=function(t){function e(n){var s=this;return(s=t.call(this)||this).firestore=n,s}return(0,V.__extends)(e,t),e.prototype.convertBytes=function(n){return new Hf(n)},e.prototype.convertReference=function(n){var s=this.convertDocumentKey(n,this.firestore._databaseId);return new Si(this.firestore,null,s)},e}(_p),Cw=function(){function t(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Kc(e)}return t.prototype.set=function(e,n,s){this._verifyNotCommitted();var u=nc(e,this._firestore),h=Zd(u.converter,n,s),_=um(this._dataReader,"WriteBatch.set",u._key,h,null!==u.converter,s);return this._mutations.push(_.toMutation(u._key,yo.none())),this},t.prototype.update=function(e,n,s){for(var u=[],h=3;h<arguments.length;h++)u[h-3]=arguments[h];this._verifyNotCommitted();var _,w=nc(e,this._firestore);return _="string"==typeof(n=(0,un.getModularInstance)(n))||n instanceof Zu?Vl(this._dataReader,"WriteBatch.update",w._key,n,s,u):Qy(this._dataReader,"WriteBatch.update",w._key,n),this._mutations.push(_.toMutation(w._key,yo.exists(!0))),this},t.prototype.delete=function(e){this._verifyNotCommitted();var n=nc(e,this._firestore);return this._mutations=this._mutations.concat(new Ku(n._key,yo.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Ht(Tt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function nc(t,e){if((t=(0,un.getModularInstance)(t)).firestore!==e)throw new Ht(Tt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var jl=function(t){function e(n){var s=this;return(s=t.call(this)||this).firestore=n,s}return(0,V.__extends)(e,t),e.prototype.convertBytes=function(n){return new Hf(n)},e.prototype.convertReference=function(n){var s=this.convertDocumentKey(n,this.firestore._databaseId);return new Si(this.firestore,null,s)},e}(_p);function r_(t,e,n){t=jr(t,Si);var s=jr(t.firestore,ho),u=Zd(t.converter,e,n);return bp(s,[um(Kc(s),"setDoc",t._key,u,null!==t.converter,n).toMutation(t._key,yo.none())])}function pm(t,e,n){for(var s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];t=jr(t,Si);var h=jr(t.firestore,ho),_=Kc(h);return bp(h,[("string"==typeof(e=(0,un.getModularInstance)(e))||e instanceof Zu?Vl(_,"updateDoc",t._key,e,n,s):Qy(_,"updateDoc",t._key,e)).toMutation(t._key,yo.exists(!0))])}function i_(t){for(var e,n,s,u=[],h=1;h<arguments.length;h++)u[h-1]=arguments[h];t=(0,un.getModularInstance)(t);var _={includeMetadataChanges:!1},w=0;"object"!=typeof u[w]||$f(u[w])||(_=u[w],w++);var A,B,Y,ue={includeMetadataChanges:_.includeMetadataChanges};if($f(u[w])){var pe=u[w];u[w]=null===(e=pe.next)||void 0===e?void 0:e.bind(pe),u[w+1]=null===(n=pe.error)||void 0===n?void 0:n.bind(pe),u[w+2]=null===(s=pe.complete)||void 0===s?void 0:s.bind(pe)}if(t instanceof Si)B=jr(t.firestore,ho),Y=Oc(t._key.path),A={next:function(ut){u[w]&&u[w](gm(B,t,ut))},error:u[w+1],complete:u[w+2]};else{var ze=jr(t,Ro);B=jr(ze.firestore,ho),Y=ze._query;var Le=new jl(B);A={next:function(ut){u[w]&&u[w](new tc(B,Le,ze,ut))},error:u[w+1],complete:u[w+2]},_w(t._query)}return function(ut,Mt,Wt,hn){var bn=this,tr=new lp(hn),Yn=new Qg(Mt,tr,Wt);return ut.asyncQueue.enqueueAndForget(function(){return(0,V.__awaiter)(bn,void 0,void 0,function(){var an;return(0,V.__generator)(this,function(Ai){switch(Ai.label){case 0:return an=qd,[4,Kd(ut)];case 1:return[2,an.apply(void 0,[Ai.sent(),Yn])]}})})}),function(){tr.Wo(),ut.asyncQueue.enqueueAndForget(function(){return(0,V.__awaiter)(bn,void 0,void 0,function(){var an;return(0,V.__generator)(this,function(Ai){switch(Ai.label){case 0:return an=Oy,[4,Kd(ut)];case 1:return[2,an.apply(void 0,[Ai.sent(),Yn])]}})})})}}(xo(B),Y,ue,A)}function bp(t,e){return function(n,s){var u=this,h=new Cn;return n.asyncQueue.enqueueAndForget(function(){return(0,V.__awaiter)(u,void 0,void 0,function(){var _;return(0,V.__generator)(this,function(w){switch(w.label){case 0:return _=$b,[4,qy(n)];case 1:return[2,_.apply(void 0,[w.sent(),s,h])]}})})}),h.promise}(xo(t),e)}function gm(t,e,n){var s=n.docs.get(e._key),u=new jl(t);return new ec(t,u,e._key,s,new Gf(n.hasPendingWrites,n.fromCache),e.converter)}var Iw=function(t){function e(n,s){var u=this;return(u=t.call(this,n,s)||this)._firestore=n,u}return(0,V.__extends)(e,t),e.prototype.get=function(n){var s=this,u=nc(n,this._firestore),h=new jl(this._firestore);return t.prototype.get.call(this,n).then(function(_){return new ec(s._firestore,h,u._key,_._document,new Gf(!1,!1),u.converter)})},e}(function(){function t(e,n){this._firestore=e,this._transaction=n,this._dataReader=Kc(e)}return t.prototype.get=function(e){var n=this,s=nc(e,this._firestore),u=new n_(this._firestore);return this._transaction.lookup([s._key]).then(function(h){if(!h||1!==h.length)return xn();var _=h[0];if(_.isFoundDocument())return new gp(n._firestore,u,_.key,_,s.converter);if(_.isNoDocument())return new gp(n._firestore,u,s._key,null,s.converter);throw xn()})},t.prototype.set=function(e,n,s){var u=nc(e,this._firestore),h=Zd(u.converter,n,s),_=um(this._dataReader,"Transaction.set",u._key,h,null!==u.converter,s);return this._transaction.set(u._key,_),this},t.prototype.update=function(e,n,s){for(var u=[],h=3;h<arguments.length;h++)u[h-3]=arguments[h];var _,w=nc(e,this._firestore);return _="string"==typeof(n=(0,un.getModularInstance)(n))||n instanceof Zu?Vl(this._dataReader,"Transaction.update",w._key,n,s,u):Qy(this._dataReader,"Transaction.update",w._key,n),this._transaction.update(w._key,_),this},t.prototype.delete=function(e){var n=nc(e,this._firestore);return this._transaction.delete(n._key),this},t}());function mm(){if("undefined"==typeof Uint8Array)throw new Ht(Tt.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function o_(){if("undefined"==typeof atob)throw new Ht(Tt.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Dw=function(){function t(e){this._delegate=e}return t.fromBase64String=function(e){return o_(),new t(Hf.fromBase64String(e))},t.fromUint8Array=function(e){return mm(),new t(Hf.fromUint8Array(e))},t.prototype.toBase64=function(){return o_(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return mm(),this._delegate.toUint8Array()},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Tw=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(e,n){return function(s,u){Ky(s=jr(s,ho));var h=xo(s),_=s._freezeSettings(),w=new Qb;return cw(h,w,new qa(w,_.cacheSizeBytes,null==u?void 0:u.forceOwnership))}(e._delegate,{forceOwnership:n})},t.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(n){Ky(n=jr(n,ho));var s=xo(n),u=n._freezeSettings(),h=new Qb;return cw(s,h,new T1(h,u.cacheSizeBytes))}(e._delegate)},t.prototype.clearIndexedDbPersistence=function(e){return function(n){var s=this;if(n._initialized&&!n._terminated)throw new Ht(Tt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var u=new Cn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,V.__awaiter)(s,void 0,void 0,function(){var h;return(0,V.__generator)(this,function(_){switch(_.label){case 0:return _.trys.push([0,2,,3]),[4,function(w){return(0,V.__awaiter)(this,void 0,void 0,function(){return(0,V.__generator)(this,function(B){switch(B.label){case 0:return Fi.yt()?[4,Fi.delete(w+"main")]:[2,Promise.resolve()];case 1:return B.sent(),[2]}})})}(wb(n._databaseId,n._persistenceKey))];case 1:return _.sent(),u.resolve(),[3,3];case 2:return h=_.sent(),u.reject(h),[3,3];case 3:return[2]}})})}),u.promise}(e._delegate)},t}(),vm=function(){function t(e,n,s){var u=this;this._delegate=n,this.Zc=s,this.INTERNAL={delete:function(){return u.terminate()}},e instanceof Ll||(this.tu=e)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){var n=this._delegate._getSettings();e.merge||n.host===e.host||zu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)},t.prototype.useEmulator=function(e,n,s){void 0===s&&(s={}),function(u,h,_,w){var A;void 0===w&&(w={});var B=(u=jr(u,Ju))._getSettings();if("firestore.googleapis.com"!==B.host&&B.host!==h&&zu("Host has been set in both settings() and useEmulator(), emulator host will be used"),u._setSettings(Object.assign(Object.assign({},B),{host:h+":"+_,ssl:!1})),w.mockUserToken){var Y,ue;if("string"==typeof w.mockUserToken)Y=w.mockUserToken,ue=Go.MOCK_USER;else{Y=(0,un.createMockUserToken)(w.mockUserToken,null===(A=u._app)||void 0===A?void 0:A.options.projectId);var pe=w.mockUserToken.sub||w.mockUserToken.user_id;if(!pe)throw new Ht(Tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");ue=new Go(pe)}u._credentials=new Qu(new iw(Y,ue))}}(this._delegate,e,n,s)},t.prototype.enableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return(0,V.__awaiter)(n,void 0,void 0,function(){var s,u;return(0,V.__generator)(this,function(h){switch(h.label){case 0:return[4,tw(e)];case 1:return s=h.sent(),[4,nw(e)];case 2:return u=h.sent(),[2,(s.setNetworkEnabled(!0),_=u,w=cn(_),w.Or.delete(0),Gd(w))]}var _,w})})})}(xo(jr(this._delegate,ho)))},t.prototype.disableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return(0,V.__awaiter)(n,void 0,void 0,function(){var s,u;return(0,V.__generator)(this,function(h){switch(h.label){case 0:return[4,tw(e)];case 1:return s=h.sent(),[4,nw(e)];case 2:return u=h.sent(),[2,(s.setNetworkEnabled(!1),function(_){return(0,V.__awaiter)(this,void 0,void 0,function(){var w;return(0,V.__generator)(this,function(A){switch(A.label){case 0:return(w=cn(_)).Or.add(0),[4,Of(w)];case 1:return A.sent(),w.Br.set("Offline"),[2]}})})}(u))]}})})})}(xo(jr(this._delegate,ho)))},t.prototype.enablePersistence=function(e){var n=!1,s=!1;return e&&sm("synchronizeTabs",n=!!e.synchronizeTabs,"experimentalForceOwningTab",s=!!e.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,s)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var n=this,s=new Cn;return e.asyncQueue.enqueueAndForget(function(){return(0,V.__awaiter)(n,void 0,void 0,function(){var u;return(0,V.__generator)(this,function(h){switch(h.label){case 0:return u=mD,[4,qy(e)];case 1:return[2,u.apply(void 0,[h.sent(),s])]}})})}),s.promise}(xo(jr(this._delegate,ho)))},t.prototype.onSnapshotsInSync=function(e){return s=e,function(u,h){var _=this,w=new lp(h);return u.asyncQueue.enqueueAndForget(function(){return(0,V.__awaiter)(_,void 0,void 0,function(){var A;return(0,V.__generator)(this,function(B){switch(B.label){case 0:return A=function(Y,ue){cn(Y).Gr.add(ue),ue.next()},[4,Kd(u)];case 1:return[2,A.apply(void 0,[B.sent(),w])]}})})}),function(){w.Wo(),u.asyncQueue.enqueueAndForget(function(){return(0,V.__awaiter)(_,void 0,void 0,function(){var A;return(0,V.__generator)(this,function(B){switch(B.label){case 0:return A=function(Y,ue){cn(Y).Gr.delete(ue)},[4,Kd(u)];case 1:return[2,A.apply(void 0,[B.sent(),w])]}})})})}}(xo(jr(this._delegate,ho)),$f(s)?s:{next:s});var s},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new Ht(Tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new bm(this,zy(this._delegate,e))}catch(n){throw As(n,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new $l(this,pp(this._delegate,e))}catch(n){throw As(n,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new Ep(this,function(n,s){if(n=jr(n,Ju),Xd("collectionGroup","collection id",s),s.indexOf("/")>=0)throw new Ht(Tt.INVALID_ARGUMENT,"Invalid collection ID '"+s+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Ro(n,null,(u=s,new lu(Ur.emptyPath(),u)));var u}(this._delegate,e))}catch(n){throw As(n,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var s,n=this;return function(h,_){var w=this,A=new Cn;return h.asyncQueue.enqueueAndForget(function(){return(0,V.__awaiter)(w,void 0,void 0,function(){var B;return(0,V.__generator)(this,function(Y){switch(Y.label){case 0:return[4,(ue=h,im(ue).then(function(pe){return pe.datastore}))];case 1:return B=Y.sent(),new S1(h.asyncQueue,B,_,A).run(),[2]}var ue})})}),A.promise}(xo(s=this._delegate),function(h){return function(s){return e(new a_(n,s))}(new Iw(s,h))})},t.prototype.batch=function(){var e=this;return xo(this._delegate),new u_(new Cw(this._delegate,function(n){return bp(e._delegate,n)}))},t.prototype.loadBundle=function(e){throw new Ht(Tt.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(e){throw new Ht(Tt.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),eh=function(t){function e(n){var s=this;return(s=t.call(this)||this).firestore=n,s}return(0,V.__extends)(e,t),e.prototype.convertBytes=function(n){return new Dw(new Hf(n))},e.prototype.convertReference=function(n){var s=this.convertDocumentKey(n,this.firestore._databaseId);return $l.eu(s,this.firestore,null)},e}(_p),a_=function(){function t(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new eh(e)}return t.prototype.get=function(e){var n=this,s=Ui(e);return this._delegate.get(s).then(function(u){return new th(n._firestore,new ec(n._firestore._delegate,n._userDataWriter,u._key,u._document,u.metadata,s.converter))})},t.prototype.set=function(e,n,s){var u=Ui(e);return s?(sa("Transaction.set",s),this._delegate.set(u,n,s)):this._delegate.set(u,n),this},t.prototype.update=function(e,n,s){for(var u,h=[],_=3;_<arguments.length;_++)h[_-3]=arguments[_];var w=Ui(e);return 2===arguments.length?this._delegate.update(w,n):(u=this._delegate).update.apply(u,(0,V.__spreadArray)([w,n,s],h)),this},t.prototype.delete=function(e){var n=Ui(e);return this._delegate.delete(n),this},t}(),u_=function(){function t(e){this._delegate=e}return t.prototype.set=function(e,n,s){var u=Ui(e);return s?(sa("WriteBatch.set",s),this._delegate.set(u,n,s)):this._delegate.set(u,n),this},t.prototype.update=function(e,n,s){for(var u,h=[],_=3;_<arguments.length;_++)h[_-3]=arguments[_];var w=Ui(e);return 2===arguments.length?this._delegate.update(w,n):(u=this._delegate).update.apply(u,(0,V.__spreadArray)([w,n,s],h)),this},t.prototype.delete=function(e){var n=Ui(e);return this._delegate.delete(n),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),wp=function(){function t(e,n,s){this._firestore=e,this._userDataWriter=n,this._delegate=s}return t.prototype.fromFirestore=function(e,n){var s=new Jd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ym(this._firestore,s),null!=n?n:{})},t.prototype.toFirestore=function(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)},t.nu=function(e,n){var s=t.su,u=s.get(e);u||s.set(e,u=new WeakMap);var h=u.get(n);return h||(h=new t(e,new eh(e),n),u.set(n,h)),h},t}();wp.su=new WeakMap;var $l=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new eh(e)}return t.iu=function(e,n,s){if(e.length%2!=0)throw new Ht(Tt.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Si(n._delegate,s,new Dn(e)))},t.eu=function(e,n,s){return new t(n,new Si(n._delegate,s,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new bm(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new bm(this.firestore,zy(this._delegate,e))}catch(n){throw As(n,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return(e=(0,un.getModularInstance)(e))instanceof Si&&Wy(this._delegate,e)},t.prototype.set=function(e,n){n=sa("DocumentReference.set",n);try{return n?r_(this._delegate,e,n):r_(this._delegate,e)}catch(s){throw As(s,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,n){for(var s=[],u=2;u<arguments.length;u++)s[u-2]=arguments[u];try{return 1===arguments.length?pm(this._delegate,e):pm.apply(void 0,(0,V.__spreadArray)([this._delegate,e,n],s))}catch(h){throw As(h,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return bp(jr((e=this._delegate).firestore,ho),[new Ku(e._key,yo.none())]);var e},t.prototype.onSnapshot=function(){for(var e=this,n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];var u=c_(n),h=l_(n,function(_){return new th(e.firestore,new ec(e.firestore._delegate,e._userDataWriter,_._key,_._document,_.metadata,e._delegate.converter))});return i_(this._delegate,u,h)},t.prototype.get=function(e){var n=this;return("cache"===(null==e?void 0:e.source)?function(s){s=jr(s,Si);var u=jr(s.firestore,ho),h=xo(u),_=new jl(u);return function(w,A){var B=this,Y=new Cn;return w.asyncQueue.enqueueAndForget(function(){return(0,V.__awaiter)(B,void 0,void 0,function(){var ue;return(0,V.__generator)(this,function(pe){switch(pe.label){case 0:return ue=function(ze,Le,ut){return(0,V.__awaiter)(this,void 0,void 0,function(){var Mt,Wt;return(0,V.__generator)(this,function(hn){switch(hn.label){case 0:return hn.trys.push([0,2,,3]),[4,(bn=ze,tr=Le,Yn=cn(bn),Yn.persistence.runTransaction("read document","readonly",function(an){return Yn.Mn.mn(an,tr)}))];case 1:return(Wt=hn.sent()).isFoundDocument()?ut.resolve(Wt):Wt.isNoDocument()?ut.resolve(null):ut.reject(new Ht(Tt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return Mt=hn.sent(),Wt=Pf(Mt,"Failed to get document '"+Le+" from cache"),ut.reject(Wt),[3,3];case 3:return[2]}var bn,tr,Yn})})},[4,Gy(w)];case 1:return[2,ue.apply(void 0,[pe.sent(),A,Y])]}})})}),Y.promise}(h,s._key).then(function(w){return new ec(u,_,s._key,w,new Gf(null!==w&&w.hasLocalMutations,!0),s.converter)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(s){s=jr(s,Si);var u=jr(s.firestore,ho);return dp(xo(u),s._key,{source:"server"}).then(function(h){return gm(u,s,h)})}(this._delegate):function(s){s=jr(s,Si);var u=jr(s.firestore,ho);return dp(xo(u),s._key).then(function(h){return gm(u,s,h)})}(this._delegate)).then(function(s){return new th(n.firestore,new ec(n.firestore._delegate,n._userDataWriter,s._key,s._document,s.metadata,n._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?wp.nu(this.firestore,e):null))},t}();function As(t,e,n){return t.message=t.message.replace(e,n),t}function c_(t){for(var e=0,n=t;e<n.length;e++){var s=n[e];if("object"==typeof s&&!$f(s))return s}return{}}function l_(t,e){var n,s,u;return{next:function(h){u.next&&u.next(e(h))},error:null===(n=(u=$f(t[0])?t[0]:$f(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(u),complete:null===(s=u.complete)||void 0===s?void 0:s.bind(u)}}var th=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"ref",{get:function(){return new $l(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this._delegate.data(e)},t.prototype.get=function(e,n){return this._delegate.get(e,n)},t.prototype.isEqual=function(e){return lm(this._delegate,e._delegate)},t}(),ym=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,V.__extends)(e,t),e.prototype.data=function(n){return this._delegate.data(n)},e}(th),Ep=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new eh(e)}return t.prototype.where=function(e,n,s){try{return new t(this.firestore,za(this._delegate,(_=s,w=n,A=mp("where",u=e),new bw(A,w,_))))}catch(u){throw As(u,/(orderBy|where)\(\)/,"Query.$1()")}var u,_,w,A},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,za(this._delegate,function(s,u){void 0===u&&(u="asc");var h=u,_=mp("orderBy",s);return new t_(_,h)}(e,n)))}catch(s){throw As(s,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,za(this._delegate,(Uf("limit",n=e),new dm("limit",n,"F"))))}catch(n){throw As(n,"limit()","Query.limit()")}var n},t.prototype.limitToLast=function(e){try{return new t(this.firestore,za(this._delegate,(Uf("limitToLast",n=e),new dm("limitToLast",n,"L"))))}catch(n){throw As(n,"limitToLast()","Query.limitToLast()")}var n},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,za(this._delegate,function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return new ww("startAt",s,!0)}.apply(void 0,e)))}catch(s){throw As(s,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,za(this._delegate,function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return new ww("startAfter",s,!1)}.apply(void 0,e)))}catch(s){throw As(s,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,za(this._delegate,function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return new vp("endBefore",s,!0)}.apply(void 0,e)))}catch(s){throw As(s,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,za(this._delegate,function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return new vp("endAt",s,!1)}.apply(void 0,e)))}catch(s){throw As(s,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return Yy(this._delegate,e._delegate)},t.prototype.get=function(e){var n=this;return("cache"===(null==e?void 0:e.source)?function(s){s=jr(s,Ro);var u=jr(s.firestore,ho),h=xo(u),_=new jl(u);return function(w,A){var B=this,Y=new Cn;return w.asyncQueue.enqueueAndForget(function(){return(0,V.__awaiter)(B,void 0,void 0,function(){var ue;return(0,V.__generator)(this,function(pe){switch(pe.label){case 0:return ue=function(ze,Le,ut){return(0,V.__awaiter)(this,void 0,void 0,function(){var Mt,Wt,hn,bn,tr;return(0,V.__generator)(this,function(Yn){switch(Yn.label){case 0:return Yn.trys.push([0,2,,3]),[4,Hg(ze,Le,!0)];case 1:return tr=Yn.sent(),Mt=new Ly(Le,tr.Bn),Wt=Mt._o(tr.documents),hn=Mt.applyChanges(Wt,!1),ut.resolve(hn.snapshot),[3,3];case 2:return bn=Yn.sent(),tr=Pf(bn,"Failed to execute query '"+Le+" against cache"),ut.reject(tr),[3,3];case 3:return[2]}})})},[4,Gy(w)];case 1:return[2,ue.apply(void 0,[pe.sent(),A,Y])]}})})}),Y.promise}(h,s._query).then(function(w){return new tc(u,_,s,w)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(s){s=jr(s,Ro);var u=jr(s.firestore,ho),h=xo(u),_=new jl(u);return Ff(h,s._query,{source:"server"}).then(function(w){return new tc(u,_,s,w)})}(this._delegate):function(s){s=jr(s,Ro);var u=jr(s.firestore,ho),h=xo(u),_=new jl(u);return _w(s._query),Ff(h,s._query).then(function(w){return new tc(u,_,s,w)})}(this._delegate)).then(function(s){return new _m(n.firestore,new tc(n.firestore._delegate,n._userDataWriter,n._delegate,s._snapshot))})},t.prototype.onSnapshot=function(){for(var e=this,n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];var u=c_(n),h=l_(n,function(_){return new _m(e.firestore,new tc(e.firestore._delegate,e._userDataWriter,e._delegate,_._snapshot))});return i_(this._delegate,u,h)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?wp.nu(this.firestore,e):null))},t}(),MD=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new ym(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),_m=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"query",{get:function(){return new Ep(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(n){return new ym(e._firestore,n)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var n=this;return this._delegate.docChanges(e).map(function(s){return new MD(n._firestore,s)})},t.prototype.forEach=function(e,n){var s=this;this._delegate.forEach(function(u){e.call(n,new ym(s._firestore,u))})},t.prototype.isEqual=function(e){return lm(this._delegate,e._delegate)},t}(),bm=function(t){function e(n,s){var u=this;return(u=t.call(this,n,s)||this).firestore=n,u._delegate=s,u}return(0,V.__extends)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new $l(this.firestore,n):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(n){try{return new $l(this.firestore,void 0===n?pp(this._delegate):pp(this._delegate,n))}catch(s){throw As(s,"doc()","CollectionReference.doc()")}},e.prototype.add=function(n){var u,h,_,w,A,s=this;return(u=this._delegate,h=n,_=jr(u.firestore,ho),w=pp(u),A=Zd(u.converter,h),bp(_,[um(Kc(u.firestore),"addDoc",w._key,A,null!==u.converter,{}).toMutation(w._key,yo.exists(!1))]).then(function(){return w})).then(function(u){return new $l(s.firestore,u)})},e.prototype.isEqual=function(n){return Wy(this._delegate,n._delegate)},e.prototype.withConverter=function(n){return new e(this.firestore,this._delegate.withConverter(n?wp.nu(this.firestore,n):null))},e}(Ep);function Ui(t){return jr(t,Si)}var Sw=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._delegate=new(Zu.bind.apply(Zu,(0,V.__spreadArray)([void 0],e)))}return t.documentId=function(){return new t(bs.keyField().canonicalString())},t.prototype.isEqual=function(e){return(e=(0,un.getModularInstance)(e))instanceof Zu&&this._delegate._internalPath.isEqual(e._internalPath)},t}(),RD=function(){function t(e){this._delegate=e}return t.serverTimestamp=function(){var e=new A1("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new hw("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var s=function(){for(var u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];return new TD("arrayUnion",u)}.apply(void 0,e);return s._methodName="FieldValue.arrayUnion",new t(s)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var s=function(){for(var u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];return new pw("arrayRemove",u)}.apply(void 0,e);return s._methodName="FieldValue.arrayRemove",new t(s)},t.increment=function(e){var n=new M1("increment",e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t}();function xD(t){return n=t,s=xo(e=jr(e=this._delegate,ho)),u=new sw,function(h,_,w,A){var ue,pe,ze,B=this,Y=(ue=w,pe=sp(_),ze=function(ze,Le){if(ze instanceof Uint8Array)return Hy(ze,void 0);if(ze instanceof ArrayBuffer)return Hy(new Uint8Array(ze),void 0);if(ze instanceof ReadableStream)return ze.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof ue?(new TextEncoder).encode(ue):ue),new Jb(ze,pe));h.asyncQueue.enqueueAndForget(function(){return(0,V.__awaiter)(B,void 0,void 0,function(){var ue;return(0,V.__generator)(this,function(pe){switch(pe.label){case 0:return ue=Xb,[4,qy(h)];case 1:return ue.apply(void 0,[pe.sent(),Y,A]),[2]}})})})}(s,e._databaseId,n,u),u;var e,n,s,u}function Aw(t){var e,n,s=this;return(e=this._delegate,n=t,function(u,h){var _=this;return u.asyncQueue.enqueue(function(){return(0,V.__awaiter)(_,void 0,void 0,function(){var w;return(0,V.__generator)(this,function(A){switch(A.label){case 0:return w=function(B,Y){var ue=cn(B);return ue.persistence.runTransaction("Get named query","readonly",function(pe){return ue.Ke.getNamedQuery(pe,Y)})},[4,Gy(u)];case 1:return[2,w.apply(void 0,[A.sent(),h])]}})})})}(xo(e=jr(e,ho)),n).then(function(u){return u?new Ro(e,null,u.query):null})).then(function(u){return u?new Ep(s,u):null})}var Xc=de(2461),Mw={Firestore:vm,GeoPoint:am,Timestamp:eo,Blob:Dw,Transaction:a_,WriteBatch:u_,DocumentReference:$l,DocumentSnapshot:th,Query:Ep,QueryDocumentSnapshot:ym,QuerySnapshot:_m,CollectionReference:bm,FieldPath:Sw,FieldValue:RD,setLogLevel:function s_(t){Ls.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function Rw(t){t.INTERNAL.registerComponent(new Xc.Component("firestore",function(s){return e=s.getProvider("app").getImmediate(),n=s.getProvider("auth-internal"),new vm(e,new ho(e,n),new Tw);var e,n},"PUBLIC").setServiceProps(Object.assign({},Mw))),t.registerVersion("@firebase/firestore","2.4.1")}(rn.default),function nh(t){t.prototype.loadBundle=xD,t.prototype.namedQuery=Aw}(vm);var xw={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},rh=function(t){function e(n,s,u){var h=t.call(this,s)||this;return Object.setPrototypeOf(h,e.prototype),h.code=n,h.details=u,h}return(0,V.__extends)(e,t),e}(Error),Ow=function(){function t(e,n){var s=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(function(u){return s.auth=u},function(){}),this.messaging||n.get().then(function(u){return s.messaging=u},function(){})}return t.prototype.getAuthToken=function(){return(0,V.__awaiter)(this,void 0,void 0,function(){var e;return(0,V.__generator)(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=n.sent())?[2,e.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return(0,V.__awaiter)(this,void 0,void 0,function(){return(0,V.__generator)(this,function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getContext=function(){return(0,V.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,V.__generator)(this,function(s){switch(s.label){case 0:return[4,this.getAuthToken()];case 1:return e=s.sent(),[4,this.getInstanceIdToken()];case 2:return n=s.sent(),[2,{authToken:e,instanceIdToken:n}]}})})},t}();function wm(t,e){var n={};for(var s in t)t.hasOwnProperty(s)&&(n[s]=e(t[s]));return n}var rc=function(){function t(){}return t.prototype.encode=function(e){var n=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e)||!0===e||!1===e||"[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(function(s){return n.encode(s)});if("function"==typeof e||"object"==typeof e)return wm(e,function(s){return n.encode(s)});throw new Error("Data cannot be encoded in JSON: "+e)},t.prototype.decode=function(e){var n=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var s=Number(e.value);if(isNaN(s))throw new Error("Data cannot be decoded from JSON: "+e);return s;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(function(u){return n.decode(u)}):"function"==typeof e||"object"==typeof e?wm(e,function(u){return n.decode(u)}):e},t}(),Pw=function(){function t(e,n,s,u,h,_){var w=this;void 0===h&&(h="us-central1"),this.app_=e,this.appCheckProvider=u,this.fetchImpl=_,this.serializer=new rc,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(w.deleteService())}},this.contextProvider=new Ow(n,s),this.cancelAllRequests=new Promise(function(B){w.deleteService=function(){return B()}});try{var A=new URL(h);this.customDomain=A.origin,this.region="us-central1"}catch(B){this.customDomain=null,this.region=h}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(e){var n=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+n+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+n+".cloudfunctions.net/"+e},t.prototype.useEmulator=function(e,n){this.emulatorOrigin="http://"+e+":"+n},t.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},t.prototype.httpsCallable=function(e,n){var s=this;return function(u){return s.call(e,u,n||{})}},t.prototype.postJSON=function(e,n,s){return(0,V.__awaiter)(this,void 0,void 0,function(){var u,h,_;return(0,V.__generator)(this,function(w){switch(w.label){case 0:return s["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(u=w.sent())&&(s["X-Firebase-AppCheck"]=u),w.label=2;case 2:return w.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(n),headers:s})];case 3:return h=w.sent(),[3,5];case 4:return w.sent(),[2,{status:0,json:null}];case 5:_=null,w.label=6;case 6:return w.trys.push([6,8,,9]),[4,h.json()];case 7:return _=w.sent(),[3,9];case 8:return w.sent(),[3,9];case 9:return[2,{status:h.status,json:_}]}})})},t.prototype.getAppCheckToken=function(){return(0,V.__awaiter)(this,void 0,void 0,function(){var e;return(0,V.__generator)(this,function(s){switch(s.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,s.sent().token];case 2:return[2,null]}})})},t.prototype.call=function(e,n,s){return(0,V.__awaiter)(this,void 0,void 0,function(){var u,h,_,w,B,Y,ue,pe,ze,Le;return(0,V.__generator)(this,function(Mt){switch(Mt.label){case 0:return u=this._url(e),n=this.serializer.encode(n),h={data:n},_={},[4,this.contextProvider.getContext()];case 1:return(w=Mt.sent()).authToken&&(_.Authorization="Bearer "+w.authToken),w.instanceIdToken&&(_["Firebase-Instance-ID-Token"]=w.instanceIdToken),B=function OD(t){var e,n=new Promise(function(s,u){e=setTimeout(function(){u(new rh("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:n}}(s.timeout||7e4),Y=B.timer,ue=B.promise,[4,Promise.race([wu(Y,this.postJSON(u,h,_)),ue,wu(Y,this.cancelAllRequests)])];case 2:if(!(pe=Mt.sent()))throw new rh("cancelled","Firebase Functions instance was deleted.");if(ze=function kD(t,e,n){var s=function kw(t){if(t>=200&&t<300)return"ok";switch(t){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),u=s,h=void 0;try{var _=e&&e.error;if(_){var w=_.status;if("string"==typeof w){if(!xw[w])return new rh("internal","internal");s=xw[w],u=w}var A=_.message;"string"==typeof A&&(u=A),void 0!==(h=_.details)&&(h=n.decode(h))}}catch(B){}return"ok"===s?null:new rh(s,u,h)}(pe.status,pe.json,this.serializer),ze)throw ze;if(!pe.json)throw new rh("internal","Response is not valid JSON object.");if(void 0===(Le=pe.json.data)&&(Le=pe.json.result),void 0===Le)throw new rh("internal","Response is missing data field.");return[2,{data:this.serializer.decode(Le)}]}})})},t}();function wu(t,e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n;return(0,V.__generator)(this,function(s){switch(s.label){case 0:return[4,e];case 1:return n=s.sent(),clearTimeout(t),[2,n]}})})}(function Cu(t,e){var n={Functions:Pw};t.INTERNAL.registerComponent(new Xc.Component("functions",function s(u,h){var _=h.instanceIdentifier,w=u.getProvider("app").getImmediate(),A=u.getProvider("auth-internal"),B=u.getProvider("app-check-internal"),Y=u.getProvider("messaging");return new Pw(w,A,Y,B,_,e)},"PUBLIC").setServiceProps(n).setMultipleInstances(!0))})(rn.default,fetch.bind(self)),rn.default.registerVersion("@firebase/functions","0.6.16");var Qc,ih=de(2940),Em="w:0.4.32",Cm=((Qc={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Qc["not-registered"]="Firebase Installation is not registered.",Qc["installation-not-found"]="Firebase Installation not found.",Qc["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Qc["app-offline"]="Could not process request. Application offline.",Qc["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Qc),Jc=new un.ErrorFactory("installations","Installations",Cm);function f_(t){return t instanceof un.FirebaseError&&t.code.includes("request-failed")}function Im(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function d_(t){return{token:t.token,requestStatus:2,expiresIn:$w(t.expiresIn),creationTime:Date.now()}}function sh(t,e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n,s;return(0,V.__generator)(this,function(u){switch(u.label){case 0:return[4,e.json()];case 1:return n=u.sent(),[2,Jc.create("request-failed",{requestName:t,serverCode:(s=n.error).code,serverMessage:s.message,serverStatus:s.status})]}})})}function h_(t){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey})}function p_(t,e){var n=e.refreshToken,s=h_(t);return s.append("Authorization",function Hw(t){return"FIS_v2 "+t}(n)),s}function Dm(t){return(0,V.__awaiter)(this,void 0,void 0,function(){var e;return(0,V.__generator)(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}})})}function $w(t){return Number(t.replace("s","000"))}function Gw(t,e){var n=e.fid;return(0,V.__awaiter)(this,void 0,void 0,function(){var s,u,_,w,A;return(0,V.__generator)(this,function(Y){switch(Y.label){case 0:return s=Im(t),u=h_(t),_={method:"POST",headers:u,body:JSON.stringify({fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:Em})},[4,Dm(function(){return fetch(s,_)})];case 1:return(w=Y.sent()).ok?[4,w.json()]:[3,3];case 2:return[2,{fid:(A=Y.sent()).fid||n,registrationStatus:2,refreshToken:A.refreshToken,authToken:d_(A.authToken)}];case 3:return[4,sh("Create Installation",w)];case 4:throw Y.sent()}})})}function g_(t){return new Promise(function(e){setTimeout(e,t)})}var LD=/^[cdef][\w-]{21}$/;function BD(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var n=function VD(t){return function qw(t){return btoa(String.fromCharCode.apply(String,(0,V.__spreadArray)([],(0,V.__read)(t)))).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return LD.test(n)?n:""}catch(s){return""}}function ah(t){return t.appName+"!"+t.appId}var uh=new Map;function zw(t,e){var n=ah(t);Ww(n,e),function $D(t,e){var n=Yw();n&&n.postMessage({key:t,fid:e}),Kw()}(n,e)}function Ww(t,e){var n,s,u=uh.get(t);if(u)try{for(var h=(0,V.__values)(u),_=h.next();!_.done;_=h.next())(0,_.value)(e)}catch(A){n={error:A}}finally{try{_&&!_.done&&(s=h.return)&&s.call(h)}finally{if(n)throw n.error}}}var qf=null;function Yw(){return!qf&&"BroadcastChannel"in self&&((qf=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){Ww(t.data.key,t.data.fid)}),qf}function Kw(){0===uh.size&&qf&&(qf.close(),qf=null)}var zf="firebase-installations-store",v_=null;function Tm(){return v_||(v_=(0,ih.openDb)("firebase-installations-database",1,function(t){0===t.oldVersion&&t.createObjectStore(zf)})),v_}function Cp(t,e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n,s,u,h,_;return(0,V.__generator)(this,function(w){switch(w.label){case 0:return n=ah(t),[4,Tm()];case 1:return s=w.sent(),u=s.transaction(zf,"readwrite"),[4,(h=u.objectStore(zf)).get(n)];case 2:return _=w.sent(),[4,h.put(e,n)];case 3:return w.sent(),[4,u.complete];case 4:return w.sent(),(!_||_.fid!==e.fid)&&zw(t,e.fid),[2,e]}})})}function Sm(t){return(0,V.__awaiter)(this,void 0,void 0,function(){var e,n,s;return(0,V.__generator)(this,function(u){switch(u.label){case 0:return e=ah(t),[4,Tm()];case 1:return n=u.sent(),[4,(s=n.transaction(zf,"readwrite")).objectStore(zf).delete(e)];case 2:return u.sent(),[4,s.complete];case 3:return u.sent(),[2]}})})}function ch(t,e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n,s,u,h,_,w;return(0,V.__generator)(this,function(A){switch(A.label){case 0:return n=ah(t),[4,Tm()];case 1:return s=A.sent(),u=s.transaction(zf,"readwrite"),[4,(h=u.objectStore(zf)).get(n)];case 2:return _=A.sent(),void 0!==(w=e(_))?[3,4]:[4,h.delete(n)];case 3:return A.sent(),[3,6];case 4:return[4,h.put(w,n)];case 5:A.sent(),A.label=6;case 6:return[4,u.complete];case 7:return A.sent(),w&&(!_||_.fid!==w.fid)&&zw(t,w.fid),[2,w]}})})}function Am(t){return(0,V.__awaiter)(this,void 0,void 0,function(){var e,n,s;return(0,V.__generator)(this,function(u){switch(u.label){case 0:return[4,ch(t,function(h){var _=function Xw(t){return __(t||{fid:BD(),registrationStatus:0})}(h),w=function Qw(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Jc.create("app-offline"))};var s={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},u=function Jw(t,e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n,s;return(0,V.__generator)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,7]),[4,Gw(t,e)];case 1:return n=u.sent(),[2,Cp(t,n)];case 2:return f_(s=u.sent())&&409===s.customData.serverCode?[4,Sm(t)]:[3,4];case 3:return u.sent(),[3,6];case 4:return[4,Cp(t,{fid:e.fid,registrationStatus:0})];case 5:u.sent(),u.label=6;case 6:throw s;case 7:return[2]}})})}(t,s);return{installationEntry:s,registrationPromise:u}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Zw(t)}:{installationEntry:e}}(t,_);return e=w.registrationPromise,w.installationEntry})];case 1:return""!==(n=u.sent()).fid?[3,3]:(s={},[4,e]);case 2:return[2,(s.installationEntry=u.sent(),s)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function Zw(t){return(0,V.__awaiter)(this,void 0,void 0,function(){var e,n,s,u;return(0,V.__generator)(this,function(h){switch(h.label){case 0:return[4,y_(t)];case 1:e=h.sent(),h.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,g_(100)];case 3:return h.sent(),[4,y_(t)];case 4:return e=h.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,Am(t)];case 6:return n=h.sent(),s=n.installationEntry,(u=n.registrationPromise)?[2,u]:[2,s];case 7:return[2,e]}})})}function y_(t){return ch(t,function(e){if(!e)throw Jc.create("installation-not-found");return __(e)})}function __(t){return function Wf(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function qD(t,e){var n=t.appConfig,s=t.platformLoggerProvider;return(0,V.__awaiter)(this,void 0,void 0,function(){var u,h,_,A,B;return(0,V.__generator)(this,function(pe){switch(pe.label){case 0:return u=function zD(t,e){var n=e.fid;return Im(t)+"/"+n+"/authTokens:generate"}(n,e),h=p_(n,e),(_=s.getImmediate({optional:!0}))&&h.append("x-firebase-client",_.getPlatformInfoString()),A={method:"POST",headers:h,body:JSON.stringify({installation:{sdkVersion:Em}})},[4,Dm(function(){return fetch(u,A)})];case 1:return(B=pe.sent()).ok?[4,B.json()]:[3,3];case 2:return[2,d_(pe.sent())];case 3:return[4,sh("Generate Auth Token",B)];case 4:throw pe.sent()}})})}function Hl(t,e){return void 0===e&&(e=!1),(0,V.__awaiter)(this,void 0,void 0,function(){var n,s,h;return(0,V.__generator)(this,function(_){switch(_.label){case 0:return[4,ch(t.appConfig,function(w){if(!b_(w))throw Jc.create("not-registered");var A=w.authToken;if(!e&&function eE(t){return 2===t.requestStatus&&!function N1(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}(A))return w;if(1===A.requestStatus)return n=function k1(t,e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n,s;return(0,V.__generator)(this,function(u){switch(u.label){case 0:return[4,Mm(t.appConfig)];case 1:n=u.sent(),u.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,g_(100)];case 3:return u.sent(),[4,Mm(t.appConfig)];case 4:return n=u.sent(),[3,2];case 5:return 0===(s=n.authToken).requestStatus?[2,Hl(t,e)]:[2,s]}})})}(t,e),w;if(!navigator.onLine)throw Jc.create("app-offline");var B=function Jn(t){var e={requestStatus:1,requestTime:Date.now()};return(0,V.__assign)((0,V.__assign)({},t),{authToken:e})}(w);return n=function O1(t,e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n,s,u;return(0,V.__generator)(this,function(h){switch(h.label){case 0:return h.trys.push([0,3,,8]),[4,qD(t,e)];case 1:return n=h.sent(),u=(0,V.__assign)((0,V.__assign)({},e),{authToken:n}),[4,Cp(t.appConfig,u)];case 2:return h.sent(),[2,n];case 3:return!f_(s=h.sent())||401!==s.customData.serverCode&&404!==s.customData.serverCode?[3,5]:[4,Sm(t.appConfig)];case 4:return h.sent(),[3,7];case 5:return u=(0,V.__assign)((0,V.__assign)({},e),{authToken:{requestStatus:0}}),[4,Cp(t.appConfig,u)];case 6:h.sent(),h.label=7;case 7:throw s;case 8:return[2]}})})}(t,B),B})];case 1:return s=_.sent(),n?[4,n]:[3,3];case 2:return h=_.sent(),[3,4];case 3:h=s.authToken,_.label=4;case 4:return[2,h]}})})}function Mm(t){return ch(t,function(e){if(!b_(e))throw Jc.create("not-registered");return function WD(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?(0,V.__assign)((0,V.__assign)({},e),{authToken:{requestStatus:0}}):e})}function b_(t){return void 0!==t&&2===t.registrationStatus}function Rm(t){return(0,V.__awaiter)(this,void 0,void 0,function(){var e;return(0,V.__generator)(this,function(n){switch(n.label){case 0:return[4,Am(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}function XD(t,e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n,s,u,h;return(0,V.__generator)(this,function(_){switch(_.label){case 0:return n=function xm(t,e){var n=e.fid;return Im(t)+"/"+n}(t,e),s=p_(t,e),u={method:"DELETE",headers:s},[4,Dm(function(){return fetch(n,u)})];case 1:return(h=_.sent()).ok?[3,3]:[4,sh("Delete Installation",h)];case 2:throw _.sent();case 3:return[2]}})})}function Om(t){return Jc.create("missing-app-config-values",{valueName:t})}!function QD(t){t.INTERNAL.registerComponent(new Xc.Component("installations",function(n){var s=n.getProvider("app").getImmediate(),u=function P1(t){var e,n;if(!t||!t.options)throw Om("App Configuration");if(!t.name)throw Om("App Name");try{for(var u=(0,V.__values)(["projectId","apiKey","appId"]),h=u.next();!h.done;h=u.next()){var _=h.value;if(!t.options[_])throw Om(_)}}catch(w){e={error:w}}finally{try{h&&!h.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(s),_={appConfig:u,platformLoggerProvider:n.getProvider("platform-logger")},w={app:s,getId:function(){return function YD(t){return(0,V.__awaiter)(this,void 0,void 0,function(){var e,n,s;return(0,V.__generator)(this,function(u){switch(u.label){case 0:return[4,Am(t.appConfig)];case 1:return e=u.sent(),n=e.installationEntry,(s=e.registrationPromise)?s.catch(console.error):Hl(t).catch(console.error),[2,n.fid]}})})}(_)},getToken:function(A){return function KD(t,e){return void 0===e&&(e=!1),(0,V.__awaiter)(this,void 0,void 0,function(){return(0,V.__generator)(this,function(s){switch(s.label){case 0:return[4,Rm(t.appConfig)];case 1:return s.sent(),[4,Hl(t,e)];case 2:return[2,s.sent().token]}})})}(_,A)},delete:function(){return function km(t){return(0,V.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,V.__generator)(this,function(s){switch(s.label){case 0:return[4,ch(e=t.appConfig,function(u){if(!u||0!==u.registrationStatus)return u})];case 1:if(!(n=s.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw Jc.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw Jc.create("app-offline");case 3:return[4,XD(e,n)];case 4:return s.sent(),[4,Sm(e)];case 5:s.sent(),s.label=6;case 6:return[2]}})})}(_)},onIdChange:function(A){return function no(t,e){var n=t.appConfig;return function UD(t,e){Yw();var n=ah(t),s=uh.get(n);s||uh.set(n,s=new Set),s.add(e)}(n,e),function(){!function jD(t,e){var n=ah(t),s=uh.get(n);!s||(s.delete(e),0===s.size&&uh.delete(n),Kw())}(n,e)}}(_,A)}};return w},"PUBLIC")),t.registerVersion("@firebase/installations","0.4.32")}(rn.default);var ko,tE=((ko={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',ko["only-available-in-window"]="This method is available in a Window context.",ko["only-available-in-sw"]="This method is available in a service worker context.",ko["permission-default"]="The notification permission was not granted and dismissed instead.",ko["permission-blocked"]="The notification permission was not granted and blocked instead.",ko["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",ko["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",ko["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",ko["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",ko["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",ko["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",ko["token-update-no-token"]="FCM returned no token when updating the user to push.",ko["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",ko["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",ko["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",ko["invalid-vapid-key"]="The public VAPID key must be a string.",ko["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",ko),di=new un.ErrorFactory("messaging","Messaging",tE),Nm="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",iE="FCM_MSG",oE="google.c.a.c_id",Zc=(()=>(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(Zc||(Zc={})),Zc))();function el(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,(0,V.__spreadArray)([],(0,V.__read)(e)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Dp(t){for(var n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(n),u=new Uint8Array(s.length),h=0;h<s.length;++h)u[h]=s.charCodeAt(h);return u}var Yf="fcm_token_details_db",uE="fcm_token_object_Store";function nT(t){return(0,V.__awaiter)(this,void 0,void 0,function(){var s,h=this;return(0,V.__generator)(this,function(_){switch(_.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!_.sent().map(function(w){return w.name}).includes(Yf))return[2,null];_.label=2;case 2:return s=null,[4,(0,ih.openDb)(Yf,5,function(w){return(0,V.__awaiter)(h,void 0,void 0,function(){var A,B,Y,ue;return(0,V.__generator)(this,function(pe){switch(pe.label){case 0:return w.oldVersion<2?[2]:w.objectStoreNames.contains(uE)?[4,(A=w.transaction.objectStore(uE)).index("fcmSenderId").get(t)]:[2];case 1:return B=pe.sent(),[4,A.clear()];case 2:if(pe.sent(),!B)return[2];if(2===w.oldVersion){if(!(Y=B).auth||!Y.p256dh||!Y.endpoint)return[2];s={token:Y.fcmToken,createTime:null!==(ue=Y.createTime)&&void 0!==ue?ue:Date.now(),subscriptionOptions:{auth:Y.auth,p256dh:Y.p256dh,endpoint:Y.endpoint,swScope:Y.swScope,vapidKey:"string"==typeof Y.vapidKey?Y.vapidKey:el(Y.vapidKey)}}}else(3===w.oldVersion||4===w.oldVersion)&&(s={token:(Y=B).fcmToken,createTime:Y.createTime,subscriptionOptions:{auth:el(Y.auth),p256dh:el(Y.p256dh),endpoint:Y.endpoint,swScope:Y.swScope,vapidKey:el(Y.vapidKey)}});return[2]}})})})];case 3:return _.sent().close(),[4,(0,ih.deleteDb)(Yf)];case 4:return _.sent(),[4,(0,ih.deleteDb)("fcm_vapid_details_db")];case 5:return _.sent(),[4,(0,ih.deleteDb)("undefined")];case 6:return _.sent(),[2,cE(s)?s:null]}})})}function cE(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}var Kf="firebase-messaging-store",Fm=null;function w_(){return Fm||(Fm=(0,ih.openDb)("firebase-messaging-database",1,function(t){0===t.oldVersion&&t.createObjectStore(Kf)})),Fm}function Lm(t){return(0,V.__awaiter)(this,void 0,void 0,function(){var e,s,u;return(0,V.__generator)(this,function(h){switch(h.label){case 0:return e=hE(t),[4,w_()];case 1:return[4,h.sent().transaction(Kf).objectStore(Kf).get(e)];case 2:return(s=h.sent())?[2,s]:[3,3];case 3:return[4,nT(t.appConfig.senderId)];case 4:return(u=h.sent())?[4,dE(t,u)]:[3,6];case 5:return h.sent(),[2,u];case 6:return[2]}})})}function dE(t,e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n,s,u;return(0,V.__generator)(this,function(h){switch(h.label){case 0:return n=hE(t),[4,w_()];case 1:return s=h.sent(),[4,(u=s.transaction(Kf,"readwrite")).objectStore(Kf).put(e,n)];case 2:return h.sent(),[4,u.complete];case 3:return h.sent(),[2,e]}})})}function F1(t){return(0,V.__awaiter)(this,void 0,void 0,function(){var e,n,s;return(0,V.__generator)(this,function(u){switch(u.label){case 0:return e=hE(t),[4,w_()];case 1:return n=u.sent(),[4,(s=n.transaction(Kf,"readwrite")).objectStore(Kf).delete(e)];case 2:return u.sent(),[4,s.complete];case 3:return u.sent(),[2]}})})}function hE(t){return t.appConfig.appId}function L1(t,e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n,s,u,h,w;return(0,V.__generator)(this,function(B){switch(B.label){case 0:return[4,C_(t)];case 1:n=B.sent(),s=I_(e),u={method:"POST",headers:n,body:JSON.stringify(s)},B.label=2;case 2:return B.trys.push([2,5,,6]),[4,fetch(E_(t.appConfig),u)];case 3:return[4,B.sent().json()];case 4:return h=B.sent(),[3,6];case 5:throw w=B.sent(),di.create("token-subscribe-failed",{errorInfo:w});case 6:if(h.error)throw di.create("token-subscribe-failed",{errorInfo:h.error.message});if(!h.token)throw di.create("token-subscribe-no-token");return[2,h.token]}})})}function pE(t,e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n,s,u,h,w;return(0,V.__generator)(this,function(B){switch(B.label){case 0:return[4,C_(t)];case 1:n=B.sent(),s=I_(e.subscriptionOptions),u={method:"PATCH",headers:n,body:JSON.stringify(s)},B.label=2;case 2:return B.trys.push([2,5,,6]),[4,fetch(E_(t.appConfig)+"/"+e.token,u)];case 3:return[4,B.sent().json()];case 4:return h=B.sent(),[3,6];case 5:throw w=B.sent(),di.create("token-update-failed",{errorInfo:w});case 6:if(h.error)throw di.create("token-update-failed",{errorInfo:h.error.message});if(!h.token)throw di.create("token-update-no-token");return[2,h.token]}})})}function Tp(t,e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n,s,h,w;return(0,V.__generator)(this,function(A){switch(A.label){case 0:return[4,C_(t)];case 1:n=A.sent(),s={method:"DELETE",headers:n},A.label=2;case 2:return A.trys.push([2,5,,6]),[4,fetch(E_(t.appConfig)+"/"+e,s)];case 3:return[4,A.sent().json()];case 4:if((h=A.sent()).error)throw di.create("token-unsubscribe-failed",{errorInfo:h.error.message});return[3,6];case 5:throw w=A.sent(),di.create("token-unsubscribe-failed",{errorInfo:w});case 6:return[2]}})})}function E_(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function C_(t){var e=t.appConfig,n=t.installations;return(0,V.__awaiter)(this,void 0,void 0,function(){var s;return(0,V.__generator)(this,function(u){switch(u.label){case 0:return[4,n.getToken()];case 1:return s=u.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+s})]}})})}function I_(t){var u=t.vapidKey,h={web:{endpoint:t.endpoint,auth:t.auth,p256dh:t.p256dh}};return u!==Nm&&(h.web.applicationPubKey=u),h}function D_(t,e,n){return(0,V.__awaiter)(this,void 0,void 0,function(){var s,u,h,_;return(0,V.__generator)(this,function(w){switch(w.label){case 0:if("granted"!==Notification.permission)throw di.create("permission-blocked");return[4,iT(e,n)];case 1:return s=w.sent(),[4,Lm(t)];case 2:return u=w.sent(),h={vapidKey:n,swScope:e.scope,endpoint:s.endpoint,auth:el(s.getKey("auth")),p256dh:el(s.getKey("p256dh"))},u?[3,3]:[2,gE(t,h)];case 3:if(function mE(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(u.subscriptionOptions,h))return[3,8];w.label=4;case 4:return w.trys.push([4,6,,7]),[4,Tp(t,u.token)];case 5:return w.sent(),[3,7];case 6:return _=w.sent(),console.warn(_),[3,7];case 7:return[2,gE(t,h)];case 8:return Date.now()>=u.createTime+6048e5?[2,rT({token:u.token,createTime:Date.now(),subscriptionOptions:h},t,e)]:[2,u.token];case 9:return[2]}})})}function Ap(t,e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n,s;return(0,V.__generator)(this,function(u){switch(u.label){case 0:return[4,Lm(t)];case 1:return(n=u.sent())?[4,Tp(t,n.token)]:[3,4];case 2:return u.sent(),[4,F1(t)];case 3:u.sent(),u.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(s=u.sent())?[2,s.unsubscribe()]:[2,!0]}})})}function rT(t,e,n){return(0,V.__awaiter)(this,void 0,void 0,function(){var s,u,h;return(0,V.__generator)(this,function(_){switch(_.label){case 0:return _.trys.push([0,3,,5]),[4,pE(e,t)];case 1:return s=_.sent(),u=(0,V.__assign)((0,V.__assign)({},t),{token:s,createTime:Date.now()}),[4,dE(e,u)];case 2:return _.sent(),[2,s];case 3:return h=_.sent(),[4,Ap(e,n)];case 4:throw _.sent(),h;case 5:return[2]}})})}function gE(t,e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n,s;return(0,V.__generator)(this,function(u){switch(u.label){case 0:return[4,L1(t,e)];case 1:return n=u.sent(),s={token:n,createTime:Date.now(),subscriptionOptions:e},[4,dE(t,s)];case 2:return u.sent(),[2,s.token]}})})}function iT(t,e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n;return(0,V.__generator)(this,function(s){switch(s.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=s.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Dp(e)})]}})})}function T_(t){return"object"==typeof t&&!!t&&oE in t}function vE(t){return new Promise(function(e){setTimeout(e,t)})}var yE=function(){function t(e){var n=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(s){s.waitUntil(n.onPush(s))}),self.addEventListener("pushsubscriptionchange",function(s){s.waitUntil(n.onSubChange(s))}),self.addEventListener("notificationclick",function(s){s.waitUntil(n.onNotificationClick(s))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!=typeof e)throw di.create("invalid-bg-handler");this.bgMessageHandler=e},t.prototype.onBackgroundMessage=function(e){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){n.bgMessageHandler=null}},t.prototype.getToken=function(){var e,n;return(0,V.__awaiter)(this,void 0,void 0,function(){var s;return(0,V.__generator)(this,function(u){switch(u.label){case 0:return this.vapidKey?[3,2]:[4,Lm(this.firebaseDependencies)];case 1:s=u.sent(),this.vapidKey=null!==(n=null===(e=null==s?void 0:s.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:Nm,u.label=2;case 2:return[2,D_(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return Ap(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw di.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw di.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw di.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(){throw di.create("only-available-in-window")},t.prototype.onMessage=function(){throw di.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw di.create("only-available-in-window")},t.prototype.onPush=function(e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n,s,u,h;return(0,V.__generator)(this,function(_){switch(_.label){case 0:return n=function _E(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}(e),n?[4,A_()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function S_(t){return t.some(function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")})}(s=_.sent())?[2,lT(s,n)]:(u=!1,n.notification?[4,bE(uT(n))]:[3,3]);case 2:_.sent(),u=!0,_.label=3;case 3:return!0===u&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(h=function oT(t){var e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcm_message_id};return function sT(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var s=e.notification.body;s&&(t.notification.body=s);var u=e.notification.image;u&&(t.notification.image=u)}}(e,t),function lh(t,e){!e.data||(t.data=e.data)}(e,t),function aT(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var s=e.fcmOptions.analytics_label;s&&(t.fcmOptions.analyticsLabel=s)}}(e,t),e}(n),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(h):this.bgMessageHandler.next(h)),[4,vE(1e3)]);case 4:return _.sent(),[2]}})})},t.prototype.onSubChange=function(e){var n,s;return(0,V.__awaiter)(this,void 0,void 0,function(){var h;return(0,V.__generator)(this,function(_){switch(_.label){case 0:return e.newSubscription?[3,2]:[4,Ap(this.firebaseDependencies,self.registration)];case 1:case 5:return _.sent(),[2];case 2:return[4,Lm(this.firebaseDependencies)];case 3:return h=_.sent(),[4,Ap(this.firebaseDependencies,self.registration)];case 4:return _.sent(),[4,D_(this.firebaseDependencies,self.registration,null!==(s=null===(n=null==h?void 0:h.subscriptionOptions)||void 0===n?void 0:n.vapidKey)&&void 0!==s?s:Nm)]}})})},t.prototype.onNotificationClick=function(e){var n,s;return(0,V.__awaiter)(this,void 0,void 0,function(){var u,h,_,w,A;return(0,V.__generator)(this,function(B){switch(B.label){case 0:return(u=null===(s=null===(n=e.notification)||void 0===n?void 0:n.data)||void 0===s?void 0:s[iE])?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),h=function fT(t){var e,n,s;return(null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(s=t.notification)||void 0===s?void 0:s.click_action)||(T_(t.data)?self.location.origin:null)}(u),h?(_=new URL(h,self.location.href),w=new URL(self.location.origin),_.host!==w.host?[2]:[4,cT(_)]):[2]):[2];case 1:return(A=B.sent())?[3,4]:[4,self.clients.openWindow(h)];case 2:return A=B.sent(),[4,vE(3e3)];case 3:return B.sent(),[3,6];case 4:return[4,A.focus()];case 5:A=B.sent(),B.label=6;case 6:return A?(u.messageType=Zc.NOTIFICATION_CLICKED,u.isFirebaseMessaging=!0,[2,A.postMessage(u)]):[2]}})})},t}();function uT(t){var e,n=(0,V.__assign)({},t.notification);return n.data=((e={})[iE]=t,e),n}function cT(t){return(0,V.__awaiter)(this,void 0,void 0,function(){var e,n,s,u,h,_,w;return(0,V.__generator)(this,function(A){switch(A.label){case 0:return[4,A_()];case 1:e=A.sent();try{for(n=(0,V.__values)(e),s=n.next();!s.done;s=n.next())if(u=s.value,h=new URL(u.url,self.location.href),t.host===h.host)return[2,u]}catch(B){_={error:B}}finally{try{s&&!s.done&&(w=n.return)&&w.call(n)}finally{if(_)throw _.error}}return[2,null]}})})}function lT(t,e){var n,s;e.isFirebaseMessaging=!0,e.messageType=Zc.PUSH_RECEIVED;try{for(var u=(0,V.__values)(t),h=u.next();!h.done;h=u.next())h.value.postMessage(e)}catch(w){n={error:w}}finally{try{h&&!h.done&&(s=u.return)&&s.call(u)}finally{if(n)throw n.error}}}function A_(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function bE(t){var e,n=t.actions,s=Notification.maxActions;return n&&s&&n.length>s&&console.warn("This browser only supports "+s+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var dT=function(){function t(e){var n=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(s){return n.messageEventListener(s)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n,s;return(0,V.__generator)(this,function(u){switch(u.label){case 0:return(n=e.data).isFirebaseMessaging?(this.onMessageCallback&&n.messageType===Zc.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function M_(t){return delete t.messageType,delete t.isFirebaseMessaging,t}(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),T_(s=n.data)&&"1"===s["google.c.a.e"]?[4,this.logEvent(n.messageType,s)]:[3,2]):[2];case 1:u.sent(),u.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(e){return(0,V.__awaiter)(this,void 0,void 0,function(){return(0,V.__generator)(this,function(n){switch(n.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if("granted"!==Notification.permission)throw di.create("permission-blocked");return[4,this.updateVapidKey(null==e?void 0:e.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(null==e?void 0:e.serviceWorkerRegistration)];case 4:return n.sent(),[2,D_(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(e){return(0,V.__awaiter)(this,void 0,void 0,function(){return(0,V.__generator)(this,function(n){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=Nm),[2]})})},t.prototype.updateSwReg=function(e){return(0,V.__awaiter)(this,void 0,void 0,function(){return(0,V.__generator)(this,function(n){switch(n.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:n.sent(),n.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw di.create("invalid-sw-registration");return this.swRegistration=e,[2]}})})},t.prototype.registerDefaultSw=function(){return(0,V.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,V.__generator)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=s.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=s.sent(),di.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return(0,V.__awaiter)(this,void 0,void 0,function(){return(0,V.__generator)(this,function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,Ap(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return(0,V.__awaiter)(this,void 0,void 0,function(){var e;return(0,V.__generator)(this,function(n){switch(n.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=n.sent()))return[2];throw di.create("denied"===e?"permission-blocked":"permission-default")}})})},t.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw di.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw di.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw di.create("invalid-sw-registration");if(this.swRegistration)throw di.create("use-sw-after-get-token");this.swRegistration=e},t.prototype.onMessage=function(e){var n=this;return this.onMessageCallback=e,function(){n.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw di.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw di.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(e,n){return(0,V.__awaiter)(this,void 0,void 0,function(){var s;return(0,V.__generator)(this,function(h){switch(h.label){case 0:return s=function hT(t){switch(t){case Zc.NOTIFICATION_CLICKED:return"notification_open";case Zc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return h.sent().logEvent(s,{message_id:n[oE],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}();function Bm(t){return di.create("missing-app-config-values",{valueName:t})}var vT={isSupported:wE};function wE(){return self&&"ServiceWorkerGlobalScope"in self?function _T(){return"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}():function yT(){return"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}()}rn.default.INTERNAL.registerComponent(new Xc.Component("messaging",function mT(t){var e=t.getProvider("app").getImmediate(),n=function pT(t){var e,n;if(!t||!t.options)throw Bm("App Configuration Object");if(!t.name)throw Bm("App Name");var u=t.options;try{for(var h=(0,V.__values)(["projectId","apiKey","appId","messagingSenderId"]),_=h.next();!_.done;_=h.next()){var w=_.value;if(!u[w])throw Bm(w)}}catch(A){e={error:A}}finally{try{_&&!_.done&&(n=h.return)&&n.call(h)}finally{if(e)throw e.error}}return{appName:t.name,projectId:u.projectId,apiKey:u.apiKey,appId:u.appId,senderId:u.messagingSenderId}}(e),h={app:e,appConfig:n,installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!wE())throw di.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new yE(h):new dT(h)},"PUBLIC").setServiceProps(vT));var EE="firebasestorage.googleapis.com",CE="storageBucket",bo=function(t){function e(n,s){var u=t.call(this,R_(n),"Firebase Storage: "+s+" ("+R_(n)+")")||this;return u.customData={serverResponse:null},u._baseMessage=u.message,Object.setPrototypeOf(u,e.prototype),u}return(0,V.__extends)(e,t),e.prototype._codeEquals=function(n){return R_(n)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}(un.FirebaseError);function R_(t){return"storage/"+t}function Vm(){return new bo("unknown","An unknown error occurred, please check the error payload for server response.")}function Um(){return new bo("canceled","User canceled the upload/download.")}function SE(){return new bo("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Xf(t){return new bo("invalid-argument",t)}function ME(){return new bo("app-deleted","The Firebase app was deleted.")}function N_(t){return new bo("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function jm(t,e){return new bo("invalid-format","String does not match format '"+t+"': "+e)}function $m(t){throw new bo("internal-error","Internal error: "+t)}var Wa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Gl=function t(e,n){this.data=e,this.contentType=n||null};function fh(t,e){switch(t){case Wa.RAW:return new Gl(RE(e));case Wa.BASE64:case Wa.BASE64URL:return new Gl(P_(t,e));case Wa.DATA_URL:return new Gl(function TT(t){var e=new xE(t);return e.base64?P_(Wa.BASE64,e.rest):function B1(t){var e;try{e=decodeURIComponent(t)}catch(n){throw jm(Wa.DATA_URL,"Malformed data URL.")}return RE(e)}(e.rest)}(e),function ST(t){return new xE(t).contentType}(e))}throw Vm()}function RE(t){for(var e=[],n=0;n<t.length;n++){var s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|63&s);else if(55296==(64512&s))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var h=s,_=t.charCodeAt(++n);e.push(240|(s=65536|(1023&h)<<10|1023&_)>>18,128|s>>12&63,128|s>>6&63,128|63&s)}else e.push(239,191,189);else 56320==(64512&s)?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|63&s)}return new Uint8Array(e)}function P_(t,e){switch(t){case Wa.BASE64:var n=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(n||s)throw jm(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Wa.BASE64URL:var h=-1!==e.indexOf("+"),_=-1!==e.indexOf("/");if(h||_)throw jm(t,"Invalid character '"+(h?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var w;try{w=function Hm(t){return atob(t)}(e)}catch(Y){throw jm(t,"Invalid character found")}for(var A=new Uint8Array(w.length),B=0;B<w.length;B++)A[B]=w.charCodeAt(B);return A}var xE=function t(e){this.base64=!1,this.contentType=null;var n=e.match(/^data:([^,]+)?,/);if(null===n)throw jm(Wa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var s=n[1]||null;null!=s&&(this.base64=function AT(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)},kE={STATE_CHANGED:"state_changed"},Us={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Mp(t){switch(t){case"running":case"pausing":case"canceling":return Us.RUNNING;case"paused":return Us.PAUSED;case"success":return Us.SUCCESS;case"canceled":return Us.CANCELED;default:return Us.ERROR}}var Iu=(()=>(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(Iu||(Iu={})),Iu))(),Rp=function(){function t(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Iu.NO_ERROR,this.sendPromise_=new Promise(function(n){e.xhr_.addEventListener("abort",function(){e.errorCode_=Iu.ABORT,n()}),e.xhr_.addEventListener("error",function(){e.errorCode_=Iu.NETWORK_ERROR,n()}),e.xhr_.addEventListener("load",function(){n()})})}return t.prototype.send=function(e,n,s,u){if(this.sent_)throw $m("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),void 0!==u)for(var h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return void 0!==s?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw $m("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw $m("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw $m("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},t.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},t.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},t}(),OE=function(){function t(){}return t.prototype.createConnection=function(){return function MT(){return new Rp}()},t}(),Ea=function(){function t(e,n){this.bucket=e,this.path_=n}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var s;try{s=t.makeFromUrl(e,n)}catch(u){return new t(e,"")}if(""===s.path)return s;throw function IT(t){return new bo("invalid-default-bucket","Invalid default bucket '"+t+"'.")}(e)},t.makeFromUrl=function(e,n){var s=null,u="([A-Za-z0-9.\\-_]+)",w=new RegExp("^gs://"+u+"(/(.*))?$","i");function B(Gn){Gn.path_=decodeURIComponent(Gn.path)}for(var ue=n.replace(/[.]/g,"\\."),bn=[{regex:w,indices:{bucket:1,path:3},postModify:function h(Gn){"/"===Gn.path.charAt(Gn.path.length-1)&&(Gn.path_=Gn.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+ue+"/v[A-Za-z0-9_]+/b/"+u+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:B},{regex:new RegExp("^https?://"+(n===EE?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+u+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:B}],tr=0;tr<bn.length;tr++){var Yn=bn[tr],an=Yn.regex.exec(e);if(an){var Ja=an[Yn.indices.path];Ja||(Ja=""),s=new t(an[Yn.indices.bucket],Ja),Yn.postModify(s);break}}if(null==s)throw function CT(t){return new bo("invalid-url","Invalid URL '"+t+"'.")}(e);return s},t}(),RT=function(){function t(e){this.promise_=Promise.reject(e)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){},t}();function Gm(t){return"string"==typeof t||t instanceof String}function Qf(t){return qm()&&t instanceof Blob}function qm(){return"undefined"!=typeof Blob}function ql(t,e,n,s){if(s<e)throw Xf("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(s>n)throw Xf("Invalid value for '"+t+"'. Expected "+n+" or less.")}function Jf(t,e){var n=e.match(/^(\w+):\/\/.+/),u=e;return null==(null==n?void 0:n[1])&&(u="https://"+e),u+"/v0"+t}function L_(t){var e=encodeURIComponent,n="?";for(var s in t)t.hasOwnProperty(s)&&(n=n+(e(s)+"=")+e(t[s])+"&");return n.slice(0,-1)}var NT=function(){function t(e,n,s,u,h,_,w,A,B,Y,ue){var pe=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=n,this.headers_=s,this.body_=u,this.successCodes_=h.slice(),this.additionalRetryCodes_=_.slice(),this.callback_=w,this.errorCallback_=A,this.progressCallback_=Y,this.timeout_=B,this.pool_=ue,this.promise_=new Promise(function(ze,Le){pe.resolve_=ze,pe.reject_=Le,pe.start_()})}return t.prototype.start_=function(){var e=this;function s(u,h){var _=e.resolve_,w=e.reject_,A=h.connection;if(h.wasSuccessCode)try{var B=e.callback_(A,A.getResponseText());!function kT(t){return void 0!==t}(B)?_():_(B)}catch(ue){w(ue)}else if(null!==A)(Y=Vm()).serverResponse=A.getResponseText(),w(e.errorCallback_?e.errorCallback_(A,Y):Y);else if(h.canceled)w(Y=e.appDelete_?ME():Um());else{var Y;w(Y=function TE(){return new bo("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())}}this.canceled_?s(0,new B_(!1,null,!0)):this.backoffId_=function xT(t,e,n){var s=1,u=null,h=!1,_=0;function w(){return 2===_}var A=!1;function B(){for(var Le=[],ut=0;ut<arguments.length;ut++)Le[ut]=arguments[ut];A||(A=!0,e.apply(null,Le))}function Y(Le){u=setTimeout(function(){u=null,t(ue,w())},Le)}function ue(Le){for(var ut=[],Mt=1;Mt<arguments.length;Mt++)ut[Mt-1]=arguments[Mt];if(!A){if(Le)return void B.call.apply(B,(0,V.__spreadArray)([null,Le],ut));var hn;if(w()||h)return void B.call.apply(B,(0,V.__spreadArray)([null,Le],ut));s<64&&(s*=2),1===_?(_=2,hn=0):hn=1e3*(s+Math.random()),Y(hn)}}var pe=!1;function ze(Le){pe||(pe=!0,!A&&(null!==u?(Le||(_=2),clearTimeout(u),Y(0)):Le||(_=1)))}return Y(0),setTimeout(function(){h=!0,ze(!0)},n),ze}(function n(u,h){if(h)u(!1,new B_(!1,null,!0));else{var _=e.pool_.createConnection();e.pendingConnection_=_,null!==e.progressCallback_&&_.addUploadProgressListener(w),_.send(e.url_,e.method_,e.body_,e.headers_).then(function(){null!==e.progressCallback_&&_.removeUploadProgressListener(w),e.pendingConnection_=null;var A=_.getErrorCode()===Iu.NO_ERROR,B=_.getStatus();if(A&&!e.isRetryStatusCode_(B)){var ue=-1!==e.successCodes_.indexOf(B);u(!0,new B_(ue,_))}else{var Y=_.getErrorCode()===Iu.ABORT;u(!1,new B_(!1,null,Y))}})}function w(A){null!==e.progressCallback_&&e.progressCallback_(A.loaded,A.lengthComputable?A.total:-1)}},s,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function F_(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(e){var n=e>=500&&e<600,u=-1!==[408,429].indexOf(e),h=-1!==this.additionalRetryCodes_.indexOf(e);return n||u||h},t}(),B_=function t(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s};function FE(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function FT(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=FE();if(void 0!==n){for(var s=new n,u=0;u<t.length;u++)s.append(t[u]);return s.getBlob()}if(qm())return new Blob(t);throw new bo("unsupported-environment","This browser doesn't seem to support creating Blobs")}var U_=function(){function t(e,n){var s=0,u="";Qf(e)?(this.data_=e,s=e.size,u=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=u}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(Qf(this.data_)){var u=function LT(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===u?null:new t(u)}return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(qm()){var s=e.map(function(A){return A instanceof t?A.data_:A});return new t(FT.apply(null,s))}var u=e.map(function(A){return Gm(A)?fh(Wa.RAW,A).data:A.data_}),h=0;u.forEach(function(A){h+=A.byteLength});var _=new Uint8Array(h),w=0;return u.forEach(function(A){for(var B=0;B<A.length;B++)_[w++]=A[B]}),new t(_,!0)},t.prototype.uploadData=function(){return this.data_},t}();function j_(t){var e;try{e=JSON.parse(t)}catch(n){return null}return function OT(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function LE(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function UT(t,e){return e}var Oo=function t(e,n,s,u){this.server=e,this.local=n||e,this.writable=!!s,this.xform=u||UT},xp=null;function kp(){if(xp)return xp;var t=[];t.push(new Oo("bucket")),t.push(new Oo("generation")),t.push(new Oo("metageneration")),t.push(new Oo("name","fullPath",!0));var n=new Oo("name");n.xform=function e(h,_){return function BE(t){return!Gm(t)||t.length<2?t:LE(t)}(_)},t.push(n);var u=new Oo("size");return u.xform=function s(h,_){return void 0!==_?Number(_):_},t.push(u),t.push(new Oo("timeCreated")),t.push(new Oo("updated")),t.push(new Oo("md5Hash",null,!0)),t.push(new Oo("cacheControl",null,!0)),t.push(new Oo("contentDisposition",null,!0)),t.push(new Oo("contentEncoding",null,!0)),t.push(new Oo("contentLanguage",null,!0)),t.push(new Oo("contentType",null,!0)),t.push(new Oo("metadata","customMetadata",!0)),xp=t}function jE(t,e,n){var s=j_(e);return null===s?null:function UE(t,e,n){for(var s={type:"file"},u=n.length,h=0;h<u;h++){var _=n[h];s[_.local]=_.xform(s,e[_.server])}return function VE(t,e){Object.defineProperty(t,"ref",{get:function n(){var h=new Ea(t.bucket,t.fullPath);return e._makeStorageReference(h)}})}(s,t),s}(t,s,n)}function $_(t,e){for(var n={},s=e.length,u=0;u<s;u++){var h=e[u];h.writable&&(n[h.server]=t[h.local])}return JSON.stringify(n)}var $E="prefixes";var Ca=function t(e,n,s,u){this.url=e,this.method=n,this.handler=s,this.timeout=u,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function ic(t){if(!t)throw Vm()}function dh(t,e){return function n(s,u){var h=jE(t,u,e);return ic(null!==h),h}}function zl(t){return function e(n,s){var u;return u=401===n.getStatus()?n.getResponseText().includes("Firebase App Check token is invalid")?function x_(){return new bo("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function ET(){return new bo("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===n.getStatus()?function wT(t){return new bo("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===n.getStatus()?function k_(t){return new bo("unauthorized","User does not have permission to access '"+t+"'.")}(t.path):s,u.serverResponse=s.serverResponse,u}}function Wl(t){var e=zl(t);return function n(s,u){var h=e(s,u);return 404===s.getStatus()&&(h=function bT(t){return new bo("object-not-found","Object '"+t+"' does not exist.")}(t.path)),h.serverResponse=u.serverResponse,h}}function GE(t,e,n){var u=Jf(e.fullServerUrl(),t.host),_=t.maxOperationRetryTime,w=new Ca(u,"GET",dh(t,n),_);return w.errorHandler=Wl(e),w}function qT(t,e,n,s,u){var h={};h.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(h.delimiter=n),s&&(h.pageToken=s),u&&(h.maxResults=u);var w=Jf(e.bucketOnlyServerUrl(),t.host),B=t.maxOperationRetryTime,Y=new Ca(w,"GET",function oc(t,e){return function n(s,u){var h=function HT(t,e,n){var s=j_(n);return null===s?null:function $T(t,e,n){var s={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[$E])for(var u=0,h=n[$E];u<h.length;u++){var w=h[u].replace(/\/$/,""),A=t._makeStorageReference(new Ea(e,w));s.prefixes.push(A)}if(n.items)for(var B=0,Y=n.items;B<Y.length;B++)A=t._makeStorageReference(new Ea(e,Y[B].name)),s.items.push(A);return s}(t,e,s)}(t,e,u);return ic(null!==h),h}}(t,e.bucket),B);return Y.urlParams=h,Y.errorHandler=zl(e),Y}function qE(t,e,n){var s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=function WT(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),s}var Op=function t(e,n,s,u){this.current=e,this.total=n,this.finalized=!!s,this.metadata=u||null};function Np(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(u){ic(!1)}return ic(!!n&&-1!==(e||["active"]).indexOf(n)),n}var H_=function t(e,n,s){var u=function V1(t){return"function"==typeof t}(e)||null!=n||null!=s;if(u)this.next=e,this.error=n,this.complete=s;else{var h=e;this.next=h.next,this.error=h.error,this.complete=h.complete}};function Yl(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var G_=function(){function t(e,n,s){var u=this;void 0===s&&(s=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=s,this._mappings=kp(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(h){u._request=void 0,u._chunkMultiplier=1,h._codeEquals("canceled")?(u._needToFetchStatus=!0,u.completeTransitions_()):(u._error=h,u._transition("error"))},this._metadataErrorHandler=function(h){u._request=void 0,h._codeEquals("canceled")?u.completeTransitions_():(u._error=h,u._transition("error"))},this._promise=new Promise(function(h,_){u._resolve=h,u._reject=_,u._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var e=this,n=this._transferred;return function(s){return e._updateProgress(n+s)}},t.prototype._shouldDoResumable=function(e){return e.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(e){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(s){var u=s[0],h=s[1];switch(n._state){case"running":e(u,h);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused")}})},t.prototype._createResumable=function(){var e=this;this._resolveToken(function(n,s){var u=function WE(t,e,n,s,u){var h=e.bucketOnlyServerUrl(),_=qE(e,s,u),w={name:_.fullPath},A=Jf(h,t.host),Y={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+s.size(),"X-Goog-Upload-Header-Content-Type":_.contentType,"Content-Type":"application/json; charset=utf-8"},ue=$_(_,n),Le=new Ca(A,"POST",function ze(ut){var Mt;Np(ut);try{Mt=ut.getResponseHeader("X-Goog-Upload-URL")}catch(Wt){ic(!1)}return ic(Gm(Mt)),Mt},t.maxUploadRetryTime);return Le.urlParams=w,Le.headers=Y,Le.body=ue,Le.errorHandler=zl(e),Le}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),h=e._ref.storage._makeRequest(u,n,s);e._request=h,h.getPromise().then(function(_){e._request=void 0,e._uploadUrl=_,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})},t.prototype._fetchStatus=function(){var e=this,n=this._uploadUrl;this._resolveToken(function(s,u){var h=function YT(t,e,n,s){var A=new Ca(n,"POST",function h(B){var Y=Np(B,["active","final"]),ue=null;try{ue=B.getResponseHeader("X-Goog-Upload-Size-Received")}catch(ze){ic(!1)}ue||ic(!1);var pe=Number(ue);return ic(!isNaN(pe)),new Op(pe,s.size(),"final"===Y)},t.maxUploadRetryTime);return A.headers={"X-Goog-Upload-Command":"query"},A.errorHandler=zl(e),A}(e._ref.storage,e._ref._location,n,e._blob),_=e._ref.storage._makeRequest(h,s,u);e._request=_,_.getPromise().then(function(w){w=w,e._request=void 0,e._updateProgress(w.current),e._needToFetchStatus=!1,w.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})},t.prototype._continueUpload=function(){var e=this,n=262144*this._chunkMultiplier,s=new Op(this._transferred,this._blob.size()),u=this._uploadUrl;this._resolveToken(function(h,_){var w;try{w=function j1(t,e,n,s,u,h,_,w){var A=new Op(0,0);if(_?(A.current=_.current,A.total=_.total):(A.current=0,A.total=s.size()),s.size()!==A.total)throw function AE(){return new bo("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();var B=A.total-A.current,Y=B;u>0&&(Y=Math.min(Y,u));var ue=A.current,Le={"X-Goog-Upload-Command":Y===B?"upload, finalize":"upload","X-Goog-Upload-Offset":""+A.current},ut=s.slice(ue,ue+Y);if(null===ut)throw SE();var bn=new Ca(n,"POST",function Mt(tr,Yn){var Gn,an=Np(tr,["active","final"]),Ai=A.current+Y,Ja=s.size();return Gn="final"===an?dh(e,h)(tr,Yn):null,new Op(Ai,Ja,"final"===an,Gn)},e.maxUploadRetryTime);return bn.headers=Le,bn.body=ut.uploadData(),bn.progressCallback=w||null,bn.errorHandler=zl(t),bn}(e._ref._location,e._ref.storage,u,e._blob,n,e._mappings,s,e._makeProgressCallback())}catch(B){return e._error=B,void e._transition("error")}var A=e._ref.storage._makeRequest(w,h,_);e._request=A,A.getPromise().then(function(B){e._increaseMultiplier(),e._request=void 0,e._updateProgress(B.current),B.finalized?(e._metadata=B.metadata,e._transition("success")):e.completeTransitions_()},e._errorHandler)})},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var e=this;this._resolveToken(function(n,s){var u=GE(e._ref.storage,e._ref._location,e._mappings),h=e._ref.storage._makeRequest(u,n,s);e._request=h,h.getPromise().then(function(_){e._request=void 0,e._metadata=_,e._transition("success")},e._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var e=this;this._resolveToken(function(n,s){var u=function zE(t,e,n,s,u){var h=e.bucketOnlyServerUrl(),_={"X-Goog-Upload-Protocol":"multipart"},A=function w(){for(var bn="",tr=0;tr<2;tr++)bn+=Math.random().toString().slice(2);return bn}();_["Content-Type"]="multipart/related; boundary="+A;var B=qE(e,s,u),Y=$_(B,n),ze=U_.getBlob("--"+A+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Y+"\r\n--"+A+"\r\nContent-Type: "+B.contentType+"\r\n\r\n",s,"\r\n--"+A+"--");if(null===ze)throw SE();var Le={name:B.fullPath},ut=Jf(h,t.host),Wt=t.maxUploadRetryTime,hn=new Ca(ut,"POST",dh(t,n),Wt);return hn.urlParams=Le,hn.headers=_,hn.body=ze.uploadData(),hn.errorHandler=zl(e),hn}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),h=e._ref.storage._makeRequest(u,n,s);e._request=h,h.getPromise().then(function(_){e._request=void 0,e._metadata=_,e._updateProgress(e._blob.size()),e._transition("success")},e._errorHandler)})},t.prototype._updateProgress=function(e){var n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()},t.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var n="paused"===this._state;this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Um(),this._state=e,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var e=Mp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(e,n,s,u){var h=this,_=new H_(n,s,u);return this._addObserver(_),function(){h._removeObserver(_)}},t.prototype.then=function(e,n){return this._promise.then(e,n)},t.prototype.catch=function(e){return this.then(null,e)},t.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},t.prototype._removeObserver=function(e){var n=this._observers.indexOf(e);-1!==n&&this._observers.splice(n,1)},t.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach(function(s){e._notifyObserver(s)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(Mp(this._state)){case Us.SUCCESS:Yl(this._resolve.bind(null,this.snapshot))();break;case Us.CANCELED:case Us.ERROR:Yl(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(e){switch(Mp(this._state)){case Us.RUNNING:case Us.PAUSED:e.next&&Yl(e.next.bind(e,this.snapshot))();break;case Us.SUCCESS:e.complete&&Yl(e.complete.bind(e))();break;default:e.error&&Yl(e.error.bind(e,this._error))()}},t.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},t.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},t.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},t}(),hh=function(){function t(e,n){this._service=e,this._location=n instanceof Ea?n:Ea.makeFromUrl(n,e.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var e=new Ea(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return LE(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function BT(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new Ea(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(e){if(""===this._location.path)throw N_(e)},t}();function KT(t){var e={prefixes:[],items:[]};return KE(t,e).then(function(){return e})}function KE(t,e,n){return(0,V.__awaiter)(this,void 0,void 0,function(){var u,h,_;return(0,V.__generator)(this,function(w){switch(w.label){case 0:return[4,XE(t,{pageToken:n})];case 1:return u=w.sent(),(h=e.prefixes).push.apply(h,u.prefixes),(_=e.items).push.apply(_,u.items),null==u.nextPageToken?[3,3]:[4,KE(t,e,u.nextPageToken)];case 2:w.sent(),w.label=3;case 3:return[2]}})})}function XE(t,e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n,s;return(0,V.__generator)(this,function(u){switch(u.label){case 0:return null!=e&&"number"==typeof e.maxResults&&ql("options.maxResults",1,1e3,e.maxResults),s=qT(t.storage,t._location,"/",(n=e||{}).pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(s)];case 1:return[2,u.sent().getPromise()]}})})}function z_(t){return(0,V.__awaiter)(this,void 0,void 0,function(){var e;return(0,V.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function zT(t,e,n){var u=Jf(e.fullServerUrl(),t.host),_=t.maxOperationRetryTime,w=new Ca(u,"GET",function GT(t,e){return function n(s,u){var h=jE(t,u,e);return ic(null!==h),function jT(t,e,n){var s=j_(e);if(null===s||!Gm(s.downloadTokens))return null;var u=s.downloadTokens;if(0===u.length)return null;var h=encodeURIComponent;return u.split(",").map(function(A){var Y=t.fullPath;return Jf("/b/"+h(t.bucket)+"/o/"+h(Y),n)+L_({alt:"media",token:A})})[0]}(h,u,t.host)}}(t,n),_);return w.errorHandler=Wl(e),w}(t.storage,t._location,kp()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then(function(s){if(null===s)throw function DT(){return new bo("no-download-url","The given file does not have any download URLs.")}();return s})]}})})}function W_(t,e){var n=function VT(t,e){var n=e.split("/").filter(function(s){return s.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),s=new Ea(t._location.bucket,n);return new hh(t.storage,s)}function Ym(t){return/^[A-Za-z]+:\/\//.test(t)}function eC(t,e){if(t instanceof Pp){var n=t;if(null==n._bucket)throw function O_(){return new bo("no-default-bucket","No default bucket found. Did you set the '"+CE+"' property when initializing the app?")}();var s=new hh(n,n._bucket);return null!=e?eC(s,e):s}return void 0!==e?W_(t,e):t}function tC(t,e){if(e&&Ym(e)){if(t instanceof Pp)return function ZE(t,e){return new hh(t,e)}(t,e);throw Xf("To use ref(service, url), the first argument must be a Storage instance.")}return eC(t,e)}function Y_(t,e){var n=null==e?void 0:e[CE];return null==n?null:Ea.makeFromBucketSpec(n,t)}var Pp=function(){function t(e,n,s,u,h,_){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._pool=u,this._url=h,this._firebaseVersion=_,this._bucket=null,this._host=EE,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=h?Ea.makeFromBucketSpec(h,this._host):Y_(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,this._bucket=null!=this._url?Ea.makeFromBucketSpec(this._url,e):Y_(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){ql("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){ql("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return(0,V.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,V.__generator)(this,function(s){switch(s.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(n=s.sent()))return[2,n.accessToken];s.label=2;case 2:return[2,null]}})})},t.prototype._getAppCheckToken=function(){return(0,V.__awaiter)(this,void 0,void 0,function(){var e;return(0,V.__generator)(this,function(s){switch(s.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,s.sent().token];case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear()),Promise.resolve()},t.prototype._makeStorageReference=function(e){return new hh(this,e)},t.prototype._makeRequest=function(e,n,s){var u=this;if(this._deleted)return new RT(ME());var h=function PT(t,e,n,s,u,h){var _=L_(t.urlParams),w=t.url+_,A=Object.assign({},t.headers);return function PE(t,e){e&&(t["X-Firebase-GMPID"]=e)}(A,e),function NE(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(A,n),function U1(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(A,h),function V_(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(A,s),new NT(w,t.method,A,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,u)}(e,this._appId,n,s,this._pool,this._firebaseVersion);return this._requests.add(h),h.getPromise().then(function(){return u._requests.delete(h)},function(){return u._requests.delete(h)}),h},t.prototype.makeRequestWithTokens=function(e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n;return(0,V.__generator)(this,function(h){switch(h.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=h.sent(),[2,this._makeRequest(e,n[0],n[1])]}})})},t}();function nC(t,e){return tC(t=(0,un.getModularInstance)(t),e)}var Lp=function(){function t(e,n,s){this._delegate=e,this.task=n,this.ref=s}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),rC=function(){function t(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new Lp(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(e,n){var s=this;return this._delegate.then(function(u){if(e)return e(new Lp(u,s,s._ref))},n)},t.prototype.on=function(e,n,s,u){var h=this,_=void 0;return n&&(_="function"==typeof n?function(w){return n(new Lp(w,h,h._ref))}:{next:n.next?function(w){return n.next(new Lp(w,h,h._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,_,s||void 0,u||void 0)},t}(),iC=function(){function t(e,n){this._delegate=e,this._service=n}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map(function(n){return new Zf(n,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var e=this;return this._delegate.items.map(function(n){return new Zf(n,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),Zf=function(){function t(e,n){this._delegate=e,this.storage=n}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){var n=function K_(t,e){return W_(t,e)}(this._delegate,e);return new t(n,this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(e,n){return this._throwIfRoot("put"),new rC(function JT(t,e,n){return function q_(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new G_(t,new U_(e),n)}(t=(0,un.getModularInstance)(t),e,n)}(this._delegate,e,n),this)},t.prototype.putString=function(e,n,s){void 0===n&&(n=Wa.RAW),this._throwIfRoot("putString");var u=fh(n,e),h=(0,V.__assign)({},s);return null==h.contentType&&null!=u.contentType&&(h.contentType=u.contentType),new rC(new G_(this._delegate,new U_(u.data,!0),h),this)},t.prototype.listAll=function(){var e=this;return function eS(t){return KT(t=(0,un.getModularInstance)(t))}(this._delegate).then(function(n){return new iC(n,e.storage)})},t.prototype.list=function(e){var n=this;return function ZT(t,e){return XE(t=(0,un.getModularInstance)(t),e)}(this._delegate,e||void 0).then(function(s){return new iC(s,n.storage)})},t.prototype.getMetadata=function(){return function js(t){return function XT(t){return(0,V.__awaiter)(this,void 0,void 0,function(){var e;return(0,V.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=GE(t.storage,t._location,kp()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=(0,un.getModularInstance)(t))}(this._delegate)},t.prototype.updateMetadata=function(e){return function ph(t,e){return function QE(t,e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n;return(0,V.__generator)(this,function(s){switch(s.label){case 0:return t._throwIfRoot("updateMetadata"),n=function zm(t,e,n,s){var h=Jf(e.fullServerUrl(),t.host),w=$_(n,s),B=t.maxOperationRetryTime,Y=new Ca(h,"PATCH",dh(t,s),B);return Y.headers={"Content-Type":"application/json; charset=utf-8"},Y.body=w,Y.errorHandler=Wl(e),Y}(t.storage,t._location,e,kp()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,s.sent().getPromise()]}})})}(t=(0,un.getModularInstance)(t),e)}(this._delegate,e)},t.prototype.getDownloadURL=function(){return function $1(t){return z_(t=(0,un.getModularInstance)(t))}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function Fp(t){return function JE(t){return(0,V.__awaiter)(this,void 0,void 0,function(){var e;return(0,V.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function Wm(t,e){var s=Jf(e.fullServerUrl(),t.host),w=new Ca(s,"DELETE",function _(A,B){},t.maxOperationRetryTime);return w.successCodes=[200,204],w.errorHandler=Wl(e),w}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=(0,un.getModularInstance)(t))}(this._delegate)},t.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw N_(e)},t}(),oC=function(){function t(e,n){this.app=e,this._delegate=n}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(e){if(Ym(e))throw Xf("ref() expected a child path but got a URL, use refFromURL instead.");return new Zf(nC(this._delegate,e),this)},t.prototype.refFromURL=function(e){if(!Ym(e))throw Xf("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ea.makeFromUrl(e,this._delegate.host)}catch(n){throw Xf("refFromUrl() expected a valid full URL but got an invalid one.")}return new Zf(nC(this._delegate,e),this)},t.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},t.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},t.prototype.useEmulator=function(e,n,s){void 0===s&&(s={}),function tS(t,e,n,s){void 0===s&&(s={}),function QT(t,e,n,s){void 0===s&&(s={}),t.host="http://"+e+":"+n;var u=s.mockUserToken;u&&(t._overrideAuthToken="string"==typeof u?u:(0,un.createMockUserToken)(u,t.app.options.projectId))}(t,e,n,s)}(this._delegate,e,n,s)},t}();function H1(t,e){var n=e.instanceIdentifier,s=t.getProvider("app").getImmediate(),u=t.getProvider("auth-internal"),h=t.getProvider("app-check-internal");return new oC(s,new Pp(s,u,h,new OE,n,rn.default.SDK_VERSION))}!function aC(t){var e={TaskState:Us,TaskEvent:kE,StringFormat:Wa,Storage:Pp,Reference:Zf};t.INTERNAL.registerComponent(new Xc.Component("storage",H1,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.7.1")}(rn.default);var qo,Vp="FB-PERF-TRACE-MEASURE",J_="@firebase/performance/config",Z_="@firebase/performance/configexpire",e0="Performance",sS=((qo={})["trace started"]="Trace {$traceName} was started before.",qo["trace stopped"]="Trace {$traceName} is not running.",qo["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",qo["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",qo["no window"]="Window is not available.",qo["no app id"]="App id is not available.",qo["no project id"]="Project id is not available.",qo["no api key"]="Api key is not available.",qo["invalid cc log"]="Attempted to queue invalid cc event",qo["FB not default"]="Performance can only start when Firebase app instance is the default one.",qo["RC response not ok"]="RC response is not ok",qo["invalid attribute name"]="Attribute name {$attributeName} is invalid.",qo["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",qo["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",qo["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",qo),Ms=new un.ErrorFactory("performance",e0,sS),sc=new hr.Logger(e0);sc.logLevel=hr.LogLevel.INFO;var t0,n0,ls=function(){function t(e){if(this.window=e,!e)throw Ms.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(e){!this.performance||!this.performance.mark||this.performance.mark(e)},t.prototype.measure=function(e,n,s){!this.performance||!this.performance.measure||this.performance.measure(e,n,s)},t.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},t.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,un.isIndexedDBAvailable)()||(sc.info("IndexedDB is not supported by current browswer"),!1):(sc.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(e,n){this.PerformanceObserver&&new this.PerformanceObserver(function(u){for(var h=0,_=u.getEntries();h<_.length;h++)n(_[h])}).observe({entryTypes:[e]})},t.getInstance=function(){return void 0===t0&&(t0=new t(n0)),t0},t}();function r0(t,e){var n=t.length-e.length;if(n<0||n>1)throw Ms.create("invalid String merger input");for(var s=[],u=0;u<t.length;u++)s.push(t.charAt(u)),e.length>u&&s.push(e.charAt(u));return s.join("")}var o0,aS,No=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=r0("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=r0("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw Ms.create("no app id");return e},t.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw Ms.create("no project id");return e},t.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw Ms.create("no api key");return e},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===o0&&(o0=new t),o0},t}();function hC(){return aS}var gh=(()=>(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"}(gh||(gh={})),gh))(),q1=["firebase_","google_","ga_"],z1=new RegExp("^[a-zA-Z]\\w*$");function K1(){var t=ls.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function Up(){switch(ls.getInstance().document.visibilityState){case"visible":return gh.VISIBLE;case"hidden":return gh.HIDDEN;default:return gh.UNKNOWN}}function X1(){var e=ls.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var _C="Could not fetch config, will use default configs";function u0(t){if(!t)return t;var e=No.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0===n.fpr_enabled||"true"===String(n.fpr_enabled),n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=Qm(e.tracesSamplingRate),e.logNetworkAfterSampling=Qm(e.networkRequestsSamplingRate),t}function Qm(t){return Math.random()<=t}var bC,c0=1;function cS(){return c0=2,bC=bC||function lS(){return function fS(){var t=ls.getInstance().document;return new Promise(function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}().then(function(){return function dC(){var t=No.getInstance().installationsService.getId();return t.then(function(e){aS=e}),t}()}).then(function(t){return function a0(t){var e=function vC(){var t=ls.getInstance().localStorage;if(t){var e=t.getItem(Z_);if(e&&function uS(t){return Number(t)>Date.now()}(e)){var n=t.getItem(J_);if(n)try{return JSON.parse(n)}catch(u){return}}}}();return e?(u0(e),Promise.resolve()):function J1(t){return function G1(){var t=No.getInstance().installationsService.getToken();return t.then(function(e){}),t}().then(function(e){var s="https://firebaseremoteconfig.googleapis.com/v1/projects/"+No.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+No.getInstance().getApiKey(),u=new Request(s,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:No.getInstance().getAppId(),app_version:"0.4.18",sdk_version:"0.0.1"})});return fetch(u).then(function(h){if(h.ok)return h.json();throw Ms.create("RC response not ok")})}).catch(function(){sc.info(_C)})}(t).then(u0).then(function(n){return function yC(t){var e=ls.getInstance().localStorage;!t||!e||(e.setItem(J_,JSON.stringify(t)),e.setItem(Z_,String(Date.now()+60*No.getInstance().configTimeToLive*60*1e3)))}(n)},function(){})}(t)}).then(function(){return wC()},function(){return wC()})}(),bC}function wC(){c0=3}var tv,aa=3,Kl=[],Zm=!1;function ev(t){setTimeout(function(){if(0!==aa){if(!Kl.length)return ev(1e4);!function l0(){var t=Kl.splice(0,1e3),e=t.map(function(s){return{source_extension_json_proto3:s.message,event_time_ms:String(s.eventTime)}});(function CC(t,e){return function IC(t){var e=No.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then(function(n){return n.ok||sc.info("Call to Firebase backend failed."),n.json()}).then(function(n){var s=Number(n.nextRequestWaitMillis),u=1e4;isNaN(s)||(u=Math.max(s,u));var h=n.logResponseDetails;Array.isArray(h)&&h.length>0&&"RETRY_REQUEST_LATER"===h[0].responseAction&&(Kl=(0,V.__spreadArray)((0,V.__spreadArray)([],e),Kl),sc.info("Retry transport request later.")),aa=3,ev(u)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:No.getInstance().logSource,log_event:e},t).catch(function(){Kl=(0,V.__spreadArray)((0,V.__spreadArray)([],t),Kl),aa--,sc.info("Tries left: "+aa+"."),ev(1e4)})}()}},t)}function gS(t){if(!t.eventTime||!t.message)throw Ms.create("invalid cc log");Kl=(0,V.__spreadArray)((0,V.__spreadArray)([],Kl),[t])}function TC(t,e){tv||(tv=function DC(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];gS({message:t.apply(void 0,e),eventTime:Date.now()})}}(mS)),tv(t,e)}function nv(t){var e=No.getInstance();!e.instrumentationEnabled&&t.isAuto||!e.dataCollectionEnabled&&!t.isAuto||!ls.getInstance().requiredApisAvailable()||t.isAuto&&Up()!==gh.VISIBLE||(function Z1(){return 3===c0}()?jp(t):cS().then(function(){return jp(t)},function(){return jp(t)}))}function jp(t){if(hC()){var e=No.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(function(){return TC(t,1)},0)}}function mS(t,e){return 0===e?function eR(t){var e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:f0(),network_request_metric:e};return JSON.stringify(n)}(t):function vS(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var s={application_info:f0(),trace_metric:e};return JSON.stringify(s)}(t)}function f0(){return{google_app_id:No.getInstance().getAppId(),app_instance_id:hC(),web_app_info:{sdk_version:"0.4.18",page_url:ls.getInstance().getUrl(),service_worker_status:K1(),visibility_state:Up(),effective_connection_type:X1()},application_process_state:0}}var SC=["_fp","_fcp","_fid"],mh=function(){function t(e,n,s){void 0===n&&(n=!1),this.name=e,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=ls.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=s||Vp+"-"+this.randomId+"-"+this.name,s&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw Ms.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw Ms.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),nv(this)},t.prototype.record=function(e,n,s){if(e<=0)throw Ms.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw Ms.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*n),this.startTimeUs=Math.floor(1e3*e),s&&s.attributes&&(this.customAttributes=(0,V.__assign)({},s.attributes)),s&&s.metrics)for(var u=0,h=Object.keys(s.metrics);u<h.length;u++){var _=h[u];isNaN(Number(s.metrics[_]))||(this.counters[_]=Number(Math.floor(s.metrics[_])))}nv(this)},t.prototype.incrementMetric=function(e,n){void 0===n&&(n=1),this.putMetric(e,void 0===this.counters[e]?n:this.counters[e]+n)},t.prototype.putMetric=function(e,n){if(!function bS(t,e){return!(0===t.length||t.length>100)&&(e&&e.startsWith("_wt_")&&SC.indexOf(t)>-1||!t.startsWith("_"))}(e,this.name))throw Ms.create("invalid custom metric name",{customMetricName:e});this.counters[e]=function tR(t){var e=Math.floor(t);return e<t&&sc.info("Metric value should be an Integer, setting the value as : "+e+"."),e}(n)},t.prototype.getMetric=function(e){return this.counters[e]||0},t.prototype.putAttribute=function(e,n){var s=function pC(t){return!(0===t.length||t.length>40||q1.some(function(n){return t.startsWith(n)})||!t.match(z1))}(e),u=function s0(t){return 0!==t.length&&t.length<=100}(n);if(s&&u)this.customAttributes[e]=n;else{if(!s)throw Ms.create("invalid attribute name",{attributeName:e});if(!u)throw Ms.create("invalid attribute value",{attributeValue:n})}},t.prototype.getAttribute=function(e){return this.customAttributes[e]},t.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},t.prototype.getAttributes=function(){return(0,V.__assign)({},this.customAttributes)},t.prototype.setStartTime=function(e){this.startTimeUs=e},t.prototype.setDuration=function(e){this.durationUs=e},t.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),n=e&&e[0];n&&(this.durationUs=Math.floor(1e3*n.duration),this.startTimeUs=Math.floor(1e3*(n.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,s){var u=ls.getInstance().getUrl();if(u){var h=new t("_wt_"+u,!0),_=Math.floor(1e3*ls.getInstance().getTimeOrigin());if(h.setStartTime(_),e&&e[0]&&(h.setDuration(Math.floor(1e3*e[0].duration)),h.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),h.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),h.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),n){var B=n.find(function(ue){return"first-paint"===ue.name});B&&B.startTime&&h.putMetric("_fp",Math.floor(1e3*B.startTime));var Y=n.find(function(ue){return"first-contentful-paint"===ue.name});Y&&Y.startTime&&h.putMetric("_fcp",Math.floor(1e3*Y.startTime)),s&&h.putMetric("_fid",Math.floor(1e3*s))}nv(h)}},t.createUserTimingTrace=function(e){nv(new t(e,!1,e))},t}();function d0(t){var e=t;if(e&&void 0!==e.responseStart){var n=ls.getInstance().getTimeOrigin(),s=Math.floor(1e3*(e.startTime+n)),u=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,h=Math.floor(1e3*(e.responseEnd-e.startTime));!function Du(t){var e=No.getInstance();if(e.instrumentationEnabled){var n=t.url,s=e.logEndPointUrl.split("?")[0],u=e.flTransportEndpointUrl.split("?")[0];n===s||n===u||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(function(){return TC(t,0)},0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:s,timeToResponseInitiatedUs:u,timeToResponseCompletedUs:h})}}function AC(){!hC()||(setTimeout(function(){return function h0(){var t=ls.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var s=setTimeout(function(){mh.createOobTrace(e,n),s=void 0},5e3);t.onFirstInputDelay(function(u){s&&(clearTimeout(s),mh.createOobTrace(e,n,u))})}else mh.createOobTrace(e,n)}()},0),setTimeout(function(){return function MC(){for(var t=ls.getInstance(),n=0,s=t.getEntriesByType("resource");n<s.length;n++)d0(s[n]);t.setupObserver("resource",d0)}()},0),setTimeout(function(){return function p0(){for(var t=ls.getInstance(),n=0,s=t.getEntriesByType("measure");n<s.length;n++)g0(s[n]);t.setupObserver("measure",g0)}()},0))}function g0(t){var e=t.name;e.substring(0,Vp.length)!==Vp&&mh.createUserTimingTrace(e)}var ES=function(){function t(e){this.app=e,ls.getInstance().requiredApisAvailable()&&(0,un.validateIndexedDBOpenable)().then(function(n){n&&(function pS(){Zm||(ev(5500),Zm=!0)}(),cS().then(AC,AC))}).catch(function(n){sc.info("Environment doesn't support IndexedDB: "+n)})}return t.prototype.trace=function(e){return new mh(e)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return No.getInstance().instrumentationEnabled},set:function(e){No.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return No.getInstance().dataCollectionEnabled},set:function(e){No.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),t}();!function xC(t){t.INTERNAL.registerComponent(new Xc.Component("performance",function(n){return function(n,s){if("[DEFAULT]"!==n.name)throw Ms.create("FB not default");if("undefined"==typeof window)throw Ms.create("no window");return function fC(t){n0=t}(window),No.getInstance().firebaseAppInstance=n,No.getInstance().installationsService=s,new ES(n)}(n.getProvider("app").getImmediate(),n.getProvider("installations").getImmediate())},"PUBLIC")),t.registerVersion("@firebase/performance","0.4.18")}(rn.default);var m0="https://www.googletagmanager.com/gtag/js",fs=(()=>(function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"}(fs||(fs={})),fs))(),rv=(()=>(function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"}(rv||(rv={})),rv))(),Rs=new hr.Logger("@firebase/analytics");function TS(t,e,n,s,u,h){return(0,V.__awaiter)(this,void 0,void 0,function(){var _,w,A,B;return(0,V.__generator)(this,function(Y){switch(Y.label){case 0:_=s[u],Y.label=1;case 1:return Y.trys.push([1,7,,8]),_?[4,e[_]]:[3,3];case 2:return Y.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return w=Y.sent(),(A=w.find(function(ue){return ue.measurementId===u}))?[4,e[A.appId]]:[3,6];case 5:Y.sent(),Y.label=6;case 6:return[3,8];case 7:return B=Y.sent(),Rs.error(B),[3,8];case 8:return t(fs.CONFIG,u,h),[2]}})})}function SS(t,e,n,s,u){return(0,V.__awaiter)(this,void 0,void 0,function(){var h,_,w,A,B,Y,ze;return(0,V.__generator)(this,function(Le){switch(Le.label){case 0:return Le.trys.push([0,4,,5]),h=[],u&&u.send_to?(_=u.send_to,Array.isArray(_)||(_=[_]),[4,Promise.all(n)]):[3,2];case 1:for(w=Le.sent(),A=function(ut){var Mt=w.find(function(hn){return hn.measurementId===ut}),Wt=Mt&&e[Mt.appId];if(!Wt)return h=[],"break";h.push(Wt)},B=0,Y=_;B<Y.length&&"break"!==A(Y[B]);B++);Le.label=2;case 2:return 0===h.length&&(h=Object.values(e)),[4,Promise.all(h)];case 3:return Le.sent(),t(fs.EVENT,s,u||{}),[3,5];case 4:return ze=Le.sent(),Rs.error(ze),[3,5];case 5:return[2]}})})}var Ia,v0=((Ia={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Ia["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Ia["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Ia["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Ia["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Ia["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Ia["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Ia["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Ia["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Ia),Ya=new un.ErrorFactory("analytics","Analytics",v0),ov=function(){function t(e,n){void 0===e&&(e={}),void 0===n&&(n=1e3),this.throttleMetadata=e,this.intervalMillis=n}return t.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},t.prototype.setThrottleMetadata=function(e,n){this.throttleMetadata[e]=n},t.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},t}(),AS=new ov;function cR(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function lR(t){var e;return(0,V.__awaiter)(this,void 0,void 0,function(){var n,u,h,_,w,A;return(0,V.__generator)(this,function(B){switch(B.label){case 0:return n=t.appId,u={method:"GET",headers:cR(t.apiKey)},h="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(h,u)];case 1:if(200===(_=B.sent()).status||304===_.status)return[3,6];w="",B.label=2;case 2:return B.trys.push([2,4,,5]),[4,_.json()];case 3:return A=B.sent(),(null===(e=A.error)||void 0===e?void 0:e.message)&&(w=A.error.message),[3,5];case 4:return B.sent(),[3,5];case 5:throw Ya.create("config-fetch-failed",{httpStatus:_.status,responseMessage:w});case 6:return[2,_.json()]}})})}function b0(t,e,n,s){var u=e.throttleEndTimeMillis,h=e.backoffCount;return void 0===s&&(s=AS),(0,V.__awaiter)(this,void 0,void 0,function(){var _,w,A,B,Y,ue,pe;return(0,V.__generator)(this,function(ze){switch(ze.label){case 0:_=t.appId,w=t.measurementId,ze.label=1;case 1:return ze.trys.push([1,3,,4]),[4,MS(n,u)];case 2:return ze.sent(),[3,4];case 3:if(A=ze.sent(),w)return Rs.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+w+' provided in the "measurementId" field in the local Firebase config. ['+A.message+"]"),[2,{appId:_,measurementId:w}];throw A;case 4:return ze.trys.push([4,6,,7]),[4,lR(t)];case 5:return B=ze.sent(),s.deleteThrottleMetadata(_),[2,B];case 6:if(!function RS(t){if(!(t instanceof un.FirebaseError&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(Y=ze.sent())){if(s.deleteThrottleMetadata(_),w)return Rs.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+w+' provided in the "measurementId" field in the local Firebase config. ['+Y.message+"]"),[2,{appId:_,measurementId:w}];throw Y}return ue=503===Number(Y.customData.httpStatus)?(0,un.calculateBackoffMillis)(h,s.intervalMillis,30):(0,un.calculateBackoffMillis)(h,s.intervalMillis),pe={throttleEndTimeMillis:Date.now()+ue,backoffCount:h+1},s.setThrottleMetadata(_,pe),Rs.debug("Calling attemptFetch again in "+ue+" millis"),[2,b0(t,pe,n,s)];case 7:return[2]}})})}function MS(t,e){return new Promise(function(n,s){var u=Math.max(e-Date.now(),0),h=setTimeout(n,u);t.addEventListener(function(){clearTimeout(h),s(Ya.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var xS=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();var av,uv,Ka={},$p=[],PC={},Hp="dataLayer",sv="gtag",Gp=!1;function OS(t){if(Gp)throw Ya.create("already-initialized");t.dataLayerName&&(Hp=t.dataLayerName),t.gtagName&&(sv=t.gtagName)}function pR(t,e){!function hR(){var t=[];if((0,un.isBrowserExtension)()&&t.push("This is a browser extension environment."),(0,un.areCookiesEnabled)()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(s,u){return"("+(u+1)+") "+s}).join(" "),n=Ya.create("invalid-analytics-context",{errorInfo:e});Rs.warn(n.message)}}();var n=t.options.appId;if(!n)throw Ya.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Ya.create("no-api-key");Rs.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Ka[n])throw Ya.create("already-exists",{id:n});if(!Gp){!function iv(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Hp);var s=function ed(t,e,n,s,u){var h=function(){for(var _=[],w=0;w<arguments.length;w++)_[w]=arguments[w];window[s].push(arguments)};return window[u]&&"function"==typeof window[u]&&(h=window[u]),window[u]=function kC(t,e,n,s){return function u(h,_,w){return(0,V.__awaiter)(this,void 0,void 0,function(){var A;return(0,V.__generator)(this,function(B){switch(B.label){case 0:return B.trys.push([0,6,,7]),h!==fs.EVENT?[3,2]:[4,SS(t,e,n,_,w)];case 1:return B.sent(),[3,5];case 2:return h!==fs.CONFIG?[3,4]:[4,TS(t,e,n,s,_,w)];case 3:return B.sent(),[3,5];case 4:t(fs.SET,_),B.label=5;case 5:return[3,7];case 6:return A=B.sent(),Rs.error(A),[3,7];case 7:return[2]}})})}}(h,t,e,n),{gtagCore:h,wrappedGtag:window[u]}}(Ka,$p,PC,Hp,sv);uv=s.wrappedGtag,av=s.gtagCore,Gp=!0}Ka[n]=function NC(t,e,n,s,u,h){return(0,V.__awaiter)(this,void 0,void 0,function(){var _,w,A,B,Y,ue,pe;return(0,V.__generator)(this,function(ze){switch(ze.label){case 0:return _=function fR(t,e,n){return void 0===e&&(e=AS),(0,V.__awaiter)(this,void 0,void 0,function(){var s,u,h,_,w,A,B=this;return(0,V.__generator)(this,function(Y){if(h=(s=t.options).apiKey,_=s.measurementId,!(u=s.appId))throw Ya.create("no-app-id");if(!h){if(_)return[2,{measurementId:_,appId:u}];throw Ya.create("no-api-key")}return w=e.getThrottleMetadata(u)||{backoffCount:0,throttleEndTimeMillis:Date.now()},A=new xS,setTimeout(function(){return(0,V.__awaiter)(B,void 0,void 0,function(){return(0,V.__generator)(this,function(ue){return A.abort(),[2]})})},void 0!==n?n:6e4),[2,b0({appId:u,apiKey:h,measurementId:_},w,A,e)]})})}(t),_.then(function(Le){n[Le.measurementId]=Le.appId,t.options.measurementId&&Le.measurementId!==t.options.measurementId&&Rs.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+Le.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(Le){return Rs.error(Le)}),e.push(_),w=function kS(){return(0,V.__awaiter)(this,void 0,void 0,function(){var t;return(0,V.__generator)(this,function(e){switch(e.label){case 0:return(0,un.isIndexedDBAvailable)()?[3,1]:(Rs.warn(Ya.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,(0,un.validateIndexedDBOpenable)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),Rs.warn(Ya.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(Le){if(Le)return s.getId()}),[4,Promise.all([_,w])];case 1:return A=ze.sent(),B=A[0],Y=A[1],function OC(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var s=n[e];if(s.src&&s.src.includes(m0))return s}return null}()||function DS(t,e){var n=document.createElement("script");n.src=m0+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}(h,B.measurementId),u("js",new Date),(pe={}).origin="firebase",pe.update=!0,ue=pe,null!=Y&&(ue.firebase_id=Y),u(fs.CONFIG,B.measurementId,ue),[2,B.measurementId]}})})}(t,$p,PC,e,av,Hp);var _={app:t,logEvent:function(w,A,B){(function IS(t,e,n,s,u){return(0,V.__awaiter)(this,void 0,void 0,function(){var h,_;return(0,V.__generator)(this,function(w){switch(w.label){case 0:return u&&u.global?(t(fs.EVENT,n,s),[2]):[3,1];case 1:return[4,e];case 2:h=w.sent(),_=(0,V.__assign)((0,V.__assign)({},s),{send_to:h}),t(fs.EVENT,n,_),w.label=3;case 3:return[2]}})})})(uv,Ka[n],w,A,B).catch(function(Y){return Rs.error(Y)})},setCurrentScreen:function(w,A){(function oR(t,e,n,s){return(0,V.__awaiter)(this,void 0,void 0,function(){var u;return(0,V.__generator)(this,function(h){switch(h.label){case 0:return s&&s.global?(t(fs.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:u=h.sent(),t(fs.CONFIG,u,{update:!0,screen_name:n}),h.label=3;case 3:return[2]}})})})(uv,Ka[n],w,A).catch(function(B){return Rs.error(B)})},setUserId:function(w,A){(function sR(t,e,n,s){return(0,V.__awaiter)(this,void 0,void 0,function(){var u;return(0,V.__generator)(this,function(h){switch(h.label){case 0:return s&&s.global?(t(fs.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:u=h.sent(),t(fs.CONFIG,u,{update:!0,user_id:n}),h.label=3;case 3:return[2]}})})})(uv,Ka[n],w,A).catch(function(B){return Rs.error(B)})},setUserProperties:function(w,A){(function aR(t,e,n,s){return(0,V.__awaiter)(this,void 0,void 0,function(){var u,h,_,w,A;return(0,V.__generator)(this,function(B){switch(B.label){case 0:if(!s||!s.global)return[3,1];for(u={},h=0,_=Object.keys(n);h<_.length;h++)u["user_properties."+(w=_[h])]=n[w];return t(fs.SET,u),[2,Promise.resolve()];case 1:return[4,e];case 2:A=B.sent(),t(fs.CONFIG,A,{update:!0,user_properties:n}),B.label=3;case 3:return[2]}})})})(uv,Ka[n],w,A).catch(function(B){return Rs.error(B)})},setAnalyticsCollectionEnabled:function(w){(function uR(t,e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n;return(0,V.__generator)(this,function(s){switch(s.label){case 0:return[4,t];case 1:return n=s.sent(),window["ga-disable-"+n]=!e,[2]}})})})(Ka[n],w).catch(function(A){return Rs.error(A)})},INTERNAL:{delete:function(){return delete Ka[n],Promise.resolve()}}};return _}var LC="analytics";function vR(){return(0,V.__awaiter)(this,void 0,void 0,function(){return(0,V.__generator)(this,function(e){switch(e.label){case 0:if((0,un.isBrowserExtension)())return[2,!1];if(!(0,un.areCookiesEnabled)())return[2,!1];if(!(0,un.isIndexedDBAvailable)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,un.validateIndexedDBOpenable)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}})})}!function mR(t){t.INTERNAL.registerComponent(new Xc.Component(LC,function(n){return pR(n.getProvider("app").getImmediate(),n.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:OS,EventName:rv,isSupported:vR})),t.INTERNAL.registerComponent(new Xc.Component("analytics-internal",function e(n){try{return{logEvent:n.getProvider(LC).getImmediate().logEvent}}catch(u){throw Ya.create("interop-component-reg-failed",{reason:u})}},"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.18")}(rn.default);var ua,yR=function(){function t(e,n,s,u){this.client=e,this.storage=n,this.storageCache=s,this.logger=u}return t.prototype.isCachedDataFresh=function(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var s=Date.now()-n,u=s<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+s+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+u+"."),u},t.prototype.fetch=function(e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n,s,u,h,_;return(0,V.__generator)(this,function(w){switch(w.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=w.sent(),s=n[0],(u=n[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,s)?[2,u]:(e.eTag=u&&u.eTag,[4,this.client.fetch(e)]);case 2:return h=w.sent(),_=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===h.status&&_.push(this.storage.setLastSuccessfulFetchResponse(h)),[4,Promise.all(_)];case 3:return w.sent(),[2,h]}})})},t}(),_R=((ua={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",ua["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",ua["registration-api-key"]="Undefined API key. Check Firebase app initialization.",ua["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",ua["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",ua["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",ua["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",ua["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",ua["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",ua["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',ua["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',ua["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",ua["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",ua),Xa=new un.ErrorFactory("remoteconfig","Remote Config",_R);function wR(t){return void 0===t&&(t=navigator),t.languages&&t.languages[0]||t.language}var ER=function(){function t(e,n,s,u,h,_){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=s,this.projectId=u,this.apiKey=h,this.appId=_}return t.prototype.fetch=function(e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n,h,_,w,A,B,Y,ue,pe,ze,Le,ut,Mt,Wt,hn,bn,tr;return(0,V.__generator)(this,function(Yn){switch(Yn.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=Yn.sent(),h=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",_=h+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,w={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},A={sdk_version:this.sdkVersion,app_instance_id:n[0],app_instance_id_token:n[1],app_id:this.appId,language_code:wR()},B={method:"POST",headers:w,body:JSON.stringify(A)},Y=fetch(_,B),ue=new Promise(function(an,Ai){e.signal.addEventListener(function(){var Ja=new Error("The operation was aborted.");Ja.name="AbortError",Ai(Ja)})}),Yn.label=2;case 2:return Yn.trys.push([2,5,,6]),[4,Promise.race([Y,ue])];case 3:return Yn.sent(),[4,Y];case 4:return pe=Yn.sent(),[3,6];case 5:throw ze=Yn.sent(),Le="fetch-client-network","AbortError"===ze.name&&(Le="fetch-timeout"),Xa.create(Le,{originalErrorMessage:ze.message});case 6:if(ut=pe.status,Mt=pe.headers.get("ETag")||void 0,200!==pe.status)return[3,11];bn=void 0,Yn.label=7;case 7:return Yn.trys.push([7,9,,10]),[4,pe.json()];case 8:return bn=Yn.sent(),[3,10];case 9:throw tr=Yn.sent(),Xa.create("fetch-client-parse",{originalErrorMessage:tr.message});case 10:Wt=bn.entries,hn=bn.state,Yn.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===hn?ut=500:"NO_CHANGE"===hn?ut=304:("NO_TEMPLATE"===hn||"EMPTY_CONFIG"===hn)&&(Wt={}),304!==ut&&200!==ut)throw Xa.create("fetch-status",{httpStatus:ut});return[2,{status:ut,eTag:Mt,config:Wt}]}})})},t}(),CR=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}(),d=["1","true","t","yes","y","on"],m=function(){function t(e,n){void 0===n&&(n=""),this._source=e,this._value=n}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&d.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},t.prototype.getSource=function(){return this._source},t}(),R=function(){function t(e,n,s,u,h){this.app=e,this._client=n,this._storageCache=s,this._storage=u,this._logger=h,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=hr.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=hr.LogLevel.SILENT;break;default:this._logger.logLevel=hr.LogLevel.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return(0,V.__awaiter)(this,void 0,void 0,function(){var e,n,s;return(0,V.__generator)(this,function(u){switch(u.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=u.sent(),s=e[1],(n=e[0])&&n.config&&n.eTag&&n.eTag!==s?[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])]:[2,!1];case 2:return u.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){e._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return(0,V.__awaiter)(this,void 0,void 0,function(){var e,n,s,u=this;return(0,V.__generator)(this,function(h){switch(h.label){case 0:e=new CR,setTimeout(function(){return(0,V.__awaiter)(u,void 0,void 0,function(){return(0,V.__generator)(this,function(_){return e.abort(),[2]})})},this.settings.fetchTimeoutMillis),h.label=1;case 1:return h.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return h.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return h.sent(),[3,6];case 4:return n=h.sent(),s=function bR(t,e){return t instanceof un.FirebaseError&&-1!==t.code.indexOf(e)}(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(s)];case 5:throw h.sent(),n;case 6:return[2]}})})},t.prototype.fetchAndActivate=function(){return(0,V.__awaiter)(this,void 0,void 0,function(){return(0,V.__generator)(this,function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var e=this;return function N(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),Object.keys((0,V.__assign)((0,V.__assign)({},t),e))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,s){return n[s]=e.getValue(s),n},{})},t.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},t.prototype.getNumber=function(e){return this.getValue(e).asNumber()},t.prototype.getString=function(e){return this.getValue(e).asString()},t.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&void 0!==n[e]?new m("remote",n[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new m("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new m("static"))},t}();function K(t,e){var n=t.target.error||void 0;return Xa.create(e,{originalErrorMessage:n&&n.message})}var Z="app_namespace_store",Ot=function(){function t(e,n,s,u){void 0===u&&(u=function lt(){return new Promise(function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(s){e(K(s,"storage-open"))},n.onsuccess=function(s){t(s.target.result)},n.onupgradeneeded=function(s){0===s.oldVersion&&s.target.result.createObjectStore(Z,{keyPath:"compositeKey"})}})}()),this.appId=e,this.appName=n,this.namespace=s,this.openDbPromise=u}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(e){return this.set("active_config",e)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n,s=this;return(0,V.__generator)(this,function(u){switch(u.label){case 0:return[4,this.openDbPromise];case 1:return n=u.sent(),[2,new Promise(function(h,_){var A=n.transaction([Z],"readonly").objectStore(Z),B=s.createCompositeKey(e);try{var Y=A.get(B);Y.onerror=function(ue){_(K(ue,"storage-get"))},Y.onsuccess=function(ue){var pe=ue.target.result;h(pe?pe.value:void 0)}}catch(ue){_(Xa.create("storage-get",{originalErrorMessage:ue&&ue.message}))}})]}})})},t.prototype.set=function(e,n){return(0,V.__awaiter)(this,void 0,void 0,function(){var s,u=this;return(0,V.__generator)(this,function(h){switch(h.label){case 0:return[4,this.openDbPromise];case 1:return s=h.sent(),[2,new Promise(function(_,w){var B=s.transaction([Z],"readwrite").objectStore(Z),Y=u.createCompositeKey(e);try{var ue=B.put({compositeKey:Y,value:n});ue.onerror=function(pe){w(K(pe,"storage-set"))},ue.onsuccess=function(){_()}}catch(pe){w(Xa.create("storage-set",{originalErrorMessage:pe&&pe.message}))}})]}})})},t.prototype.delete=function(e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n,s=this;return(0,V.__generator)(this,function(u){switch(u.label){case 0:return[4,this.openDbPromise];case 1:return n=u.sent(),[2,new Promise(function(h,_){var A=n.transaction([Z],"readwrite").objectStore(Z),B=s.createCompositeKey(e);try{var Y=A.delete(B);Y.onerror=function(ue){_(K(ue,"storage-delete"))},Y.onsuccess=function(){h()}}catch(ue){_(Xa.create("storage-delete",{originalErrorMessage:ue&&ue.message}))}})]}})})},t.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},t}(),nn=function(){function t(e){this.storage=e}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return(0,V.__awaiter)(this,void 0,void 0,function(){var e,n,s,u,h,_;return(0,V.__generator)(this,function(w){switch(w.label){case 0:return e=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),s=this.storage.getActiveConfig(),[4,e];case 1:return(u=w.sent())&&(this.lastFetchStatus=u),[4,n];case 2:return(h=w.sent())&&(this.lastSuccessfulFetchTimestampMillis=h),[4,s];case 3:return(_=w.sent())&&(this.activeConfig=_),[2]}})})},t.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},t.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},t}();function fn(t,e){return new Promise(function(n,s){var u=Math.max(e-Date.now(),0),h=setTimeout(n,u);t.addEventListener(function(){clearTimeout(h),s(Xa.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var Ut=function(){function t(e,n){this.client=e,this.storage=n}return t.prototype.fetch=function(e){return(0,V.__awaiter)(this,void 0,void 0,function(){var n;return(0,V.__generator)(this,function(s){switch(s.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=s.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,n)]}})})},t.prototype.attemptFetch=function(e,n){var s=n.throttleEndTimeMillis,u=n.backoffCount;return(0,V.__awaiter)(this,void 0,void 0,function(){var h,_,w;return(0,V.__generator)(this,function(A){switch(A.label){case 0:return[4,fn(e.signal,s)];case 1:A.sent(),A.label=2;case 2:return A.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return h=A.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return A.sent(),[2,h];case 5:if(!function Tn(t){if(!(t instanceof un.FirebaseError&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(_=A.sent()))throw _;return w={throttleEndTimeMillis:Date.now()+(0,un.calculateBackoffMillis)(u),backoffCount:u+1},[4,this.storage.setThrottleMetadata(w)];case 6:return A.sent(),[2,this.attemptFetch(e,w)];case 7:return[2]}})})},t}(),zn="@firebase/remote-config";!function hi(t){t.INTERNAL.registerComponent(new Xc.Component("remoteConfig",function e(n,s){var u=s.instanceIdentifier,h=n.getProvider("app").getImmediate(),_=n.getProvider("installations").getImmediate();if("undefined"==typeof window)throw Xa.create("registration-window");var w=h.options,A=w.projectId,B=w.apiKey,Y=w.appId;if(!A)throw Xa.create("registration-project-id");if(!B)throw Xa.create("registration-api-key");if(!Y)throw Xa.create("registration-app-id");var ue=new Ot(Y,h.name,u=u||"firebase"),pe=new nn(ue),ze=new hr.Logger(zn);ze.logLevel=hr.LogLevel.ERROR;var Le=new ER(_,t.SDK_VERSION,u,A,B,Y),ut=new Ut(Le,ue),Mt=new yR(ut,ue,pe,ze),Wt=new R(h,Mt,pe,ue,ze);return Wt.ensureInitialized(),Wt},"PUBLIC").setMultipleInstances(!0)),t.registerVersion(zn,"0.1.43")}(rn.default),de(2106),rn.default.registerVersion("firebase","8.10.1","app"),rn.default.SDK_VERSION="8.10.1",console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),rn.default.registerVersion("firebase","8.10.1");const C0={apiKey:"AIzaSyCzl94LdSH5MtEZGufcsge9oS3FPyDSHSE",authDomain:"jintheevil-s-portfolio.firebaseapp.com",projectId:"jintheevil-s-portfolio",storageBucket:"jintheevil-s-portfolio.appspot.com",messagingSenderId:"345726874847",appId:"1:345726874847:web:2f47aea16444089b90256a",measurementId:"G-6Q1TX9JX6Z"};let I0=(()=>{class t{constructor(){rn.default.initializeApp(C0)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Ae.Xpm({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(n,s){1&n&&(Ae.TgZ(0,"ion-app"),Ae._UZ(1,"ion-router-outlet"),Ae.qZA())},directives:[vi.dr,vi.jP],styles:[""]}),t})();const D0=[{path:"home",loadChildren:()=>de.e(4851).then(de.bind(de,4851)).then(t=>t.HomePageModule)},{path:"",redirectTo:"home",pathMatch:"full"}];let T0=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ae.oAB({type:t}),t.\u0275inj=Ae.cJS({imports:[[ai.Bz.forRoot(D0,{preloadingStrategy:ai.wm})],ai.Bz]}),t})(),S0=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ae.oAB({type:t,bootstrap:[I0]}),t.\u0275inj=Ae.cJS({providers:[{provide:ai.wN,useClass:vi.r4}],imports:[[_n,vi.Pc.forRoot(),T0]]}),t})();(0,Ae.G48)(),nr().bootstrapModule(S0).catch(t=>console.log(t))},2940:function(Sn,Lt){!function(de){"use strict";function g(Me){return Array.prototype.slice.call(Me)}function Ae(Me){return new Promise(function(Ve,rt){Me.onsuccess=function(){Ve(Me.result)},Me.onerror=function(){rt(Me.error)}})}function $(Me,Ve,rt){var et,bt=new Promise(function(Pe,Ke){Ae(et=Me[Ve].apply(Me,rt)).then(Pe,Ke)});return bt.request=et,bt}function je(Me,Ve,rt){var et=$(Me,Ve,rt);return et.then(function(bt){if(bt)return new fe(bt,et.request)})}function nt(Me,Ve,rt){rt.forEach(function(et){Object.defineProperty(Me.prototype,et,{get:function(){return this[Ve][et]},set:function(bt){this[Ve][et]=bt}})})}function it(Me,Ve,rt,et){et.forEach(function(bt){bt in rt.prototype&&(Me.prototype[bt]=function(){return $(this[Ve],bt,arguments)})})}function Qe(Me,Ve,rt,et){et.forEach(function(bt){bt in rt.prototype&&(Me.prototype[bt]=function(){return this[Ve][bt].apply(this[Ve],arguments)})})}function yt(Me,Ve,rt,et){et.forEach(function(bt){bt in rt.prototype&&(Me.prototype[bt]=function(){return je(this[Ve],bt,arguments)})})}function ke(Me){this._index=Me}function fe(Me,Ve){this._cursor=Me,this._request=Ve}function Ee(Me){this._store=Me}function ve(Me){this._tx=Me,this.complete=new Promise(function(Ve,rt){Me.oncomplete=function(){Ve()},Me.onerror=function(){rt(Me.error)},Me.onabort=function(){rt(Me.error)}})}function ae(Me,Ve,rt){this._db=Me,this.oldVersion=Ve,this.transaction=new ve(rt)}function ye(Me){this._db=Me}nt(ke,"_index",["name","keyPath","multiEntry","unique"]),it(ke,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),yt(ke,"_index",IDBIndex,["openCursor","openKeyCursor"]),nt(fe,"_cursor",["direction","key","primaryKey","value"]),it(fe,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Me){Me in IDBCursor.prototype&&(fe.prototype[Me]=function(){var Ve=this,rt=arguments;return Promise.resolve().then(function(){return Ve._cursor[Me].apply(Ve._cursor,rt),Ae(Ve._request).then(function(et){if(et)return new fe(et,Ve._request)})})})}),Ee.prototype.createIndex=function(){return new ke(this._store.createIndex.apply(this._store,arguments))},Ee.prototype.index=function(){return new ke(this._store.index.apply(this._store,arguments))},nt(Ee,"_store",["name","keyPath","indexNames","autoIncrement"]),it(Ee,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),yt(Ee,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Qe(Ee,"_store",IDBObjectStore,["deleteIndex"]),ve.prototype.objectStore=function(){return new Ee(this._tx.objectStore.apply(this._tx,arguments))},nt(ve,"_tx",["objectStoreNames","mode"]),Qe(ve,"_tx",IDBTransaction,["abort"]),ae.prototype.createObjectStore=function(){return new Ee(this._db.createObjectStore.apply(this._db,arguments))},nt(ae,"_db",["name","version","objectStoreNames"]),Qe(ae,"_db",IDBDatabase,["deleteObjectStore","close"]),ye.prototype.transaction=function(){return new ve(this._db.transaction.apply(this._db,arguments))},nt(ye,"_db",["name","version","objectStoreNames"]),Qe(ye,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Me){[Ee,ke].forEach(function(Ve){Me in Ve.prototype&&(Ve.prototype[Me.replace("open","iterate")]=function(){var rt=g(arguments),et=rt[rt.length-1],bt=this._store||this._index,Pe=bt[Me].apply(bt,rt.slice(0,-1));Pe.onsuccess=function(){et(Pe.result)}})})}),[ke,Ee].forEach(function(Me){Me.prototype.getAll||(Me.prototype.getAll=function(Ve,rt){var et=this,bt=[];return new Promise(function(Pe){et.iterateCursor(Ve,function(Ke){Ke?(bt.push(Ke.value),void 0===rt||bt.length!=rt?Ke.continue():Pe(bt)):Pe(bt)})})})}),de.openDb=function qe(Me,Ve,rt){var et=$(indexedDB,"open",[Me,Ve]),bt=et.request;return bt&&(bt.onupgradeneeded=function(Pe){rt&&rt(new ae(bt.result,Pe.oldVersion,bt.transaction))}),et.then(function(Pe){return new ye(Pe)})},de.deleteDb=function he(Me){return $(indexedDB,"deleteDatabase",[Me])},Object.defineProperty(de,"__esModule",{value:!0})}(Lt)},591:(Sn,Lt,de)=>{"use strict";de.d(Lt,{X:()=>$});var g=de(5529),Ae=de(5279);class $ extends g.xQ{constructor(nt){super(),this._value=nt}get value(){return this.getValue()}_subscribe(nt){const it=super._subscribe(nt);return it&&!it.closed&&nt.next(this._value),it}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ae.N;return this._value}next(nt){super.next(this._value=nt)}}},2916:(Sn,Lt,de)=>{"use strict";de.d(Lt,{y:()=>Ee});var g=de(3489),$=de(7668),je=de(3292),it=de(3821),Qe=de(5379);var fe=de(2830);let Ee=(()=>{class ae{constructor(qe){this._isScalar=!1,qe&&(this._subscribe=qe)}lift(qe){const he=new ae;return he.source=this,he.operator=qe,he}subscribe(qe,he,Me){const{operator:Ve}=this,rt=function nt(ae,ye,qe){if(ae){if(ae instanceof g.L)return ae;if(ae[$.b])return ae[$.b]()}return ae||ye||qe?new g.L(ae,ye,qe):new g.L(je.c)}(qe,he,Me);if(rt.add(Ve?Ve.call(rt,this.source):this.source||fe.v.useDeprecatedSynchronousErrorHandling&&!rt.syncErrorThrowable?this._subscribe(rt):this._trySubscribe(rt)),fe.v.useDeprecatedSynchronousErrorHandling&&rt.syncErrorThrowable&&(rt.syncErrorThrowable=!1,rt.syncErrorThrown))throw rt.syncErrorValue;return rt}_trySubscribe(qe){try{return this._subscribe(qe)}catch(he){fe.v.useDeprecatedSynchronousErrorHandling&&(qe.syncErrorThrown=!0,qe.syncErrorValue=he),function Ae(ae){for(;ae;){const{closed:ye,destination:qe,isStopped:he}=ae;if(ye||he)return!1;ae=qe&&qe instanceof g.L?qe:null}return!0}(qe)?qe.error(he):console.warn(he)}}forEach(qe,he){return new(he=ve(he))((Me,Ve)=>{let rt;rt=this.subscribe(et=>{try{qe(et)}catch(bt){Ve(bt),rt&&rt.unsubscribe()}},Ve,Me)})}_subscribe(qe){const{source:he}=this;return he&&he.subscribe(qe)}[it.L](){return this}pipe(...qe){return 0===qe.length?this:function ke(ae){return 0===ae.length?Qe.y:1===ae.length?ae[0]:function(qe){return ae.reduce((he,Me)=>Me(he),qe)}}(qe)(this)}toPromise(qe){return new(qe=ve(qe))((he,Me)=>{let Ve;this.subscribe(rt=>Ve=rt,rt=>Me(rt),()=>he(Ve))})}}return ae.create=ye=>new ae(ye),ae})();function ve(ae){if(ae||(ae=fe.v.Promise||Promise),!ae)throw new Error("no Promise impl found");return ae}},3292:(Sn,Lt,de)=>{"use strict";de.d(Lt,{c:()=>$});var g=de(2830),Ae=de(2782);const $={closed:!0,next(je){},error(je){if(g.v.useDeprecatedSynchronousErrorHandling)throw je;(0,Ae.z)(je)},complete(){}}},5529:(Sn,Lt,de)=>{"use strict";de.d(Lt,{xQ:()=>yt,Yc:()=>Qe});var g=de(2916),Ae=de(3489),$=de(2654),je=de(5279);class nt extends $.w{constructor(Ee,ve){super(),this.subject=Ee,this.subscriber=ve,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Ee=this.subject,ve=Ee.observers;if(this.subject=null,!ve||0===ve.length||Ee.isStopped||Ee.closed)return;const ae=ve.indexOf(this.subscriber);-1!==ae&&ve.splice(ae,1)}}var it=de(7668);class Qe extends Ae.L{constructor(Ee){super(Ee),this.destination=Ee}}let yt=(()=>{class fe extends g.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[it.b](){return new Qe(this)}lift(ve){const ae=new ke(this,this);return ae.operator=ve,ae}next(ve){if(this.closed)throw new je.N;if(!this.isStopped){const{observers:ae}=this,ye=ae.length,qe=ae.slice();for(let he=0;he<ye;he++)qe[he].next(ve)}}error(ve){if(this.closed)throw new je.N;this.hasError=!0,this.thrownError=ve,this.isStopped=!0;const{observers:ae}=this,ye=ae.length,qe=ae.slice();for(let he=0;he<ye;he++)qe[he].error(ve);this.observers.length=0}complete(){if(this.closed)throw new je.N;this.isStopped=!0;const{observers:ve}=this,ae=ve.length,ye=ve.slice();for(let qe=0;qe<ae;qe++)ye[qe].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ve){if(this.closed)throw new je.N;return super._trySubscribe(ve)}_subscribe(ve){if(this.closed)throw new je.N;return this.hasError?(ve.error(this.thrownError),$.w.EMPTY):this.isStopped?(ve.complete(),$.w.EMPTY):(this.observers.push(ve),new nt(this,ve))}asObservable(){const ve=new g.y;return ve.source=this,ve}}return fe.create=(Ee,ve)=>new ke(Ee,ve),fe})();class ke extends yt{constructor(Ee,ve){super(),this.destination=Ee,this.source=ve}next(Ee){const{destination:ve}=this;ve&&ve.next&&ve.next(Ee)}error(Ee){const{destination:ve}=this;ve&&ve.error&&this.destination.error(Ee)}complete(){const{destination:Ee}=this;Ee&&Ee.complete&&this.destination.complete()}_subscribe(Ee){const{source:ve}=this;return ve?this.source.subscribe(Ee):$.w.EMPTY}}},3489:(Sn,Lt,de)=>{"use strict";de.d(Lt,{L:()=>Qe});var g=de(7043),Ae=de(3292),$=de(2654),je=de(7668),nt=de(2830),it=de(2782);class Qe extends $.w{constructor(fe,Ee,ve){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Ae.c;break;case 1:if(!fe){this.destination=Ae.c;break}if("object"==typeof fe){fe instanceof Qe?(this.syncErrorThrowable=fe.syncErrorThrowable,this.destination=fe,fe.add(this)):(this.syncErrorThrowable=!0,this.destination=new yt(this,fe));break}default:this.syncErrorThrowable=!0,this.destination=new yt(this,fe,Ee,ve)}}[je.b](){return this}static create(fe,Ee,ve){const ae=new Qe(fe,Ee,ve);return ae.syncErrorThrowable=!1,ae}next(fe){this.isStopped||this._next(fe)}error(fe){this.isStopped||(this.isStopped=!0,this._error(fe))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(fe){this.destination.next(fe)}_error(fe){this.destination.error(fe),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:fe}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=fe,this}}class yt extends Qe{constructor(fe,Ee,ve,ae){super(),this._parentSubscriber=fe;let ye,qe=this;(0,g.m)(Ee)?ye=Ee:Ee&&(ye=Ee.next,ve=Ee.error,ae=Ee.complete,Ee!==Ae.c&&(qe=Object.create(Ee),(0,g.m)(qe.unsubscribe)&&this.add(qe.unsubscribe.bind(qe)),qe.unsubscribe=this.unsubscribe.bind(this))),this._context=qe,this._next=ye,this._error=ve,this._complete=ae}next(fe){if(!this.isStopped&&this._next){const{_parentSubscriber:Ee}=this;nt.v.useDeprecatedSynchronousErrorHandling&&Ee.syncErrorThrowable?this.__tryOrSetError(Ee,this._next,fe)&&this.unsubscribe():this.__tryOrUnsub(this._next,fe)}}error(fe){if(!this.isStopped){const{_parentSubscriber:Ee}=this,{useDeprecatedSynchronousErrorHandling:ve}=nt.v;if(this._error)ve&&Ee.syncErrorThrowable?(this.__tryOrSetError(Ee,this._error,fe),this.unsubscribe()):(this.__tryOrUnsub(this._error,fe),this.unsubscribe());else if(Ee.syncErrorThrowable)ve?(Ee.syncErrorValue=fe,Ee.syncErrorThrown=!0):(0,it.z)(fe),this.unsubscribe();else{if(this.unsubscribe(),ve)throw fe;(0,it.z)(fe)}}}complete(){if(!this.isStopped){const{_parentSubscriber:fe}=this;if(this._complete){const Ee=()=>this._complete.call(this._context);nt.v.useDeprecatedSynchronousErrorHandling&&fe.syncErrorThrowable?(this.__tryOrSetError(fe,Ee),this.unsubscribe()):(this.__tryOrUnsub(Ee),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(fe,Ee){try{fe.call(this._context,Ee)}catch(ve){if(this.unsubscribe(),nt.v.useDeprecatedSynchronousErrorHandling)throw ve;(0,it.z)(ve)}}__tryOrSetError(fe,Ee,ve){if(!nt.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{Ee.call(this._context,ve)}catch(ae){return nt.v.useDeprecatedSynchronousErrorHandling?(fe.syncErrorValue=ae,fe.syncErrorThrown=!0,!0):((0,it.z)(ae),!0)}return!1}_unsubscribe(){const{_parentSubscriber:fe}=this;this._context=null,this._parentSubscriber=null,fe.unsubscribe()}}},2654:(Sn,Lt,de)=>{"use strict";de.d(Lt,{w:()=>it});var g=de(6688),Ae=de(7830),$=de(7043);const nt=(()=>{function yt(ke){return Error.call(this),this.message=ke?`${ke.length} errors occurred during unsubscription:\n${ke.map((fe,Ee)=>`${Ee+1}) ${fe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ke,this}return yt.prototype=Object.create(Error.prototype),yt})();class it{constructor(ke){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ke&&(this._ctorUnsubscribe=!0,this._unsubscribe=ke)}unsubscribe(){let ke;if(this.closed)return;let{_parentOrParents:fe,_ctorUnsubscribe:Ee,_unsubscribe:ve,_subscriptions:ae}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,fe instanceof it)fe.remove(this);else if(null!==fe)for(let ye=0;ye<fe.length;++ye)fe[ye].remove(this);if((0,$.m)(ve)){Ee&&(this._unsubscribe=void 0);try{ve.call(this)}catch(ye){ke=ye instanceof nt?Qe(ye.errors):[ye]}}if((0,g.k)(ae)){let ye=-1,qe=ae.length;for(;++ye<qe;){const he=ae[ye];if((0,Ae.K)(he))try{he.unsubscribe()}catch(Me){ke=ke||[],Me instanceof nt?ke=ke.concat(Qe(Me.errors)):ke.push(Me)}}}if(ke)throw new nt(ke)}add(ke){let fe=ke;if(!ke)return it.EMPTY;switch(typeof ke){case"function":fe=new it(ke);case"object":if(fe===this||fe.closed||"function"!=typeof fe.unsubscribe)return fe;if(this.closed)return fe.unsubscribe(),fe;if(!(fe instanceof it)){const ae=fe;fe=new it,fe._subscriptions=[ae]}break;default:throw new Error("unrecognized teardown "+ke+" added to Subscription.")}let{_parentOrParents:Ee}=fe;if(null===Ee)fe._parentOrParents=this;else if(Ee instanceof it){if(Ee===this)return fe;fe._parentOrParents=[Ee,this]}else{if(-1!==Ee.indexOf(this))return fe;Ee.push(this)}const ve=this._subscriptions;return null===ve?this._subscriptions=[fe]:ve.push(fe),fe}remove(ke){const fe=this._subscriptions;if(fe){const Ee=fe.indexOf(ke);-1!==Ee&&fe.splice(Ee,1)}}}var yt;function Qe(yt){return yt.reduce((ke,fe)=>ke.concat(fe instanceof nt?fe.errors:fe),[])}it.EMPTY=((yt=new it).closed=!0,yt)},2830:(Sn,Lt,de)=>{"use strict";de.d(Lt,{v:()=>Ae});let g=!1;const Ae={Promise:void 0,set useDeprecatedSynchronousErrorHandling($){if($){const je=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+je.stack)}else g&&console.log("RxJS: Back to a better error behavior. Thank you. <3");g=$},get useDeprecatedSynchronousErrorHandling(){return g}}},1177:(Sn,Lt,de)=>{"use strict";de.d(Lt,{IY:()=>je,Ds:()=>it,ft:()=>yt});var g=de(3489),Ae=de(2916),$=de(9249);class je extends g.L{constructor(fe){super(),this.parent=fe}_next(fe){this.parent.notifyNext(fe)}_error(fe){this.parent.notifyError(fe),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class it extends g.L{notifyNext(fe){this.destination.next(fe)}notifyError(fe){this.destination.error(fe)}notifyComplete(){this.destination.complete()}}function yt(ke,fe){if(fe.closed)return;if(ke instanceof Ae.y)return ke.subscribe(fe);let Ee;try{Ee=(0,$.s)(ke)(fe)}catch(ve){fe.error(ve)}return Ee}},1762:(Sn,Lt,de)=>{"use strict";de.d(Lt,{c:()=>nt,N:()=>it});var g=de(5529),Ae=de(2916),$=de(2654),je=de(4327);class nt extends Ae.y{constructor(Ee,ve){super(),this.source=Ee,this.subjectFactory=ve,this._refCount=0,this._isComplete=!1}_subscribe(Ee){return this.getSubject().subscribe(Ee)}getSubject(){const Ee=this._subject;return(!Ee||Ee.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let Ee=this._connection;return Ee||(this._isComplete=!1,Ee=this._connection=new $.w,Ee.add(this.source.subscribe(new Qe(this.getSubject(),this))),Ee.closed&&(this._connection=null,Ee=$.w.EMPTY)),Ee}refCount(){return(0,je.x)()(this)}}const it=(()=>{const fe=nt.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:fe._subscribe},_isComplete:{value:fe._isComplete,writable:!0},getSubject:{value:fe.getSubject},connect:{value:fe.connect},refCount:{value:fe.refCount}}})();class Qe extends g.Yc{constructor(Ee,ve){super(Ee),this.connectable=ve}_error(Ee){this._unsubscribe(),super._error(Ee)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const Ee=this.connectable;if(Ee){this.connectable=null;const ve=Ee._connection;Ee._refCount=0,Ee._subject=null,Ee._connection=null,ve&&ve.unsubscribe()}}}},5254:(Sn,Lt,de)=>{"use strict";de.d(Lt,{D:()=>qe});var g=de(2916),Ae=de(9249),$=de(2654),je=de(3821),Qe=de(6454),yt=de(5430),Ee=de(8955),ve=de(8515);function qe(he,Me){return Me?function ye(he,Me){if(null!=he){if(function fe(he){return he&&"function"==typeof he[je.L]}(he))return function nt(he,Me){return new g.y(Ve=>{const rt=new $.w;return rt.add(Me.schedule(()=>{const et=he[je.L]();rt.add(et.subscribe({next(bt){rt.add(Me.schedule(()=>Ve.next(bt)))},error(bt){rt.add(Me.schedule(()=>Ve.error(bt)))},complete(){rt.add(Me.schedule(()=>Ve.complete()))}}))})),rt})}(he,Me);if((0,Ee.t)(he))return function it(he,Me){return new g.y(Ve=>{const rt=new $.w;return rt.add(Me.schedule(()=>he.then(et=>{rt.add(Me.schedule(()=>{Ve.next(et),rt.add(Me.schedule(()=>Ve.complete()))}))},et=>{rt.add(Me.schedule(()=>Ve.error(et)))}))),rt})}(he,Me);if((0,ve.z)(he))return(0,Qe.r)(he,Me);if(function ae(he){return he&&"function"==typeof he[yt.hZ]}(he)||"string"==typeof he)return function ke(he,Me){if(!he)throw new Error("Iterable cannot be null");return new g.y(Ve=>{const rt=new $.w;let et;return rt.add(()=>{et&&"function"==typeof et.return&&et.return()}),rt.add(Me.schedule(()=>{et=he[yt.hZ](),rt.add(Me.schedule(function(){if(Ve.closed)return;let bt,Pe;try{const Ke=et.next();bt=Ke.value,Pe=Ke.done}catch(Ke){return void Ve.error(Ke)}Pe?Ve.complete():(Ve.next(bt),this.schedule())}))})),rt})}(he,Me)}throw new TypeError((null!==he&&typeof he||he)+" is not observable")}(he,Me):he instanceof g.y?he:new g.y((0,Ae.s)(he))}},3009:(Sn,Lt,de)=>{"use strict";de.d(Lt,{n:()=>je});var g=de(2916),Ae=de(3650),$=de(6454);function je(nt,it){return it?(0,$.r)(nt,it):new g.y((0,Ae.V)(nt))}},2198:(Sn,Lt,de)=>{"use strict";de.d(Lt,{h:()=>Ae});var g=de(3489);function Ae(nt,it){return function(yt){return yt.lift(new $(nt,it))}}class ${constructor(it,Qe){this.predicate=it,this.thisArg=Qe}call(it,Qe){return Qe.subscribe(new je(it,this.predicate,this.thisArg))}}class je extends g.L{constructor(it,Qe,yt){super(it),this.predicate=Qe,this.thisArg=yt,this.count=0}_next(it){let Qe;try{Qe=this.predicate.call(this.thisArg,it,this.count++)}catch(yt){return void this.destination.error(yt)}Qe&&this.destination.next(it)}}},4850:(Sn,Lt,de)=>{"use strict";de.d(Lt,{U:()=>Ae});var g=de(3489);function Ae(nt,it){return function(yt){if("function"!=typeof nt)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return yt.lift(new $(nt,it))}}class ${constructor(it,Qe){this.project=it,this.thisArg=Qe}call(it,Qe){return Qe.subscribe(new je(it,this.project,this.thisArg))}}class je extends g.L{constructor(it,Qe,yt){super(it),this.project=Qe,this.count=0,this.thisArg=yt||this}_next(it){let Qe;try{Qe=this.project.call(this.thisArg,it,this.count++)}catch(yt){return void this.destination.error(yt)}this.destination.next(Qe)}}},9146:(Sn,Lt,de)=>{"use strict";de.d(Lt,{J:()=>$});var g=de(1709),Ae=de(5379);function $(je=Number.POSITIVE_INFINITY){return(0,g.zg)(Ae.y,je)}},1709:(Sn,Lt,de)=>{"use strict";de.d(Lt,{zg:()=>je});var g=de(4850),Ae=de(5254),$=de(1177);function je(yt,ke,fe=Number.POSITIVE_INFINITY){return"function"==typeof ke?Ee=>Ee.pipe(je((ve,ae)=>(0,Ae.D)(yt(ve,ae)).pipe((0,g.U)((ye,qe)=>ke(ve,ye,ae,qe))),fe)):("number"==typeof ke&&(fe=ke),Ee=>Ee.lift(new nt(yt,fe)))}class nt{constructor(ke,fe=Number.POSITIVE_INFINITY){this.project=ke,this.concurrent=fe}call(ke,fe){return fe.subscribe(new it(ke,this.project,this.concurrent))}}class it extends $.Ds{constructor(ke,fe,Ee=Number.POSITIVE_INFINITY){super(ke),this.project=fe,this.concurrent=Ee,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ke){this.active<this.concurrent?this._tryNext(ke):this.buffer.push(ke)}_tryNext(ke){let fe;const Ee=this.index++;try{fe=this.project(ke,Ee)}catch(ve){return void this.destination.error(ve)}this.active++,this._innerSub(fe)}_innerSub(ke){const fe=new $.IY(this),Ee=this.destination;Ee.add(fe);const ve=(0,$.ft)(ke,fe);ve!==fe&&Ee.add(ve)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ke){this.destination.next(ke)}notifyComplete(){const ke=this.buffer;this.active--,ke.length>0?this._next(ke.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},4327:(Sn,Lt,de)=>{"use strict";de.d(Lt,{x:()=>Ae});var g=de(3489);function Ae(){return function(it){return it.lift(new $(it))}}class ${constructor(it){this.connectable=it}call(it,Qe){const{connectable:yt}=this;yt._refCount++;const ke=new je(it,yt),fe=Qe.subscribe(ke);return ke.closed||(ke.connection=yt.connect()),fe}}class je extends g.L{constructor(it,Qe){super(it),this.connectable=Qe}_unsubscribe(){const{connectable:it}=this;if(!it)return void(this.connection=null);this.connectable=null;const Qe=it._refCount;if(Qe<=0)return void(this.connection=null);if(it._refCount=Qe-1,Qe>1)return void(this.connection=null);const{connection:yt}=this,ke=it._connection;this.connection=null,ke&&(!yt||ke===yt)&&ke.unsubscribe()}}},7545:(Sn,Lt,de)=>{"use strict";de.d(Lt,{w:()=>je});var g=de(4850),Ae=de(5254),$=de(1177);function je(Qe,yt){return"function"==typeof yt?ke=>ke.pipe(je((fe,Ee)=>(0,Ae.D)(Qe(fe,Ee)).pipe((0,g.U)((ve,ae)=>yt(fe,ve,Ee,ae))))):ke=>ke.lift(new nt(Qe))}class nt{constructor(yt){this.project=yt}call(yt,ke){return ke.subscribe(new it(yt,this.project))}}class it extends $.Ds{constructor(yt,ke){super(yt),this.project=ke,this.index=0}_next(yt){let ke;const fe=this.index++;try{ke=this.project(yt,fe)}catch(Ee){return void this.destination.error(Ee)}this._innerSub(ke)}_innerSub(yt){const ke=this.innerSubscription;ke&&ke.unsubscribe();const fe=new $.IY(this),Ee=this.destination;Ee.add(fe),this.innerSubscription=(0,$.ft)(yt,fe),this.innerSubscription!==fe&&Ee.add(this.innerSubscription)}_complete(){const{innerSubscription:yt}=this;(!yt||yt.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(yt){this.destination.next(yt)}}},6454:(Sn,Lt,de)=>{"use strict";de.d(Lt,{r:()=>$});var g=de(2916),Ae=de(2654);function $(je,nt){return new g.y(it=>{const Qe=new Ae.w;let yt=0;return Qe.add(nt.schedule(function(){yt!==je.length?(it.next(je[yt++]),it.closed||Qe.add(this.schedule())):it.complete()})),Qe})}},5430:(Sn,Lt,de)=>{"use strict";de.d(Lt,{hZ:()=>Ae});const Ae=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(Sn,Lt,de)=>{"use strict";de.d(Lt,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(Sn,Lt,de)=>{"use strict";de.d(Lt,{b:()=>g});const g="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},5279:(Sn,Lt,de)=>{"use strict";de.d(Lt,{N:()=>Ae});const Ae=(()=>{function $(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return $.prototype=Object.create(Error.prototype),$})()},2782:(Sn,Lt,de)=>{"use strict";function g(Ae){setTimeout(()=>{throw Ae},0)}de.d(Lt,{z:()=>g})},5379:(Sn,Lt,de)=>{"use strict";function g(Ae){return Ae}de.d(Lt,{y:()=>g})},6688:(Sn,Lt,de)=>{"use strict";de.d(Lt,{k:()=>g});const g=Array.isArray||(Ae=>Ae&&"number"==typeof Ae.length)},8515:(Sn,Lt,de)=>{"use strict";de.d(Lt,{z:()=>g});const g=Ae=>Ae&&"number"==typeof Ae.length&&"function"!=typeof Ae},7043:(Sn,Lt,de)=>{"use strict";function g(Ae){return"function"==typeof Ae}de.d(Lt,{m:()=>g})},7830:(Sn,Lt,de)=>{"use strict";function g(Ae){return null!==Ae&&"object"==typeof Ae}de.d(Lt,{K:()=>g})},8955:(Sn,Lt,de)=>{"use strict";function g(Ae){return!!Ae&&"function"!=typeof Ae.subscribe&&"function"==typeof Ae.then}de.d(Lt,{t:()=>g})},2866:(Sn,Lt,de)=>{"use strict";function g(Ae){return Ae&&"function"==typeof Ae.schedule}de.d(Lt,{K:()=>g})},9249:(Sn,Lt,de)=>{"use strict";de.d(Lt,{s:()=>Ee});var g=de(3650),Ae=de(2782),je=de(5430),it=de(3821),yt=de(8515),ke=de(8955),fe=de(7830);const Ee=ve=>{if(ve&&"function"==typeof ve[it.L])return(ve=>ae=>{const ye=ve[it.L]();if("function"!=typeof ye.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ye.subscribe(ae)})(ve);if((0,yt.z)(ve))return(0,g.V)(ve);if((0,ke.t)(ve))return(ve=>ae=>(ve.then(ye=>{ae.closed||(ae.next(ye),ae.complete())},ye=>ae.error(ye)).then(null,Ae.z),ae))(ve);if(ve&&"function"==typeof ve[je.hZ])return(ve=>ae=>{const ye=ve[je.hZ]();for(;;){let qe;try{qe=ye.next()}catch(he){return ae.error(he),ae}if(qe.done){ae.complete();break}if(ae.next(qe.value),ae.closed)break}return"function"==typeof ye.return&&ae.add(()=>{ye.return&&ye.return()}),ae})(ve);{const ye=`You provided ${(0,fe.K)(ve)?"an invalid object":`'${ve}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ye)}}},3650:(Sn,Lt,de)=>{"use strict";de.d(Lt,{V:()=>g});const g=Ae=>$=>{for(let je=0,nt=Ae.length;je<nt&&!$.closed;je++)$.next(Ae[je]);$.complete()}},863:(Sn,Lt,de)=>{var g={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,8592,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,8592,5652],"./ion-card_5.entry.js":[388,8592,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,8592,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime_3.entry.js":[4959,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,8592,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,8592,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[3545,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,8592,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[4376,8592,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,8592,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function Ae($){if(!de.o(g,$))return Promise.resolve().then(()=>{var it=new Error("Cannot find module '"+$+"'");throw it.code="MODULE_NOT_FOUND",it});var je=g[$],nt=je[0];return Promise.all(je.slice(1).map(de.e)).then(()=>de(nt))}Ae.keys=()=>Object.keys(g),Ae.id=863,Sn.exports=Ae},655:(Sn,Lt,de)=>{"use strict";de.r(Lt),de.d(Lt,{__extends:()=>Ae,__assign:()=>$,__rest:()=>je,__decorate:()=>nt,__param:()=>it,__metadata:()=>Qe,__awaiter:()=>yt,__generator:()=>ke,__createBinding:()=>fe,__exportStar:()=>Ee,__values:()=>ve,__read:()=>ae,__spread:()=>ye,__spreadArrays:()=>qe,__spreadArray:()=>he,__await:()=>Me,__asyncGenerator:()=>Ve,__asyncDelegator:()=>rt,__asyncValues:()=>et,__makeTemplateObject:()=>bt,__importStar:()=>Ke,__importDefault:()=>Pt,__classPrivateFieldGet:()=>at,__classPrivateFieldSet:()=>Ft});var g=function(We,Ge){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Re,Ie){Re.__proto__=Ie}||function(Re,Ie){for(var Ue in Ie)Object.prototype.hasOwnProperty.call(Ie,Ue)&&(Re[Ue]=Ie[Ue])})(We,Ge)};function Ae(We,Ge){if("function"!=typeof Ge&&null!==Ge)throw new TypeError("Class extends value "+String(Ge)+" is not a constructor or null");function Re(){this.constructor=We}g(We,Ge),We.prototype=null===Ge?Object.create(Ge):(Re.prototype=Ge.prototype,new Re)}var $=function(){return $=Object.assign||function(Ge){for(var Re,Ie=1,Ue=arguments.length;Ie<Ue;Ie++)for(var Ye in Re=arguments[Ie])Object.prototype.hasOwnProperty.call(Re,Ye)&&(Ge[Ye]=Re[Ye]);return Ge},$.apply(this,arguments)};function je(We,Ge){var Re={};for(var Ie in We)Object.prototype.hasOwnProperty.call(We,Ie)&&Ge.indexOf(Ie)<0&&(Re[Ie]=We[Ie]);if(null!=We&&"function"==typeof Object.getOwnPropertySymbols){var Ue=0;for(Ie=Object.getOwnPropertySymbols(We);Ue<Ie.length;Ue++)Ge.indexOf(Ie[Ue])<0&&Object.prototype.propertyIsEnumerable.call(We,Ie[Ue])&&(Re[Ie[Ue]]=We[Ie[Ue]])}return Re}function nt(We,Ge,Re,Ie){var Gt,Ue=arguments.length,Ye=Ue<3?Ge:null===Ie?Ie=Object.getOwnPropertyDescriptor(Ge,Re):Ie;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ye=Reflect.decorate(We,Ge,Re,Ie);else for(var Yt=We.length-1;Yt>=0;Yt--)(Gt=We[Yt])&&(Ye=(Ue<3?Gt(Ye):Ue>3?Gt(Ge,Re,Ye):Gt(Ge,Re))||Ye);return Ue>3&&Ye&&Object.defineProperty(Ge,Re,Ye),Ye}function it(We,Ge){return function(Re,Ie){Ge(Re,Ie,We)}}function Qe(We,Ge){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(We,Ge)}function yt(We,Ge,Re,Ie){return new(Re||(Re=Promise))(function(Ye,Gt){function Yt(ht){try{ot(Ie.next(ht))}catch(st){Gt(st)}}function pt(ht){try{ot(Ie.throw(ht))}catch(st){Gt(st)}}function ot(ht){ht.done?Ye(ht.value):function Ue(Ye){return Ye instanceof Re?Ye:new Re(function(Gt){Gt(Ye)})}(ht.value).then(Yt,pt)}ot((Ie=Ie.apply(We,Ge||[])).next())})}function ke(We,Ge){var Ie,Ue,Ye,Gt,Re={label:0,sent:function(){if(1&Ye[0])throw Ye[1];return Ye[1]},trys:[],ops:[]};return Gt={next:Yt(0),throw:Yt(1),return:Yt(2)},"function"==typeof Symbol&&(Gt[Symbol.iterator]=function(){return this}),Gt;function Yt(ot){return function(ht){return function pt(ot){if(Ie)throw new TypeError("Generator is already executing.");for(;Re;)try{if(Ie=1,Ue&&(Ye=2&ot[0]?Ue.return:ot[0]?Ue.throw||((Ye=Ue.return)&&Ye.call(Ue),0):Ue.next)&&!(Ye=Ye.call(Ue,ot[1])).done)return Ye;switch(Ue=0,Ye&&(ot=[2&ot[0],Ye.value]),ot[0]){case 0:case 1:Ye=ot;break;case 4:return Re.label++,{value:ot[1],done:!1};case 5:Re.label++,Ue=ot[1],ot=[0];continue;case 7:ot=Re.ops.pop(),Re.trys.pop();continue;default:if(!(Ye=(Ye=Re.trys).length>0&&Ye[Ye.length-1])&&(6===ot[0]||2===ot[0])){Re=0;continue}if(3===ot[0]&&(!Ye||ot[1]>Ye[0]&&ot[1]<Ye[3])){Re.label=ot[1];break}if(6===ot[0]&&Re.label<Ye[1]){Re.label=Ye[1],Ye=ot;break}if(Ye&&Re.label<Ye[2]){Re.label=Ye[2],Re.ops.push(ot);break}Ye[2]&&Re.ops.pop(),Re.trys.pop();continue}ot=Ge.call(We,Re)}catch(ht){ot=[6,ht],Ue=0}finally{Ie=Ye=0}if(5&ot[0])throw ot[1];return{value:ot[0]?ot[1]:void 0,done:!0}}([ot,ht])}}}var fe=Object.create?function(We,Ge,Re,Ie){void 0===Ie&&(Ie=Re),Object.defineProperty(We,Ie,{enumerable:!0,get:function(){return Ge[Re]}})}:function(We,Ge,Re,Ie){void 0===Ie&&(Ie=Re),We[Ie]=Ge[Re]};function Ee(We,Ge){for(var Re in We)"default"!==Re&&!Object.prototype.hasOwnProperty.call(Ge,Re)&&fe(Ge,We,Re)}function ve(We){var Ge="function"==typeof Symbol&&Symbol.iterator,Re=Ge&&We[Ge],Ie=0;if(Re)return Re.call(We);if(We&&"number"==typeof We.length)return{next:function(){return We&&Ie>=We.length&&(We=void 0),{value:We&&We[Ie++],done:!We}}};throw new TypeError(Ge?"Object is not iterable.":"Symbol.iterator is not defined.")}function ae(We,Ge){var Re="function"==typeof Symbol&&We[Symbol.iterator];if(!Re)return We;var Ue,Gt,Ie=Re.call(We),Ye=[];try{for(;(void 0===Ge||Ge-- >0)&&!(Ue=Ie.next()).done;)Ye.push(Ue.value)}catch(Yt){Gt={error:Yt}}finally{try{Ue&&!Ue.done&&(Re=Ie.return)&&Re.call(Ie)}finally{if(Gt)throw Gt.error}}return Ye}function ye(){for(var We=[],Ge=0;Ge<arguments.length;Ge++)We=We.concat(ae(arguments[Ge]));return We}function qe(){for(var We=0,Ge=0,Re=arguments.length;Ge<Re;Ge++)We+=arguments[Ge].length;var Ie=Array(We),Ue=0;for(Ge=0;Ge<Re;Ge++)for(var Ye=arguments[Ge],Gt=0,Yt=Ye.length;Gt<Yt;Gt++,Ue++)Ie[Ue]=Ye[Gt];return Ie}function he(We,Ge,Re){if(Re||2===arguments.length)for(var Ye,Ie=0,Ue=Ge.length;Ie<Ue;Ie++)(Ye||!(Ie in Ge))&&(Ye||(Ye=Array.prototype.slice.call(Ge,0,Ie)),Ye[Ie]=Ge[Ie]);return We.concat(Ye||Array.prototype.slice.call(Ge))}function Me(We){return this instanceof Me?(this.v=We,this):new Me(We)}function Ve(We,Ge,Re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,Ie=Re.apply(We,Ge||[]),Ye=[];return Ue={},Gt("next"),Gt("throw"),Gt("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue;function Gt(Je){Ie[Je]&&(Ue[Je]=function(ft){return new Promise(function(vt,Vt){Ye.push([Je,ft,vt,Vt])>1||Yt(Je,ft)})})}function Yt(Je,ft){try{!function pt(Je){Je.value instanceof Me?Promise.resolve(Je.value.v).then(ot,ht):st(Ye[0][2],Je)}(Ie[Je](ft))}catch(vt){st(Ye[0][3],vt)}}function ot(Je){Yt("next",Je)}function ht(Je){Yt("throw",Je)}function st(Je,ft){Je(ft),Ye.shift(),Ye.length&&Yt(Ye[0][0],Ye[0][1])}}function rt(We){var Ge,Re;return Ge={},Ie("next"),Ie("throw",function(Ue){throw Ue}),Ie("return"),Ge[Symbol.iterator]=function(){return this},Ge;function Ie(Ue,Ye){Ge[Ue]=We[Ue]?function(Gt){return(Re=!Re)?{value:Me(We[Ue](Gt)),done:"return"===Ue}:Ye?Ye(Gt):Gt}:Ye}}function et(We){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,Ge=We[Symbol.asyncIterator];return Ge?Ge.call(We):(We=ve(We),Re={},Ie("next"),Ie("throw"),Ie("return"),Re[Symbol.asyncIterator]=function(){return this},Re);function Ie(Ye){Re[Ye]=We[Ye]&&function(Gt){return new Promise(function(Yt,pt){!function Ue(Ye,Gt,Yt,pt){Promise.resolve(pt).then(function(ot){Ye({value:ot,done:Yt})},Gt)}(Yt,pt,(Gt=We[Ye](Gt)).done,Gt.value)})}}}function bt(We,Ge){return Object.defineProperty?Object.defineProperty(We,"raw",{value:Ge}):We.raw=Ge,We}var Pe=Object.create?function(We,Ge){Object.defineProperty(We,"default",{enumerable:!0,value:Ge})}:function(We,Ge){We.default=Ge};function Ke(We){if(We&&We.__esModule)return We;var Ge={};if(null!=We)for(var Re in We)"default"!==Re&&Object.prototype.hasOwnProperty.call(We,Re)&&fe(Ge,We,Re);return Pe(Ge,We),Ge}function Pt(We){return We&&We.__esModule?We:{default:We}}function at(We,Ge,Re,Ie){if("a"===Re&&!Ie)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof Ge?We!==Ge||!Ie:!Ge.has(We))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===Re?Ie:"a"===Re?Ie.call(We):Ie?Ie.value:Ge.get(We)}function Ft(We,Ge,Re,Ie,Ue){if("m"===Ie)throw new TypeError("Private method is not writable");if("a"===Ie&&!Ue)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof Ge?We!==Ge||!Ue:!Ge.has(We))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===Ie?Ue.call(We,Re):Ue?Ue.value=Re:Ge.set(We,Re),Re}},9808:(Sn,Lt,de)=>{"use strict";de.d(Lt,{mr:()=>rt,ez:()=>ks,K0:()=>Qe,Do:()=>bt,V_:()=>fe,Ye:()=>Pe,S$:()=>Me,mk:()=>xi,sg:()=>$t,O5:()=>X,PC:()=>tn,tP:()=>wn,b0:()=>et,lw:()=>yt,EM:()=>pa,JF:()=>ci,w_:()=>it,bD:()=>ms,q:()=>$,Mx:()=>ni,HT:()=>nt});var g=de(2096);let Ae=null;function $(){return Ae}function nt(j){Ae||(Ae=j)}class it{}const Qe=new g.OlP("DocumentToken");let yt=(()=>{class j{historyGo(q){throw new Error("Not implemented")}}return j.\u0275fac=function(q){return new(q||j)},j.\u0275prov=g.Yz7({token:j,factory:function(){return function ke(){return(0,g.LFG)(Ee)}()},providedIn:"platform"}),j})();const fe=new g.OlP("Location Initialized");let Ee=(()=>{class j extends yt{constructor(q){super(),this._doc=q,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $().getBaseHref(this._doc)}onPopState(q){const se=$().getGlobalEventTarget(this._doc,"window");return se.addEventListener("popstate",q,!1),()=>se.removeEventListener("popstate",q)}onHashChange(q){const se=$().getGlobalEventTarget(this._doc,"window");return se.addEventListener("hashchange",q,!1),()=>se.removeEventListener("hashchange",q)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(q){this.location.pathname=q}pushState(q,se,Fe){ve()?this._history.pushState(q,se,Fe):this.location.hash=Fe}replaceState(q,se,Fe){ve()?this._history.replaceState(q,se,Fe):this.location.hash=Fe}forward(){this._history.forward()}back(){this._history.back()}historyGo(q=0){this._history.go(q)}getState(){return this._history.state}}return j.\u0275fac=function(q){return new(q||j)(g.LFG(Qe))},j.\u0275prov=g.Yz7({token:j,factory:function(){return function ae(){return new Ee((0,g.LFG)(Qe))}()},providedIn:"platform"}),j})();function ve(){return!!window.history.pushState}function ye(j,J){if(0==j.length)return J;if(0==J.length)return j;let q=0;return j.endsWith("/")&&q++,J.startsWith("/")&&q++,2==q?j+J.substring(1):1==q?j+J:j+"/"+J}function qe(j){const J=j.match(/#|\?|$/),q=J&&J.index||j.length;return j.slice(0,q-("/"===j[q-1]?1:0))+j.slice(q)}function he(j){return j&&"?"!==j[0]?"?"+j:j}let Me=(()=>{class j{historyGo(q){throw new Error("Not implemented")}}return j.\u0275fac=function(q){return new(q||j)},j.\u0275prov=g.Yz7({token:j,factory:function(){return function Ve(j){const J=(0,g.LFG)(Qe).location;return new et((0,g.LFG)(yt),J&&J.origin||"")}()},providedIn:"root"}),j})();const rt=new g.OlP("appBaseHref");let et=(()=>{class j extends Me{constructor(q,se){if(super(),this._platformLocation=q,this._removeListenerFns=[],null==se&&(se=this._platformLocation.getBaseHrefFromDOM()),null==se)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=se}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(q){this._removeListenerFns.push(this._platformLocation.onPopState(q),this._platformLocation.onHashChange(q))}getBaseHref(){return this._baseHref}prepareExternalUrl(q){return ye(this._baseHref,q)}path(q=!1){const se=this._platformLocation.pathname+he(this._platformLocation.search),Fe=this._platformLocation.hash;return Fe&&q?`${se}${Fe}`:se}pushState(q,se,Fe,_t){const jt=this.prepareExternalUrl(Fe+he(_t));this._platformLocation.pushState(q,se,jt)}replaceState(q,se,Fe,_t){const jt=this.prepareExternalUrl(Fe+he(_t));this._platformLocation.replaceState(q,se,jt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(q=0){var se,Fe;null===(Fe=(se=this._platformLocation).historyGo)||void 0===Fe||Fe.call(se,q)}}return j.\u0275fac=function(q){return new(q||j)(g.LFG(yt),g.LFG(rt,8))},j.\u0275prov=g.Yz7({token:j,factory:j.\u0275fac}),j})(),bt=(()=>{class j extends Me{constructor(q,se){super(),this._platformLocation=q,this._baseHref="",this._removeListenerFns=[],null!=se&&(this._baseHref=se)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(q){this._removeListenerFns.push(this._platformLocation.onPopState(q),this._platformLocation.onHashChange(q))}getBaseHref(){return this._baseHref}path(q=!1){let se=this._platformLocation.hash;return null==se&&(se="#"),se.length>0?se.substring(1):se}prepareExternalUrl(q){const se=ye(this._baseHref,q);return se.length>0?"#"+se:se}pushState(q,se,Fe,_t){let jt=this.prepareExternalUrl(Fe+he(_t));0==jt.length&&(jt=this._platformLocation.pathname),this._platformLocation.pushState(q,se,jt)}replaceState(q,se,Fe,_t){let jt=this.prepareExternalUrl(Fe+he(_t));0==jt.length&&(jt=this._platformLocation.pathname),this._platformLocation.replaceState(q,se,jt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(q=0){var se,Fe;null===(Fe=(se=this._platformLocation).historyGo)||void 0===Fe||Fe.call(se,q)}}return j.\u0275fac=function(q){return new(q||j)(g.LFG(yt),g.LFG(rt,8))},j.\u0275prov=g.Yz7({token:j,factory:j.\u0275fac}),j})(),Pe=(()=>{class j{constructor(q,se){this._subject=new g.vpe,this._urlChangeListeners=[],this._platformStrategy=q;const Fe=this._platformStrategy.getBaseHref();this._platformLocation=se,this._baseHref=qe(at(Fe)),this._platformStrategy.onPopState(_t=>{this._subject.emit({url:this.path(!0),pop:!0,state:_t.state,type:_t.type})})}path(q=!1){return this.normalize(this._platformStrategy.path(q))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(q,se=""){return this.path()==this.normalize(q+he(se))}normalize(q){return j.stripTrailingSlash(function Pt(j,J){return j&&J.startsWith(j)?J.substring(j.length):J}(this._baseHref,at(q)))}prepareExternalUrl(q){return q&&"/"!==q[0]&&(q="/"+q),this._platformStrategy.prepareExternalUrl(q)}go(q,se="",Fe=null){this._platformStrategy.pushState(Fe,"",q,se),this._notifyUrlChangeListeners(this.prepareExternalUrl(q+he(se)),Fe)}replaceState(q,se="",Fe=null){this._platformStrategy.replaceState(Fe,"",q,se),this._notifyUrlChangeListeners(this.prepareExternalUrl(q+he(se)),Fe)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(q=0){var se,Fe;null===(Fe=(se=this._platformStrategy).historyGo)||void 0===Fe||Fe.call(se,q)}onUrlChange(q){this._urlChangeListeners.push(q),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(se=>{this._notifyUrlChangeListeners(se.url,se.state)}))}_notifyUrlChangeListeners(q="",se){this._urlChangeListeners.forEach(Fe=>Fe(q,se))}subscribe(q,se,Fe){return this._subject.subscribe({next:q,error:se,complete:Fe})}}return j.normalizeQueryParams=he,j.joinWithSlash=ye,j.stripTrailingSlash=qe,j.\u0275fac=function(q){return new(q||j)(g.LFG(Me),g.LFG(yt))},j.\u0275prov=g.Yz7({token:j,factory:function(){return function Ke(){return new Pe((0,g.LFG)(Me),(0,g.LFG)(yt))}()},providedIn:"root"}),j})();function at(j){return j.replace(/\/index.html$/,"")}function ni(j,J){J=encodeURIComponent(J);for(const q of j.split(";")){const se=q.indexOf("="),[Fe,_t]=-1==se?[q,""]:[q.slice(0,se),q.slice(se+1)];if(Fe.trim()===J)return decodeURIComponent(_t)}return null}let xi=(()=>{class j{constructor(q,se,Fe,_t){this._iterableDiffers=q,this._keyValueDiffers=se,this._ngEl=Fe,this._renderer=_t,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(q){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof q?q.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(q){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof q?q.split(/\s+/):q,this._rawClass&&((0,g.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const q=this._iterableDiffer.diff(this._rawClass);q&&this._applyIterableChanges(q)}else if(this._keyValueDiffer){const q=this._keyValueDiffer.diff(this._rawClass);q&&this._applyKeyValueChanges(q)}}_applyKeyValueChanges(q){q.forEachAddedItem(se=>this._toggleClass(se.key,se.currentValue)),q.forEachChangedItem(se=>this._toggleClass(se.key,se.currentValue)),q.forEachRemovedItem(se=>{se.previousValue&&this._toggleClass(se.key,!1)})}_applyIterableChanges(q){q.forEachAddedItem(se=>{if("string"!=typeof se.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,g.AaK)(se.item)}`);this._toggleClass(se.item,!0)}),q.forEachRemovedItem(se=>this._toggleClass(se.item,!1))}_applyClasses(q){q&&(Array.isArray(q)||q instanceof Set?q.forEach(se=>this._toggleClass(se,!0)):Object.keys(q).forEach(se=>this._toggleClass(se,!!q[se])))}_removeClasses(q){q&&(Array.isArray(q)||q instanceof Set?q.forEach(se=>this._toggleClass(se,!1)):Object.keys(q).forEach(se=>this._toggleClass(se,!1)))}_toggleClass(q,se){(q=q.trim())&&q.split(/\s+/g).forEach(Fe=>{se?this._renderer.addClass(this._ngEl.nativeElement,Fe):this._renderer.removeClass(this._ngEl.nativeElement,Fe)})}}return j.\u0275fac=function(q){return new(q||j)(g.Y36(g.ZZ4),g.Y36(g.aQg),g.Y36(g.SBq),g.Y36(g.Qsj))},j.\u0275dir=g.lG2({type:j,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),j})();class Fn{constructor(J,q,se,Fe){this.$implicit=J,this.ngForOf=q,this.index=se,this.count=Fe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $t=(()=>{class j{constructor(q,se,Fe){this._viewContainer=q,this._template=se,this._differs=Fe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(q){this._ngForOf=q,this._ngForOfDirty=!0}set ngForTrackBy(q){this._trackByFn=q}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(q){q&&(this._template=q)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const q=this._ngForOf;!this._differ&&q&&(this._differ=this._differs.find(q).create(this.ngForTrackBy))}if(this._differ){const q=this._differ.diff(this._ngForOf);q&&this._applyChanges(q)}}_applyChanges(q){const se=this._viewContainer;q.forEachOperation((Fe,_t,jt)=>{if(null==Fe.previousIndex)se.createEmbeddedView(this._template,new Fn(Fe.item,this._ngForOf,-1,-1),null===jt?void 0:jt);else if(null==jt)se.remove(null===_t?void 0:_t);else if(null!==_t){const en=se.get(_t);se.move(en,jt),Rn(en,Fe)}});for(let Fe=0,_t=se.length;Fe<_t;Fe++){const en=se.get(Fe).context;en.index=Fe,en.count=_t,en.ngForOf=this._ngForOf}q.forEachIdentityChange(Fe=>{Rn(se.get(Fe.currentIndex),Fe)})}static ngTemplateContextGuard(q,se){return!0}}return j.\u0275fac=function(q){return new(q||j)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},j.\u0275dir=g.lG2({type:j,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),j})();function Rn(j,J){j.context.$implicit=J.item}let X=(()=>{class j{constructor(q,se){this._viewContainer=q,this._context=new me,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=se}set ngIf(q){this._context.$implicit=this._context.ngIf=q,this._updateView()}set ngIfThen(q){ie("ngIfThen",q),this._thenTemplateRef=q,this._thenViewRef=null,this._updateView()}set ngIfElse(q){ie("ngIfElse",q),this._elseTemplateRef=q,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(q,se){return!0}}return j.\u0275fac=function(q){return new(q||j)(g.Y36(g.s_b),g.Y36(g.Rgc))},j.\u0275dir=g.lG2({type:j,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),j})();class me{constructor(){this.$implicit=null,this.ngIf=null}}function ie(j,J){if(J&&!J.createEmbeddedView)throw new Error(`${j} must be a TemplateRef, but received '${(0,g.AaK)(J)}'.`)}let tn=(()=>{class j{constructor(q,se,Fe){this._ngEl=q,this._differs=se,this._renderer=Fe,this._ngStyle=null,this._differ=null}set ngStyle(q){this._ngStyle=q,!this._differ&&q&&(this._differ=this._differs.find(q).create())}ngDoCheck(){if(this._differ){const q=this._differ.diff(this._ngStyle);q&&this._applyChanges(q)}}_setStyle(q,se){const[Fe,_t]=q.split(".");null!=(se=null!=se&&_t?`${se}${_t}`:se)?this._renderer.setStyle(this._ngEl.nativeElement,Fe,se):this._renderer.removeStyle(this._ngEl.nativeElement,Fe)}_applyChanges(q){q.forEachRemovedItem(se=>this._setStyle(se.key,null)),q.forEachAddedItem(se=>this._setStyle(se.key,se.currentValue)),q.forEachChangedItem(se=>this._setStyle(se.key,se.currentValue))}}return j.\u0275fac=function(q){return new(q||j)(g.Y36(g.SBq),g.Y36(g.aQg),g.Y36(g.Qsj))},j.\u0275dir=g.lG2({type:j,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),j})(),wn=(()=>{class j{constructor(q){this._viewContainerRef=q,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(q){if(q.ngTemplateOutlet){const se=this._viewContainerRef;this._viewRef&&se.remove(se.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?se.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&q.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return j.\u0275fac=function(q){return new(q||j)(g.Y36(g.s_b))},j.\u0275dir=g.lG2({type:j,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[g.TTD]}),j})(),ks=(()=>{class j{}return j.\u0275fac=function(q){return new(q||j)},j.\u0275mod=g.oAB({type:j}),j.\u0275inj=g.cJS({}),j})();const ms="browser";let pa=(()=>{class j{}return j.\u0275prov=(0,g.Yz7)({token:j,providedIn:"root",factory:()=>new Jo((0,g.LFG)(Qe),window)}),j})();class Jo{constructor(J,q){this.document=J,this.window=q,this.offset=()=>[0,0]}setOffset(J){this.offset=Array.isArray(J)?()=>J:J}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(J){this.supportsScrolling()&&this.window.scrollTo(J[0],J[1])}scrollToAnchor(J){if(!this.supportsScrolling())return;const q=function Mi(j,J){const q=j.getElementById(J)||j.getElementsByName(J)[0];if(q)return q;if("function"==typeof j.createTreeWalker&&j.body&&(j.body.createShadowRoot||j.body.attachShadow)){const se=j.createTreeWalker(j.body,NodeFilter.SHOW_ELEMENT);let Fe=se.currentNode;for(;Fe;){const _t=Fe.shadowRoot;if(_t){const jt=_t.getElementById(J)||_t.querySelector(`[name="${J}"]`);if(jt)return jt}Fe=se.nextNode()}}return null}(this.document,J);q&&(this.scrollToElement(q),q.focus())}setHistoryScrollRestoration(J){if(this.supportScrollRestoration()){const q=this.window.history;q&&q.scrollRestoration&&(q.scrollRestoration=J)}}scrollToElement(J){const q=J.getBoundingClientRect(),se=q.left+this.window.pageXOffset,Fe=q.top+this.window.pageYOffset,_t=this.offset();this.window.scrollTo(se-_t[0],Fe-_t[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const J=qi(this.window.history)||qi(Object.getPrototypeOf(this.window.history));return!(!J||!J.writable&&!J.set)}catch(J){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(J){return!1}}}function qi(j){return Object.getOwnPropertyDescriptor(j,"scrollRestoration")}class ci{}},2096:(Sn,Lt,de)=>{"use strict";de.d(Lt,{deG:()=>Ce,tb:()=>_C,AFp:()=>gC,ip1:()=>pC,CZH:()=>s0,hGG:()=>LC,z2F:()=>h0,sBO:()=>fs,Sil:()=>fS,_Vd:()=>Hm,EJc:()=>c0,SBq:()=>fh,qLn:()=>Rd,vpe:()=>oc,tBr:()=>Wu,XFs:()=>gn,OlP:()=>ee,zs3:()=>wa,ZZ4:()=>av,aQg:()=>FC,soG:()=>Qm,YKP:()=>qm,h0i:()=>Qf,PXZ:()=>yS,R0b:()=>aa,FiY:()=>ws,Lbi:()=>yC,g9A:()=>vC,Qsj:()=>xE,FYo:()=>P_,JOm:()=>_a,tp0:()=>Ba,Rgc:()=>Wl,dDg:()=>DC,GfV:()=>kE,s_b:()=>Wm,ifc:()=>Yr,eFA:()=>SC,G48:()=>CS,Gpc:()=>rt,_c5:()=>NS,VLi:()=>nv,c2e:()=>u0,zSh:()=>Ny,wAp:()=>Jn,vHH:()=>Ke,cg1:()=>Mm,kL8:()=>b_,dqk:()=>ce,sIi:()=>Ll,CqO:()=>r_,QGY:()=>nc,F4k:()=>jl,RDi:()=>Fe,AaK:()=>he,qOj:()=>rm,TTD:()=>Do,_Bn:()=>AE,xp6:()=>Lg,uIk:()=>sm,ekj:()=>wm,Suo:()=>Ym,Xpm:()=>vi,lG2:()=>Eo,Yz7:()=>nr,cJS:()=>_n,oAB:()=>hr,Yjl:()=>Wo,Y36:()=>za,_UZ:()=>hm,GkF:()=>n_,qZA:()=>yp,TgZ:()=>vp,EpF:()=>Cw,n5z:()=>Dc,LFG:()=>Ei,$8M:()=>$u,$Z:()=>bw,NdJ:()=>pm,CRH:()=>ZE,oxw:()=>o_,Hsn:()=>vm,F$t:()=>Tw,Q6J:()=>t_,s9C:()=>eh,VKq:()=>FE,iGM:()=>JE,CHM:()=>Gr,LSH:()=>Dl,YNc:()=>xo,_uU:()=>Im,hij:()=>sh,Gf:()=>W_});var g=de(2916),Ae=de(2866),$=de(9146),je=de(3009),it=de(5529),Qe=de(2654),yt=de(1762);class fe{constructor(o,a){this.subjectFactory=o,this.selector=a}call(o,a){const{selector:d}=this,m=this.subjectFactory(),b=d(m).subscribe(o);return b.add(a.subscribe(m)),b}}var Ee=de(4327);function ve(){return new it.xQ}function ye(i){for(let o in i)if(i[o]===ye)return o;throw Error("Could not find renamed property on target object.")}function qe(i,o){for(const a in o)o.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=o[a])}function he(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(he).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function Me(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const Ve=ye({__forward_ref__:ye});function rt(i){return i.__forward_ref__=rt,i.toString=function(){return he(this())},i}function et(i){return bt(i)?i():i}function bt(i){return"function"==typeof i&&i.hasOwnProperty(Ve)&&i.__forward_ref__===rt}class Ke extends Error{constructor(o,a){super(function Pt(i,o){return`NG0${Math.abs(i)}${o?": "+o:""}`}(o,a)),this.code=o}}function at(i){return"string"==typeof i?i:null==i?"":String(i)}function Ft(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():at(i)}function Ie(i,o){const a=o?` in ${o}`:"";throw new Ke(-201,`No provider for ${Ft(i)} found${a}`)}function mn(i,o){null==i&&function Zt(i,o,a,d){throw new Error(`ASSERTION ERROR: ${i}`+(null==d?"":` [Expected=> ${a} ${d} ${o} <=Actual]`))}(o,i,null,"!=")}function nr(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function _n(i){return{providers:i.providers||[],imports:i.imports||[]}}function rr(i){return Kn(i,Hr)||Kn(i,Ci)}function Kn(i,o){return i.hasOwnProperty(o)?i[o]:null}function or(i){return i&&(i.hasOwnProperty(gi)||i.hasOwnProperty(mi))?i[gi]:null}const Hr=ye({\u0275prov:ye}),gi=ye({\u0275inj:ye}),Ci=ye({ngInjectableDef:ye}),mi=ye({ngInjectorDef:ye});var gn=(()=>((gn=gn||{})[gn.Default=0]="Default",gn[gn.Host=1]="Host",gn[gn.Self=2]="Self",gn[gn.SkipSelf=4]="SkipSelf",gn[gn.Optional=8]="Optional",gn))();let An;function wt(i){const o=An;return An=i,o}function Mn(i,o,a){const d=rr(i);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:a&gn.Optional?null:void 0!==o?o:void Ie(he(i),"Injector")}function Zr(i){return{toString:i}.toString()}var ur=(()=>((ur=ur||{})[ur.OnPush=0]="OnPush",ur[ur.Default=1]="Default",ur))(),Yr=(()=>{return(i=Yr||(Yr={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Yr;var i})();const Sr="undefined"!=typeof globalThis&&globalThis,xe="undefined"!=typeof window&&window,De="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ce=Sr||"undefined"!=typeof global&&global||xe||De,ct={},Et=[],Bt=ye({\u0275cmp:ye}),sn=ye({\u0275dir:ye}),kn=ye({\u0275pipe:ye}),Xn=ye({\u0275mod:ye}),jn=ye({\u0275fac:ye}),Ar=ye({__NG_ELEMENT_ID__:ye});let ai=0;function vi(i){return Zr(()=>{const a={},d={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===ur.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||Et,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Yr.Emulated,id:"c",styles:i.styles||Et,_:null,setInput:null,schemas:i.schemas||null,tView:null},m=i.directives,b=i.features,S=i.pipes;return d.id+=ai++,d.inputs=oo(i.inputs,a),d.outputs=oo(i.outputs),b&&b.forEach(R=>R(d)),d.directiveDefs=m?()=>("function"==typeof m?m():m).map(Ii):null,d.pipeDefs=S?()=>("function"==typeof S?S():S).map(V):null,d})}function Ii(i){return qt(i)||function Nr(i){return i[sn]||null}(i)}function V(i){return function vn(i){return i[kn]||null}(i)}const un={};function hr(i){return Zr(()=>{const o={type:i.type,bootstrap:i.bootstrap||Et,declarations:i.declarations||Et,imports:i.imports||Et,exports:i.exports||Et,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(un[i.id]=i.type),o})}function oo(i,o){if(null==i)return ct;const a={};for(const d in i)if(i.hasOwnProperty(d)){let m=i[d],b=m;Array.isArray(m)&&(b=m[1],m=m[0]),a[m]=d,o&&(o[m]=b)}return a}const Eo=vi;function Wo(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function qt(i){return i[Bt]||null}function Mr(i,o){const a=i[Xn]||null;if(!a&&!0===o)throw new Error(`Type ${he(i)} does not have '\u0275mod' property.`);return a}const X=11;function Ln(i){return Array.isArray(i)&&"object"==typeof i[1]}function qn(i){return Array.isArray(i)&&!0===i[1]}function ri(i){return 0!=(8&i.flags)}function Jr(i){return 2==(2&i.flags)}function ki(i){return 1==(1&i.flags)}function qr(i){return null!==i.template}function ca(i){return 0!=(512&i[2])}function Vi(i,o){return i.hasOwnProperty(jn)?i[jn]:null}class Qo{constructor(o,a,d){this.previousValue=o,this.currentValue=a,this.firstChange=d}isFirstChange(){return this.firstChange}}function Do(){return ha}function ha(i){return i.type.prototype.ngOnChanges&&(i.setInput=mo),Os}function Os(){const i=pr(this),o=null==i?void 0:i.current;if(o){const a=i.previous;if(a===ct)i.previous=o;else for(let d in o)a[d]=o[d];i.current=null,this.ngOnChanges(o)}}function mo(i,o,a,d){const m=pr(i)||function pa(i,o){return i[To]=o}(i,{previous:ct,current:null}),b=m.current||(m.current={}),S=m.previous,R=this.declaredInputs[a],N=S[R];b[R]=new Qo(N&&N.currentValue,o,S===ct),i[d]=o}Do.ngInherit=!0;const To="__ngSimpleChanges__";function pr(i){return i[To]||null}const j="math";let se;function Fe(i){se=i}function en(i){return!!i.listen}const Rr={createRenderer:(i,o)=>function _t(){return void 0!==se?se:"undefined"!=typeof document?document:void 0}()};function Hn(i){for(;Array.isArray(i);)i=i[0];return i}function gr(i,o){return Hn(o[i])}function Pr(i,o){return Hn(o[i.index])}function vo(i,o){return i.data[o]}function Fr(i,o){const a=o[i];return Ln(a)?a:a[0]}function z(i){return 4==(4&i[2])}function L(i){return 128==(128&i[2])}function ne(i,o){return null==o?null:i[o]}function Rt(i){i[18]=0}function En(i,o){i[5]+=o;let a=i,d=i[3];for(;null!==d&&(1===o&&1===a[5]||-1===o&&0===a[5]);)d[5]+=o,a=d,d=d[3]}const dn={lFrame:Fu(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function oe(){return dn.bindingsEnabled}function dt(){return dn.lFrame.lView}function Jt(){return dn.lFrame.tView}function Gr(i){return dn.lFrame.contextLView=i,i[8]}function cr(){let i=ei();for(;null!==i&&64===i.type;)i=i.parent;return i}function ei(){return dn.lFrame.currentTNode}function bi(i,o){const a=dn.lFrame;a.currentTNode=i,a.isParent=o}function Bo(){return dn.lFrame.isParent}function uo(){dn.lFrame.isParent=!1}function iu(){return dn.isInCheckNoChangesMode}function Ru(i){dn.isInCheckNoChangesMode=i}function Ma(){return dn.lFrame.bindingIndex++}function ku(i,o){const a=dn.lFrame;a.bindingIndex=a.bindingRootIndex=i,Ou(o)}function Ou(i){dn.lFrame.currentDirectiveIndex=i}function Nu(){return dn.lFrame.currentQueryIndex}function Ra(i){dn.lFrame.currentQueryIndex=i}function xa(i){const o=i[1];return 2===o.type?o.declTNode:1===o.type?i[6]:null}function Pu(i,o,a){if(a&gn.SkipSelf){let m=o,b=i;for(;!(m=m.parent,null!==m||a&gn.Host||(m=xa(b),null===m||(b=b[15],10&m.type))););if(null===m)return!1;o=m,i=b}const d=dn.lFrame=ou();return d.currentTNode=o,d.lView=i,!0}function Uo(i){const o=ou(),a=i[1];dn.lFrame=o,o.currentTNode=a.firstChild,o.lView=i,o.tView=a,o.contextLView=i,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function ou(){const i=dn.lFrame,o=null===i?null:i.child;return null===o?Fu(i):o}function Fu(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function hc(){const i=dn.lFrame;return dn.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const zs=hc;function vs(){const i=hc();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function ii(){return dn.lFrame.selectedIndex}function Oi(i){dn.lFrame.selectedIndex=i}function xr(){const i=dn.lFrame;return vo(i.tView,i.selectedIndex)}function gc(i,o){for(let a=o.directiveStart,d=o.directiveEnd;a<d;a++){const b=i.data[a].type.prototype,{ngAfterContentInit:S,ngAfterContentChecked:R,ngAfterViewInit:N,ngAfterViewChecked:K,ngOnDestroy:Z}=b;S&&(i.contentHooks||(i.contentHooks=[])).push(-a,S),R&&((i.contentHooks||(i.contentHooks=[])).push(a,R),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,R)),N&&(i.viewHooks||(i.viewHooks=[])).push(-a,N),K&&((i.viewHooks||(i.viewHooks=[])).push(a,K),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,K)),null!=Z&&(i.destroyHooks||(i.destroyHooks=[])).push(a,Z)}}function Ws(i,o,a){of(i,o,3,a)}function Ys(i,o,a,d){(3&i[2])===a&&of(i,o,a,d)}function Ns(i,o){let a=i[2];(3&a)===o&&(a&=2047,a+=1,i[2]=a)}function of(i,o,a,d){const b=null!=d?d:-1,S=o.length-1;let R=0;for(let N=void 0!==d?65535&i[18]:0;N<S;N++)if("number"==typeof o[N+1]){if(R=o[N],null!=d&&R>=d)break}else o[N]<0&&(i[18]+=65536),(R<b||-1==b)&&(cd(i,a,o,N),i[18]=(4294901760&i[18])+N+2),N++}function cd(i,o,a,d){const m=a[d]<0,b=a[d+1],R=i[m?-a[d]:a[d]];if(m){if(i[2]>>11<i[18]>>16&&(3&i[2])===o){i[2]+=2048;try{b.call(R)}finally{}}}else try{b.call(R)}finally{}}class mc{constructor(o,a,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=d}}function vc(i,o,a){const d=en(i);let m=0;for(;m<a.length;){const b=a[m];if("number"==typeof b){if(0!==b)break;m++;const S=a[m++],R=a[m++],N=a[m++];d?i.setAttribute(o,R,N,S):o.setAttributeNS(S,R,N)}else{const S=b,R=a[++m];cl(S)?d&&i.setProperty(o,S,R):d?i.setAttribute(o,S,R):o.setAttribute(S,R),m++}}return m}function dd(i){return 3===i||4===i||6===i}function cl(i){return 64===i.charCodeAt(0)}function au(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let a=-1;for(let d=0;d<o.length;d++){const m=o[d];"number"==typeof m?a=m:0===a||yc(i,a,m,null,-1===a||2===a?o[++d]:null)}}return i}function yc(i,o,a,d,m){let b=0,S=i.length;if(-1===o)S=-1;else for(;b<i.length;){const R=i[b++];if("number"==typeof R){if(R===o){S=-1;break}if(R>o){S=b-1;break}}}for(;b<i.length;){const R=i[b];if("number"==typeof R)break;if(R===a){if(null===d)return void(null!==m&&(i[b+1]=m));if(d===i[b+1])return void(i[b+2]=m)}b++,null!==d&&b++,null!==m&&b++}-1!==S&&(i.splice(S,0,o),b=S+1),i.splice(b++,0,a),null!==d&&i.splice(b++,0,d),null!==m&&i.splice(b++,0,m)}function _c(i){return-1!==i}function Ps(i){return 32767&i}function Ni(i,o){let a=function sf(i){return i>>16}(i),d=o;for(;a>0;)d=d[15],a--;return d}let bc=!0;function Na(i){const o=bc;return bc=i,o}let Vu=0;function va(i,o){const a=Ec(i,o);if(-1!==a)return a;const d=o[1];d.firstCreatePass&&(i.injectorIndex=o.length,Uu(d.data,i),Uu(o,null),Uu(d.blueprint,null));const m=Ks(i,o),b=i.injectorIndex;if(_c(m)){const S=Ps(m),R=Ni(m,o),N=R[1].data;for(let K=0;K<8;K++)o[b+K]=R[S+K]|N[S+K]}return o[b+8]=m,b}function Uu(i,o){i.push(0,0,0,0,0,0,0,0,o)}function Ec(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function Ks(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,d=null,m=o;for(;null!==m;){const b=m[1],S=b.type;if(d=2===S?b.declTNode:1===S?m[6]:null,null===d)return-1;if(a++,m=m[15],-1!==d.injectorIndex)return d.injectorIndex|a<<16}return-1}function rs(i,o,a){!function wc(i,o,a){let d;"string"==typeof a?d=a.charCodeAt(0)||0:a.hasOwnProperty(Ar)&&(d=a[Ar]),null==d&&(d=a[Ar]=Vu++);const m=255&d;o.data[i+(m>>5)]|=1<<m}(i,o,a)}function ti(i,o,a){if(a&gn.Optional)return i;Ie(o,"NodeInjector")}function fl(i,o,a,d){if(a&gn.Optional&&void 0===d&&(d=null),0==(a&(gn.Self|gn.Host))){const m=i[9],b=wt(void 0);try{return m?m.get(o,d,a&gn.Optional):Mn(o,d,a&gn.Optional)}finally{wt(b)}}return ti(d,o,a)}function uf(i,o,a,d=gn.Default,m){if(null!==i){const b=function cf(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(Ar)?i[Ar]:void 0;return"number"==typeof o?o>=0?255&o:Ah:o}(a);if("function"==typeof b){if(!Pu(o,i,d))return d&gn.Host?ti(m,a,d):fl(o,a,d,m);try{const S=b(d);if(null!=S||d&gn.Optional)return S;Ie(a)}finally{zs()}}else if("number"==typeof b){let S=null,R=Ec(i,o),N=-1,K=d&gn.Host?o[16][6]:null;for((-1===R||d&gn.SkipSelf)&&(N=-1===R?Ks(i,o):o[R+8],-1!==N&&lf(d,!1)?(S=o[1],R=Ps(N),o=Ni(N,o)):R=-1);-1!==R;){const Z=o[1];if(Ic(b,R,Z.data)){const _e=Mh(R,o,a,S,d,K);if(_e!==dl)return _e}N=o[R+8],-1!==N&&lf(d,o[1].data[R+8]===K)&&Ic(b,R,o)?(S=Z,R=Ps(N),o=Ni(N,o)):R=-1}}}return fl(o,a,d,m)}const dl={};function Ah(){return new Ao(cr(),dt())}function Mh(i,o,a,d,m,b){const S=o[1],R=S.data[i+8],Z=Cc(R,S,a,null==d?Jr(R)&&bc:d!=S&&0!=(3&R.type),m&gn.Host&&b===R);return null!==Z?ju(o,S,Z,R):dl}function Cc(i,o,a,d,m){const b=i.providerIndexes,S=o.data,R=1048575&b,N=i.directiveStart,Z=b>>20,Be=m?R+Z:i.directiveEnd;for(let lt=d?R:R+Z;lt<Be;lt++){const Ot=S[lt];if(lt<N&&a===Ot||lt>=N&&Ot.type===a)return lt}if(m){const lt=S[N];if(lt&&qr(lt)&&lt.type===a)return N}return null}function ju(i,o,a,d){let m=i[a];const b=o.data;if(function Th(i){return i instanceof mc}(m)){const S=m;S.resolving&&function We(i,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new Ke(-200,`Circular dependency in DI detected for ${i}${a}`)}(Ft(b[a]));const R=Na(S.canSeeViewProviders);S.resolving=!0;const N=S.injectImpl?wt(S.injectImpl):null;Pu(i,d,gn.Default);try{m=i[a]=S.factory(void 0,b,i,d),o.firstCreatePass&&a>=d.directiveStart&&function ys(i,o,a){const{ngOnChanges:d,ngOnInit:m,ngDoCheck:b}=o.type.prototype;if(d){const S=ha(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,S),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,S)}m&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,m),b&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,b),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,b))}(a,b[a],o)}finally{null!==N&&wt(N),Na(R),S.resolving=!1,zs()}}return m}function Ic(i,o,a){return!!(a[o+(i>>5)]&1<<i)}function lf(i,o){return!(i&gn.Self||i&gn.Host&&o)}class Ao{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,d){return uf(this._tNode,this._lView,o,d,a)}}function Dc(i){return Zr(()=>{const o=i.prototype.constructor,a=o[jn]||hl(o),d=Object.prototype;let m=Object.getPrototypeOf(i.prototype).constructor;for(;m&&m!==d;){const b=m[jn]||hl(m);if(b&&b!==a)return b;m=Object.getPrototypeOf(m)}return b=>new b})}function hl(i){return bt(i)?()=>{const o=hl(et(i));return o&&o()}:Vi(i)}function $u(i){return function hd(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const a=i.attrs;if(a){const d=a.length;let m=0;for(;m<d;){const b=a[m];if(dd(b))break;if(0===b)m+=2;else if("number"==typeof b)for(m++;m<d&&"string"==typeof a[m];)m++;else{if(b===o)return a[m+1];m+=2}}}return null}(cr(),i)}const Fa="__parameters__";function T(i,o,a){return Zr(()=>{const d=function M(i){return function(...a){if(i){const d=i(...a);for(const m in d)this[m]=d[m]}}}(o);function m(...b){if(this instanceof m)return d.apply(this,b),this;const S=new m(...b);return R.annotation=S,R;function R(N,K,Z){const _e=N.hasOwnProperty(Fa)?N[Fa]:Object.defineProperty(N,Fa,{value:[]})[Fa];for(;_e.length<=Z;)_e.push(null);return(_e[Z]=_e[Z]||[]).push(S),N}}return a&&(m.prototype=Object.create(a.prototype)),m.prototype.ngMetadataName=i,m.annotationCls=m,m})}class ee{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=nr({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ce=new ee("AnalyzeForEntryComponents");function os(i,o){void 0===o&&(o=i);for(let a=0;a<i.length;a++){let d=i[a];Array.isArray(d)?(o===i&&(o=i.slice(0,a)),os(d,o)):o!==i&&o.push(d)}return o}function oi(i,o){i.forEach(a=>Array.isArray(a)?oi(a,o):o(a))}function Tc(i,o,a){o>=i.length?i.push(a):i.splice(o,0,a)}function ff(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function La(i,o){const a=[];for(let d=0;d<i;d++)a.push(o);return a}function _s(i,o,a){let d=qu(i,o);return d>=0?i[1|d]=a:(d=~d,function gd(i,o,a,d){let m=i.length;if(m==o)i.push(a,d);else if(1===m)i.push(d,i[0]),i[0]=a;else{for(m--,i.push(i[m-1],i[m]);m>o;)i[m]=i[m-2],m--;i[o]=a,i[o+1]=d}}(i,d,o,a)),d}function Qs(i,o){const a=qu(i,o);if(a>=0)return i[1|a]}function qu(i,o){return function hg(i,o,a){let d=0,m=i.length>>a;for(;m!==d;){const b=d+(m-d>>1),S=i[b<<a];if(o===S)return b<<a;S>o?m=b:d=b+1}return~(m<<a)}(i,o,1)}const xn={},Qn="__NG_DI_FLAG__",cn="ngTempTokenPath",xh=/\n/gm,Ac="__source",kh=ye({provide:String,useValue:ye});let eo;function mr(i){const o=eo;return eo=i,o}function md(i,o=gn.Default){if(void 0===eo)throw new Ke(203,"");return null===eo?Mn(i,void 0,o):eo.get(i,o&gn.Optional?null:void 0,o)}function Ei(i,o=gn.Default){return(function Wn(){return An}()||md)(et(i),o)}const vd=Ei;function Ur(i){const o=[];for(let a=0;a<i.length;a++){const d=et(i[a]);if(Array.isArray(d)){if(0===d.length)throw new Ke(900,"");let m,b=gn.Default;for(let S=0;S<d.length;S++){const R=d[S],N=bs(R);"number"==typeof N?-1===N?m=R.token:b|=N:m=R}o.push(Ei(m,b))}else o.push(Ei(d))}return o}function hf(i,o){return i[Qn]=o,i.prototype[Qn]=o,i}function bs(i){return i[Qn]}const Wu=hf(T("Inject",i=>({token:i})),-1),ws=hf(T("Optional"),8),Ba=hf(T("SkipSelf"),4);class _l{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ua(i){return i instanceof _l?i.changingThisBreaksApplicationSecurity:i}const Oc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Id=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var fi=(()=>((fi=fi||{})[fi.NONE=0]="NONE",fi[fi.HTML=1]="HTML",fi[fi.STYLE=2]="STYLE",fi[fi.SCRIPT=3]="SCRIPT",fi[fi.URL=4]="URL",fi[fi.RESOURCE_URL=5]="RESOURCE_URL",fi))();function Dl(i){const o=function pu(){const i=dt();return i&&i[12]}();return o?o.sanitize(fi.URL,i)||"":function Yu(i,o){const a=function Vv(i){return i instanceof _l&&i.getTypeName()||null}(i);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}(i,"URL")?Ua(i):function bl(i){return(i=String(i)).match(Oc)||i.match(Id)?i:"unsafe:"+i}(at(i))}const Lc="__ngContext__";function kr(i,o){i[Lc]=o}function Ku(i){const o=function Ir(i){return i[Lc]||null}(i);return o?Array.isArray(o)?o:o.lView:null}function Df(i){return i.ngOriginalError}function Ig(i,...o){i.error(...o)}class Rd{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),d=function zv(i){return i&&i.ngErrorLogger||Ig}(o);d(this._console,"ERROR",o),a&&d(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Df(o);for(;a&&Df(a);)a=Df(a);return a||null}}const ta=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ce))();function cs(i){return i instanceof Function?i():i}var _a=(()=>((_a=_a||{})[_a.Important=1]="Important",_a[_a.DashCase=2]="DashCase",_a))();function na(i,o){return undefined(i,o)}function mu(i){const o=i[3];return qn(o)?o[3]:o}function kd(i){return Vc(i[13])}function Sl(i){return Vc(i[4])}function Vc(i){for(;null!==i&&!qn(i);)i=i[4];return i}function Bs(i,o,a,d,m){if(null!=d){let b,S=!1;qn(d)?b=d:Ln(d)&&(S=!0,d=d[0]);const R=Hn(d);0===i&&null!==a?null==m?Ti(o,a,R):Ts(o,a,R,m||null,!0):1===i&&null!==a?Ts(o,a,R,m||null,!0):2===i?function Kt(i,o,a){const d=p(i,o);d&&function l(i,o,a,d){en(i)?i.removeChild(o,a,d):o.removeChild(a)}(i,d,o,a)}(o,R,S):3===i&&o.destroyNode(R),null!=b&&function Fi(i,o,a,d,m){const b=a[7];b!==Hn(a)&&Bs(o,i,d,b,m);for(let R=10;R<a.length;R++){const N=a[R];Cn(N[1],N,i,o,d,b)}}(o,i,b,a,m)}}function Od(i,o,a){if(en(i))return i.createElement(o,a);{const d=null!==a?function q(i){const o=i.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":o===j?"http://www.w3.org/1998/MathML/":null}(a):null;return null===d?i.createElement(o):i.createElementNS(d,o)}}function Og(i,o){const a=i[9],d=a.indexOf(o),m=o[3];1024&o[2]&&(o[2]&=-1025,En(m,-1)),a.splice(d,1)}function Nd(i,o){if(i.length<=10)return;const a=10+o,d=i[a];if(d){const m=d[17];null!==m&&m!==i&&Og(m,d),o>0&&(i[a-1][4]=d[4]);const b=ff(i,10+o);!function Xv(i,o){Cn(i,o,o[X],2,null,null),o[0]=null,o[6]=null}(d[1],d);const S=b[19];null!==S&&S.detachView(b[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function ra(i,o){if(!(256&o[2])){const a=o[X];en(a)&&a.destroyNode&&Cn(i,o,a,3,null,null),function Ml(i){let o=i[13];if(!o)return ep(i[1],i);for(;o;){let a=null;if(Ln(o))a=o[13];else{const d=o[10];d&&(a=d)}if(!a){for(;o&&!o[4]&&o!==i;)Ln(o)&&ep(o[1],o),o=o[3];null===o&&(o=i),Ln(o)&&ep(o[1],o),a=o&&o[4]}o=a}}(o)}}function ep(i,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function vu(i,o){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let d=0;d<a.length;d+=2){const m=o[a[d]];if(!(m instanceof mc)){const b=a[d+1];if(Array.isArray(b))for(let S=0;S<b.length;S+=2){const R=m[b[S]],N=b[S+1];try{N.call(R)}finally{}}else try{b.call(m)}finally{}}}}(i,o),function Ng(i,o){const a=i.cleanup,d=o[7];let m=-1;if(null!==a)for(let b=0;b<a.length-1;b+=2)if("string"==typeof a[b]){const S=a[b+1],R="function"==typeof S?S(o):Hn(o[S]),N=d[m=a[b+2]],K=a[b+3];"boolean"==typeof K?R.removeEventListener(a[b],N,K):K>=0?d[m=K]():d[m=-K].unsubscribe(),b+=2}else{const S=d[m=a[b+1]];a[b].call(S)}if(null!==d){for(let b=m+1;b<d.length;b++)d[b]();o[7]=null}}(i,o),1===o[1].type&&en(o[X])&&o[X].destroy();const a=o[17];if(null!==a&&qn(o[3])){a!==o[3]&&Og(a,o);const d=o[19];null!==d&&d.detachView(i)}}}function Pg(i,o,a){return function Ds(i,o,a){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return a[0];if(2&d.flags){const m=i.data[d.directiveStart].encapsulation;if(m===Yr.None||m===Yr.Emulated)return null}return Pr(d,a)}(i,o.parent,a)}function Ts(i,o,a,d,m){en(i)?i.insertBefore(o,a,d,m):o.insertBefore(a,d,m)}function Ti(i,o,a){en(i)?i.appendChild(o,a):o.appendChild(a)}function f(i,o,a,d,m){null!==d?Ts(i,o,a,d,m):Ti(i,o,a)}function p(i,o){return en(i)?i.parentNode(o):o.parentNode}function D(i,o,a){return H(i,o,a)}let H=function k(i,o,a){return 40&i.type?Pr(i,a):null};function be(i,o,a,d){const m=Pg(i,d,o),b=o[X],R=D(d.parent||o[6],d,o);if(null!=m)if(Array.isArray(a))for(let N=0;N<a.length;N++)f(b,m,a[N],R,!1);else f(b,m,a,R,!1)}function Te(i,o){if(null!==o){const a=o.type;if(3&a)return Pr(o,i);if(4&a)return kt(-1,i[o.index]);if(8&a){const d=o.child;if(null!==d)return Te(i,d);{const m=i[o.index];return qn(m)?kt(-1,m):Hn(m)}}if(32&a)return na(o,i)()||Hn(i[o.index]);{const d=gt(i,o);return null!==d?Array.isArray(d)?d[0]:Te(mu(i[16]),d):Te(i,o.next)}}return null}function gt(i,o){return null!==o?i[16][6].projection[o.projection]:null}function kt(i,o){const a=10+i+1;if(a<o.length){const d=o[a],m=d[1].firstChild;if(null!==m)return Te(d,m)}return o[7]}function ln(i,o,a,d,m,b,S){for(;null!=a;){const R=d[a.index],N=a.type;if(S&&0===o&&(R&&kr(Hn(R),d),a.flags|=4),64!=(64&a.flags))if(8&N)ln(i,o,a.child,d,m,b,!1),Bs(o,i,m,R,b);else if(32&N){const K=na(a,d);let Z;for(;Z=K();)Bs(o,i,m,Z,b);Bs(o,i,m,R,b)}else 16&N?fr(i,o,d,a,m,b):Bs(o,i,m,R,b);a=S?a.projectionNext:a.next}}function Cn(i,o,a,d,m,b){ln(a,d,i.firstChild,o,m,b,!1)}function fr(i,o,a,d,m,b){const S=a[16],N=S[6].projection[d.projection];if(Array.isArray(N))for(let K=0;K<N.length;K++)Bs(o,i,m,N[K],b);else ln(i,o,N,S[3],m,b,!0)}function yu(i,o,a){en(i)?i.setAttribute(o,"style",a):o.style.cssText=a}function ba(i,o,a){en(i)?""===a?i.removeAttribute(o,"class"):i.setAttribute(o,"class",a):o.className=a}function Pd(i,o,a){let d=i.length;for(;;){const m=i.indexOf(o,a);if(-1===m)return m;if(0===m||i.charCodeAt(m-1)<=32){const b=o.length;if(m+b===d||i.charCodeAt(m+b)<=32)return m}a=m+1}}const ey="ng-template";function ty(i,o,a){let d=0;for(;d<i.length;){let m=i[d++];if(a&&"class"===m){if(m=i[d],-1!==Pd(m.toLowerCase(),o,0))return!0}else if(1===m){for(;d<i.length&&"string"==typeof(m=i[d++]);)if(m.toLowerCase()===o)return!0;return!1}}return!1}function ny(i){return 4===i.type&&i.value!==ey}function ia(i,o,a){return o===(4!==i.type||a?i.value:ey)}function ry(i,o,a){let d=4;const m=i.attrs||[],b=function gb(i){for(let o=0;o<i.length;o++)if(dd(i[o]))return o;return i.length}(m);let S=!1;for(let R=0;R<o.length;R++){const N=o[R];if("number"!=typeof N){if(!S)if(4&d){if(d=2|1&d,""!==N&&!ia(i,N,a)||""===N&&1===o.length){if(_u(d))return!1;S=!0}}else{const K=8&d?N:o[++R];if(8&d&&null!==i.attrs){if(!ty(i.attrs,K,a)){if(_u(d))return!1;S=!0}continue}const _e=Fg(8&d?"class":N,m,ny(i),a);if(-1===_e){if(_u(d))return!1;S=!0;continue}if(""!==K){let Be;Be=_e>b?"":m[_e+1].toLowerCase();const lt=8&d?Be:null;if(lt&&-1!==Pd(lt,K,0)||2&d&&K!==Be){if(_u(d))return!1;S=!0}}}}else{if(!S&&!_u(d)&&!_u(N))return!1;if(S&&_u(N))continue;S=!1,d=N|1&d}}return _u(d)||S}function _u(i){return 0==(1&i)}function Fg(i,o,a,d){if(null===o)return-1;let m=0;if(d||!a){let b=!1;for(;m<o.length;){const S=o[m];if(S===i)return m;if(3===S||6===S)b=!0;else{if(1===S||2===S){let R=o[++m];for(;"string"==typeof R;)R=o[++m];continue}if(4===S)break;if(0===S){m+=4;continue}}m+=b?1:2}return-1}return function sy(i,o){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const d=i[a];if("number"==typeof d)return-1;if(d===o)return a;a++}return-1}(o,i)}function iy(i,o,a=!1){for(let d=0;d<o.length;d++)if(ry(i,o[d],a))return!0;return!1}function mb(i,o){e:for(let a=0;a<o.length;a++){const d=o[a];if(i.length===d.length){for(let m=0;m<i.length;m++)if(i[m]!==d[m])continue e;return!0}}return!1}function Sf(i,o){return i?":not("+o.trim()+")":o}function Fd(i){let o=i[0],a=1,d=2,m="",b=!1;for(;a<i.length;){let S=i[a];if("string"==typeof S)if(2&d){const R=i[++a];m+="["+S+(R.length>0?'="'+R+'"':"")+"]"}else 8&d?m+="."+S:4&d&&(m+=" "+S);else""!==m&&!_u(S)&&(o+=Sf(b,m),m=""),d=S,b=b||!_u(d);a++}return""!==m&&(o+=Sf(b,m)),o}const dr={};function Lg(i){vb(Jt(),dt(),ii()+i,iu())}function vb(i,o,a,d){if(!d)if(3==(3&o[2])){const b=i.preOrderCheckHooks;null!==b&&Ws(o,b,a)}else{const b=i.preOrderHooks;null!==b&&Ys(o,b,0,a)}Oi(a)}function np(i,o){return i<<17|o<<2}function bu(i){return i>>17&32767}function Vg(i){return 2|i}function Xu(i){return(131068&i)>>2}function Ga(i,o){return-131069&i|o<<2}function Bd(i){return 1|i}function kf(i,o){const a=i.contentQueries;if(null!==a)for(let d=0;d<a.length;d+=2){const m=a[d],b=a[d+1];if(-1!==b){const S=i.data[b];Ra(m),S.contentQueries(2,o[b],b)}}}function jd(i,o,a,d,m,b,S,R,N,K){const Z=o.blueprint.slice();return Z[0]=m,Z[2]=140|d,Rt(Z),Z[3]=Z[15]=i,Z[8]=a,Z[10]=S||i&&i[10],Z[X]=R||i&&i[X],Z[12]=N||i&&i[12]||null,Z[9]=K||i&&i[9]||null,Z[6]=b,Z[16]=2==o.type?i[16]:Z,Z}function $d(i,o,a,d,m){let b=i.data[o];if(null===b)b=function by(i,o,a,d,m){const b=ei(),S=Bo(),N=i.data[o]=function Ab(i,o,a,d,m,b){return{type:a,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:b,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,S?b:b&&b.parent,a,o,d,m);return null===i.firstChild&&(i.firstChild=N),null!==b&&(S?null==b.child&&null!==N.parent&&(b.child=N):null===b.next&&(b.next=N)),N}(i,o,a,d,m),function xu(){return dn.lFrame.inI18n}()&&(b.flags|=64);else if(64&b.type){b.type=a,b.value=d,b.attrs=m;const S=function li(){const i=dn.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();b.injectorIndex=null===S?-1:S.injectorIndex}return bi(b,!0),b}function Hd(i,o,a,d){if(0===a)return-1;const m=o.length;for(let b=0;b<a;b++)o.push(d),i.blueprint.push(d),i.data.push(null);return m}function ip(i,o,a){Uo(o);try{const d=i.viewQuery;null!==d&&Pl(1,d,a);const m=i.template;null!==m&&Db(i,o,m,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&kf(i,o),i.staticViewQueries&&Pl(2,i.viewQuery,a);const b=i.components;null!==b&&function Ib(i,o){for(let a=0;a<o.length;a++)Kg(i,o[a])}(o,b)}catch(d){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),d}finally{o[2]&=-5,vs()}}function Nl(i,o,a,d){const m=o[2];if(256==(256&m))return;Uo(o);const b=iu();try{Rt(o),function Vo(i){return dn.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Db(i,o,a,2,d);const S=3==(3&m);if(!b)if(S){const K=i.preOrderCheckHooks;null!==K&&Ws(o,K,null)}else{const K=i.preOrderHooks;null!==K&&Ys(o,K,0,null),Ns(o,0)}if(function oD(i){for(let o=kd(i);null!==o;o=Sl(o)){if(!o[2])continue;const a=o[9];for(let d=0;d<a.length;d++){const m=a[d],b=m[3];0==(1024&m[2])&&En(b,1),m[2]|=1024}}}(o),function Lb(i){for(let o=kd(i);null!==o;o=Sl(o))for(let a=10;a<o.length;a++){const d=o[a],m=d[1];L(d)&&Nl(m,d,m.template,d[8])}}(o),null!==i.contentQueries&&kf(i,o),!b)if(S){const K=i.contentCheckHooks;null!==K&&Ws(o,K)}else{const K=i.contentHooks;null!==K&&Ys(o,K,1),Ns(o,1)}!function Ud(i,o){const a=i.hostBindingOpCodes;if(null!==a)try{for(let d=0;d<a.length;d++){const m=a[d];if(m<0)Oi(~m);else{const b=m,S=a[++d],R=a[++d];ku(S,b),R(2,o[b])}}}finally{Oi(-1)}}(i,o);const R=i.components;null!==R&&function Hg(i,o){for(let a=0;a<o.length;a++)sD(i,o[a])}(o,R);const N=i.viewQuery;if(null!==N&&Pl(2,N,d),!b)if(S){const K=i.viewCheckHooks;null!==K&&Ws(o,K)}else{const K=i.viewHooks;null!==K&&Ys(o,K,2),Ns(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),b||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,En(o[3],-1))}finally{vs()}}function Ho(i,o,a,d){const m=o[10],b=!iu(),S=z(o);try{b&&!S&&m.begin&&m.begin(),S&&ip(i,o,d),Nl(i,o,a,d)}finally{b&&!S&&m.end&&m.end()}}function Db(i,o,a,d,m){const b=ii(),S=2&d;try{Oi(-1),S&&o.length>20&&vb(i,o,20,iu()),a(d,m)}finally{Oi(b)}}function Tb(i,o,a){if(ri(o)){const m=o.directiveEnd;for(let b=o.directiveStart;b<m;b++){const S=i.data[b];S.contentQueries&&S.contentQueries(1,a[b],b)}}}function wy(i,o,a){!oe()||(function Dy(i,o,a,d){const m=a.directiveStart,b=a.directiveEnd;i.firstCreatePass||va(a,o),kr(d,o);const S=a.initialInputs;for(let R=m;R<b;R++){const N=i.data[R],K=qr(N);K&&Yg(o,a,N);const Z=ju(o,i,R,a);kr(Z,o),null!==S&&Pb(0,R-m,Z,N,0,S),K&&(Fr(a.index,o)[8]=Z)}}(i,o,a,Pr(a,o)),128==(128&a.flags)&&function kb(i,o,a){const d=a.directiveStart,m=a.directiveEnd,S=a.index,R=function dc(){return dn.lFrame.currentDirectiveIndex}();try{Oi(S);for(let N=d;N<m;N++){const K=i.data[N],Z=o[N];Ou(N),(null!==K.hostBindings||0!==K.hostVars||null!==K.hostAttrs)&&Ob(K,Z)}}finally{Oi(-1),Ou(R)}}(i,o,a))}function Ey(i,o,a=Pr){const d=o.localNames;if(null!==d){let m=o.index+1;for(let b=0;b<d.length;b+=2){const S=d[b+1],R=-1===S?a(o,i):i[S];i[m++]=R}}}function Sb(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=Gg(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):o}function Gg(i,o,a,d,m,b,S,R,N,K){const Z=20+d,_e=Z+m,Be=function QI(i,o){const a=[];for(let d=0;d<o;d++)a.push(d<i?null:dr);return a}(Z,_e),lt="function"==typeof K?K():K;return Be[1]={type:i,blueprint:Be,template:a,queries:null,viewQuery:R,declTNode:o,data:Be.slice().fill(null,Z),bindingStartIndex:Z,expandoStartIndex:_e,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof b?b():b,pipeRegistry:"function"==typeof S?S():S,firstChild:null,schemas:N,consts:lt,incompleteFirstPass:!1}}function qg(i,o,a,d){const m=Pf(o);null===a?m.push(d):(m.push(a),i.firstCreatePass&&xy(i).push(d,m.length-1))}function zg(i,o,a){for(let d in i)if(i.hasOwnProperty(d)){const m=i[d];(a=null===a?{}:a).hasOwnProperty(d)?a[d].push(o,m):a[d]=[o,m]}return a}function Vs(i,o,a,d,m,b,S,R){const N=Pr(o,a);let Z,K=o.inputs;!R&&null!=K&&(Z=K[d])?(jb(i,a,Z,d,m),Jr(o)&&function Iy(i,o){const a=Fr(o,i);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(d=function ZI(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(d),m=null!=S?S(m,o.value||"",d):m,en(b)?b.setProperty(N,d,m):cl(d)||(N.setProperty?N.setProperty(d,m):N[d]=m))}function Wg(i,o,a,d){let m=!1;if(oe()){const b=function nD(i,o,a){const d=i.directiveRegistry;let m=null;if(d)for(let b=0;b<d.length;b++){const S=d[b];iy(a,S.selectors,!1)&&(m||(m=[]),rs(va(a,o),i,S.type),qr(S)?(Nb(i,a),m.unshift(S)):m.push(S))}return m}(i,o,a),S=null===d?null:{"":-1};if(null!==b){m=!0,Gd(a,i.data.length,b.length);for(let Z=0;Z<b.length;Z++){const _e=b[Z];_e.providersResolver&&_e.providersResolver(_e)}let R=!1,N=!1,K=Hd(i,o,b.length,null);for(let Z=0;Z<b.length;Z++){const _e=b[Z];a.mergedAttrs=au(a.mergedAttrs,_e.hostAttrs),Of(i,a,o,K,_e),iD(K,_e,S),null!==_e.contentQueries&&(a.flags|=8),(null!==_e.hostBindings||null!==_e.hostAttrs||0!==_e.hostVars)&&(a.flags|=128);const Be=_e.type.prototype;!R&&(Be.ngOnChanges||Be.ngOnInit||Be.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),R=!0),!N&&(Be.ngOnChanges||Be.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),N=!0),K++}!function Mb(i,o){const d=o.directiveEnd,m=i.data,b=o.attrs,S=[];let R=null,N=null;for(let K=o.directiveStart;K<d;K++){const Z=m[K],_e=Z.inputs,Be=null===b||ny(o)?null:Ty(_e,b);S.push(Be),R=zg(_e,K,R),N=zg(Z.outputs,K,N)}null!==R&&(R.hasOwnProperty("class")&&(o.flags|=16),R.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=S,o.inputs=R,o.outputs=N}(i,a)}S&&function rD(i,o,a){if(o){const d=i.localNames=[];for(let m=0;m<o.length;m+=2){const b=a[o[m+1]];if(null==b)throw new Ke(-301,!1);d.push(o[m],b)}}}(a,d,S)}return a.mergedAttrs=au(a.mergedAttrs,a.attrs),m}function op(i,o,a,d,m,b){const S=b.hostBindings;if(S){let R=i.hostBindingOpCodes;null===R&&(R=i.hostBindingOpCodes=[]);const N=~o.index;(function sp(i){let o=i.length;for(;o>0;){const a=i[--o];if("number"==typeof a&&a<0)return a}return 0})(R)!=N&&R.push(N),R.push(d,m,S)}}function Ob(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function Nb(i,o){o.flags|=2,(i.components||(i.components=[])).push(o.index)}function iD(i,o,a){if(a){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)a[o.exportAs[d]]=i;qr(o)&&(a[""]=i)}}function Gd(i,o,a){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+a,i.providerIndexes=o}function Of(i,o,a,d,m){i.data[d]=m;const b=m.factory||(m.factory=Vi(m.type)),S=new mc(b,qr(m),null);i.blueprint[d]=S,a[d]=S,op(i,o,0,d,Hd(i,a,m.hostVars,dr),m)}function Yg(i,o,a){const d=Pr(o,i),m=Sb(a),b=i[10],S=Gc(i,jd(i,m,null,a.onPush?64:16,d,o,b,b.createRenderer(d,a),null,null));i[o.index]=S}function oa(i,o,a,d,m,b){const S=Pr(i,o);!function ap(i,o,a,d,m,b,S){if(null==b)en(i)?i.removeAttribute(o,m,a):o.removeAttribute(m);else{const R=null==S?at(b):S(b,d||"",m);en(i)?i.setAttribute(o,m,R,a):a?o.setAttributeNS(a,m,R):o.setAttribute(m,R)}}(o[X],S,b,i.value,a,d,m)}function Pb(i,o,a,d,m,b){const S=b[o];if(null!==S){const R=d.setInput;for(let N=0;N<S.length;){const K=S[N++],Z=S[N++],_e=S[N++];null!==R?d.setInput(a,_e,K,Z):a[Z]=_e}}}function Ty(i,o){let a=null,d=0;for(;d<o.length;){const m=o[d];if(0!==m)if(5!==m){if("number"==typeof m)break;i.hasOwnProperty(m)&&(null===a&&(a=[]),a.push(m,i[m],o[d+1])),d+=2}else d+=2;else d+=4}return a}function Hc(i,o,a,d){return new Array(i,!0,!1,o,null,0,d,a,null,null)}function sD(i,o){const a=Fr(o,i);if(L(a)){const d=a[1];80&a[2]?Nl(d,a,d.template,a[8]):a[5]>0&&Sy(a)}}function Sy(i){for(let d=kd(i);null!==d;d=Sl(d))for(let m=10;m<d.length;m++){const b=d[m];if(1024&b[2]){const S=b[1];Nl(S,b,S.template,b[8])}else b[5]>0&&Sy(b)}const a=i[1].components;if(null!==a)for(let d=0;d<a.length;d++){const m=Fr(a[d],i);L(m)&&m[5]>0&&Sy(m)}}function Kg(i,o){const a=Fr(o,i),d=a[1];(function Bb(i,o){for(let a=o.length;a<i.blueprint.length;a++)o.push(i.blueprint[a])})(d,a),ip(d,a,a[8])}function Gc(i,o){return i[13]?i[14][4]=o:i[13]=o,i[14]=o,o}function Xg(i){for(;i;){i[2]|=64;const o=mu(i);if(ca(i)&&!o)return i;i=o}return null}function My(i,o,a){const d=o[10];d.begin&&d.begin();try{Nl(i,o,i.template,a)}catch(m){throw up(o,m),m}finally{d.end&&d.end()}}function Ub(i){!function Ay(i){for(let o=0;o<i.components.length;o++){const a=i.components[o],d=Ku(a),m=d[1];Ho(m,d,m.template,a)}}(i[8])}function Pl(i,o,a){Ra(0),o(i,a)}const uD=(()=>Promise.resolve(null))();function Pf(i){return i[7]||(i[7]=[])}function xy(i){return i.cleanup||(i.cleanup=[])}function up(i,o){const a=i[9],d=a?a.get(Rd,null):null;d&&d.handleError(o)}function jb(i,o,a,d,m){for(let b=0;b<a.length;){const S=a[b++],R=a[b++],N=o[S],K=i.data[S];null!==K.setInput?K.setInput(N,m,d,R):N[R]=m}}function qc(i,o,a){const d=gr(o,i);!function Zh(i,o,a){en(i)?i.setValue(o,a):o.textContent=a}(i[X],d,a)}function qd(i,o,a){let d=a?i.styles:null,m=a?i.classes:null,b=0;if(null!==o)for(let S=0;S<o.length;S++){const R=o[S];"number"==typeof R?b=R:1==b?m=Me(m,R):2==b&&(d=Me(d,R+": "+o[++S]+";"))}a?i.styles=d:i.stylesWithoutHost=d,a?i.classes=m:i.classesWithoutHost=m}const cp=new ee("INJECTOR",-1);class Qg{get(o,a=xn){if(a===xn){const d=new Error(`NullInjectorError: No provider for ${he(o)}!`);throw d.name="NullInjectorError",d}return a}}const Ny=new ee("Set Injector scope."),zd={},lD={};let Jg;function Py(){return void 0===Jg&&(Jg=new Qg),Jg}function Fy(i,o=null,a=null,d){const m=Ly(i,o,a,d);return m._resolveInjectorDefTypes(),m}function Ly(i,o=null,a=null,d){return new fD(i,a,o||Py(),d)}class fD{constructor(o,a,d,m=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const b=[];a&&oi(a,R=>this.processProvider(R,o,a)),oi([o],R=>this.processInjectorType(R,[],b)),this.records.set(cp,Wd(void 0,this));const S=this.records.get(Ny);this.scope=null!=S?S.value:null,this.source=m||("object"==typeof o?null:he(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=xn,d=gn.Default){this.assertNotDestroyed();const m=mr(this),b=wt(void 0);try{if(!(d&gn.SkipSelf)){let R=this.records.get(o);if(void 0===R){const N=function Vy(i){return"function"==typeof i||"object"==typeof i&&i instanceof ee}(o)&&rr(o);R=N&&this.injectableDefInScope(N)?Wd(By(o),zd):null,this.records.set(o,R)}if(null!=R)return this.hydrate(o,R)}return(d&gn.Self?Py():this.parent).get(o,a=d&gn.Optional&&a===xn?null:a)}catch(S){if("NullInjectorError"===S.name){if((S[cn]=S[cn]||[]).unshift(he(o)),m)throw S;return function Mc(i,o,a,d){const m=i[cn];throw o[Ac]&&m.unshift(o[Ac]),i.message=function ss(i,o,a,d=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let m=he(o);if(Array.isArray(o))m=o.map(he).join(" -> ");else if("object"==typeof o){let b=[];for(let S in o)if(o.hasOwnProperty(S)){let R=o[S];b.push(S+":"+("string"==typeof R?JSON.stringify(R):he(R)))}m=`{${b.join(", ")}}`}return`${a}${d?"("+d+")":""}[${m}]: ${i.replace(xh,"\n  ")}`}("\n"+i.message,m,a,d),i.ngTokenPath=m,i[cn]=null,i}(S,o,"R3InjectorError",this.source)}throw S}finally{wt(b),mr(m)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((d,m)=>o.push(he(m))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ke(205,!1)}processInjectorType(o,a,d){if(!(o=et(o)))return!1;let m=or(o);const b=null==m&&o.ngModule||void 0,S=void 0===b?o:b,R=-1!==d.indexOf(S);if(void 0!==b&&(m=or(b)),null==m)return!1;if(null!=m.imports&&!R){let Z;d.push(S);try{oi(m.imports,_e=>{this.processInjectorType(_e,a,d)&&(void 0===Z&&(Z=[]),Z.push(_e))})}finally{}if(void 0!==Z)for(let _e=0;_e<Z.length;_e++){const{ngModule:Be,providers:lt}=Z[_e];oi(lt,Ot=>this.processProvider(Ot,Be,lt||Et))}}this.injectorDefTypes.add(S);const N=Vi(S)||(()=>new S);this.records.set(S,Wd(N,zd));const K=m.providers;if(null!=K&&!R){const Z=o;oi(K,_e=>this.processProvider(_e,Z,K))}return void 0!==b&&void 0!==o.providers}processProvider(o,a,d){let m=Yd(o=et(o))?o:et(o&&o.provide);const b=function hD(i,o,a){return $b(i)?Wd(void 0,i.useValue):Wd(Zg(i),zd)}(o);if(Yd(o)||!0!==o.multi)this.records.get(m);else{let S=this.records.get(m);S||(S=Wd(void 0,zd,!0),S.factory=()=>Ur(S.multi),this.records.set(m,S)),m=o,S.multi.push(o)}this.records.set(m,b)}hydrate(o,a){return a.value===zd&&(a.value=lD,a.value=a.factory()),"object"==typeof a.value&&a.value&&function mD(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=et(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function By(i){const o=rr(i),a=null!==o?o.factory:Vi(i);if(null!==a)return a;if(i instanceof ee)throw new Ke(204,!1);if(i instanceof Function)return function dD(i){const o=i.length;if(o>0)throw La(o,"?"),new Ke(204,!1);const a=function lr(i){const o=i&&(i[Hr]||i[Ci]);if(o){const a=function Dr(i){if(i.hasOwnProperty("name"))return i.name;const o=(""+i).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Ke(204,!1)}function Zg(i,o,a){let d;if(Yd(i)){const m=et(i);return Vi(m)||By(m)}if($b(i))d=()=>et(i.useValue);else if(function Gb(i){return!(!i||!i.useFactory)}(i))d=()=>i.useFactory(...Ur(i.deps||[]));else if(function Hb(i){return!(!i||!i.useExisting)}(i))d=()=>Ei(et(i.useExisting));else{const m=et(i&&(i.useClass||i.provide));if(!function gD(i){return!!i.deps}(i))return Vi(m)||By(m);d=()=>new m(...Ur(i.deps))}return d}function Wd(i,o,a=!1){return{factory:i,value:o,multi:a?[]:void 0}}function $b(i){return null!==i&&"object"==typeof i&&kh in i}function Yd(i){return"function"==typeof i}let wa=(()=>{class i{static create(a,d){var m;if(Array.isArray(a))return Fy({name:""},d,a,"");{const b=null!==(m=a.name)&&void 0!==m?m:"";return Fy({name:b},a.parent,a.providers,b)}}}return i.THROW_IF_NOT_FOUND=xn,i.NULL=new Qg,i.\u0275prov=nr({token:i,providedIn:"any",factory:()=>Ei(cp)}),i.__NG_ELEMENT_ID__=-1,i})();function wD(i,o){gc(Ku(i)[1],cr())}function rm(i){let o=function Zb(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const d=[i];for(;o;){let m;if(qr(i))m=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ke(903,"");m=o.\u0275dir}if(m){if(a){d.push(m);const S=i;S.inputs=fp(i.inputs),S.declaredInputs=fp(i.declaredInputs),S.outputs=fp(i.outputs);const R=m.hostBindings;R&&Gy(i,R);const N=m.viewQuery,K=m.contentQueries;if(N&&im(i,N),K&&tw(i,K),qe(i.inputs,m.inputs),qe(i.declaredInputs,m.declaredInputs),qe(i.outputs,m.outputs),qr(m)&&m.data.animation){const Z=i.data;Z.animation=(Z.animation||[]).concat(m.data.animation)}}const b=m.features;if(b)for(let S=0;S<b.length;S++){const R=b[S];R&&R.ngInherit&&R(i),R===rm&&(a=!1)}}o=Object.getPrototypeOf(o)}!function ew(i){let o=0,a=null;for(let d=i.length-1;d>=0;d--){const m=i[d];m.hostVars=o+=m.hostVars,m.hostAttrs=au(m.hostAttrs,a=au(a,m.hostAttrs))}}(d)}function fp(i){return i===ct?{}:i===Et?[]:i}function im(i,o){const a=i.viewQuery;i.viewQuery=a?(d,m)=>{o(d,m),a(d,m)}:o}function tw(i,o){const a=i.contentQueries;i.contentQueries=a?(d,m,b)=>{o(d,m,b),a(d,m,b)}:o}function Gy(i,o){const a=i.hostBindings;i.hostBindings=a?(d,m)=>{o(d,m),a(d,m)}:o}let dp=null;function Ff(){if(!dp){const i=ce.Symbol;if(i&&i.iterator)dp=i.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const d=o[a];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(dp=d)}}}return dp}function Ll(i){return!!om(i)&&(Array.isArray(i)||!(i instanceof Map)&&Ff()in i)}function om(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Ss(i,o,a){return!Object.is(i[o],a)&&(i[o]=a,!0)}function sm(i,o,a,d){const m=dt();return Ss(m,Ma(),o)&&(Jt(),oa(xr(),m,i,o,a,d)),sm}function Vf(i,o,a,d){return Ss(i,Ma(),a)?o+at(a)+d:dr}function xo(i,o,a,d,m,b,S,R){const N=dt(),K=Jt(),Z=i+20,_e=K.firstCreatePass?function ho(i,o,a,d,m,b,S,R,N){const K=o.consts,Z=$d(o,i,4,S||null,ne(K,R));Wg(o,a,Z,ne(K,N)),gc(o,Z);const _e=Z.tViews=Gg(2,Z,d,m,b,o.directiveRegistry,o.pipeRegistry,null,o.schemas,K);return null!==o.queries&&(o.queries.template(o,Z),_e.queries=o.queries.embeddedTView(Z)),Z}(Z,K,N,o,a,d,m,b,S):K.data[Z];bi(_e,!1);const Be=N[X].createComment("");be(K,N,Be,_e),kr(Be,N),Gc(N,N[Z]=Hc(Be,N,Be,_e)),ki(_e)&&wy(K,N,_e),null!=S&&Ey(N,_e,R)}function za(i,o=gn.Default){const a=dt();return null===a?Ei(i,o):uf(cr(),a,et(i),o)}function bw(){throw new Error("invalid")}function t_(i,o,a){const d=dt();return Ss(d,Ma(),o)&&Vs(Jt(),xr(),d,i,o,d[X],a,!1),t_}function dm(i,o,a,d,m){const S=m?"class":"style";jb(i,a,o.inputs[S],S,d)}function vp(i,o,a,d){const m=dt(),b=Jt(),S=20+i,R=m[X],N=m[S]=Od(R,o,function wi(){return dn.lFrame.currentNamespace}()),K=b.firstCreatePass?function ww(i,o,a,d,m,b,S){const R=o.consts,K=$d(o,i,2,m,ne(R,b));return Wg(o,a,K,ne(R,S)),null!==K.attrs&&qd(K,K.attrs,!1),null!==K.mergedAttrs&&qd(K,K.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,K),K}(S,b,m,0,o,a,d):b.data[S];bi(K,!0);const Z=K.mergedAttrs;null!==Z&&vc(R,N,Z);const _e=K.classes;null!==_e&&ba(R,N,_e);const Be=K.styles;return null!==Be&&yu(R,N,Be),64!=(64&K.flags)&&be(b,m,N,K),0===function G(){return dn.lFrame.elementDepthCount}()&&kr(N,m),function E(){dn.lFrame.elementDepthCount++}(),ki(K)&&(wy(b,m,K),Tb(b,K,m)),null!==d&&Ey(m,K),vp}function yp(){let i=cr();Bo()?uo():(i=i.parent,bi(i,!1));const o=i;!function U(){dn.lFrame.elementDepthCount--}();const a=Jt();return a.firstCreatePass&&(gc(a,i),ri(i)&&a.queries.elementEnd(i)),null!=o.classesWithoutHost&&function ul(i){return 0!=(16&i.flags)}(o)&&dm(a,o,dt(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function fd(i){return 0!=(32&i.flags)}(o)&&dm(a,o,dt(),o.stylesWithoutHost,!1),yp}function hm(i,o,a,d){return vp(i,o,a,d),yp(),hm}function _p(i,o,a){const d=dt(),m=Jt(),b=i+20,S=m.firstCreatePass?function Ew(i,o,a,d,m){const b=o.consts,S=ne(b,d),R=$d(o,i,8,"ng-container",S);return null!==S&&qd(R,S,!0),Wg(o,a,R,ne(b,m)),null!==o.queries&&o.queries.elementStart(o,R),R}(b,m,d,o,a):m.data[b];bi(S,!0);const R=d[b]=d[X].createComment("");return be(m,d,R,S),kr(R,d),ki(S)&&(wy(m,d,S),Tb(m,S,d)),null!=a&&Ey(d,S),_p}function Zd(){let i=cr();const o=Jt();return Bo()?uo():(i=i.parent,bi(i,!1)),o.firstCreatePass&&(gc(o,i),ri(i)&&o.queries.elementEnd(i)),Zd}function n_(i,o,a){return _p(i,o,a),Zd(),n_}function Cw(){return dt()}function nc(i){return!!i&&"function"==typeof i.then}function jl(i){return!!i&&"function"==typeof i.subscribe}const r_=jl;function pm(i,o,a,d){const m=dt(),b=Jt(),S=cr();return function gm(i,o,a,d,m,b,S,R){const N=ki(d),Z=i.firstCreatePass&&xy(i),_e=o[8],Be=Pf(o);let lt=!0;if(3&d.type||R){const fn=Pr(d,o),Tn=R?R(fn):fn,Ut=Be.length,zn=R?$r=>R(Hn($r[d.index])):d.index;if(en(a)){let $r=null;if(!R&&N&&($r=function bp(i,o,a,d){const m=i.cleanup;if(null!=m)for(let b=0;b<m.length-1;b+=2){const S=m[b];if(S===a&&m[b+1]===d){const R=o[7],N=m[b+2];return R.length>N?R[N]:null}"string"==typeof S&&(b+=2)}return null}(i,o,m,d.index)),null!==$r)($r.__ngLastListenerFn__||$r).__ngNextListenerFn__=b,$r.__ngLastListenerFn__=b,lt=!1;else{b=mm(d,o,_e,b,!1);const hi=a.listen(Tn,m,b);Be.push(b,hi),Z&&Z.push(m,zn,Ut,Ut+1)}}else b=mm(d,o,_e,b,!0),Tn.addEventListener(m,b,S),Be.push(b),Z&&Z.push(m,zn,Ut,S)}else b=mm(d,o,_e,b,!1);const Ot=d.outputs;let nn;if(lt&&null!==Ot&&(nn=Ot[m])){const fn=nn.length;if(fn)for(let Tn=0;Tn<fn;Tn+=2){const Qa=o[nn[Tn]][nn[Tn+1]].subscribe(b),td=Be.length;Be.push(b,Qa),Z&&Z.push(m,d.index,td,-(td+1))}}}(b,m,m[X],S,i,o,!!a,d),pm}function Iw(i,o,a,d){try{return!1!==a(d)}catch(m){return up(i,m),!1}}function mm(i,o,a,d,m){return function b(S){if(S===Function)return d;const R=2&i.flags?Fr(i.index,o):o;0==(32&o[2])&&Xg(R);let N=Iw(o,0,d,S),K=b.__ngNextListenerFn__;for(;K;)N=Iw(o,0,K,S)&&N,K=K.__ngNextListenerFn__;return m&&!1===N&&(S.preventDefault(),S.returnValue=!1),N}}function o_(i=1){return function ga(i){return(dn.lFrame.contextLView=function ud(i,o){for(;i>0;)o=o[15],i--;return o}(i,dn.lFrame.contextLView))[8]}(i)}function Dw(i,o){let a=null;const d=function oy(i){const o=i.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(i);for(let m=0;m<o.length;m++){const b=o[m];if("*"!==b){if(null===d?iy(i,b,!0):mb(d,b))return m}else a=m}return a}function Tw(i){const o=dt()[16][6];if(!o.projection){const d=o.projection=La(i?i.length:1,null),m=d.slice();let b=o.child;for(;null!==b;){const S=i?Dw(b,i):0;null!==S&&(m[S]?m[S].projectionNext=b:d[S]=b,m[S]=b),b=b.next}}}function vm(i,o=0,a){const d=dt(),m=Jt(),b=$d(m,20+i,16,null,a||null);null===b.projection&&(b.projection=o),uo(),64!=(64&b.flags)&&function Dt(i,o,a){fr(o[X],0,o,a,Pg(i,a,o),D(a.parent||o[6],a,o))}(m,d,b)}function eh(i,o,a){return s_(i,"",o,"",a),eh}function s_(i,o,a,d,m){const b=dt(),S=Vf(b,o,a,d);return S!==dr&&Vs(Jt(),xr(),b,i,S,b[X],m,!1),s_}function _m(i,o,a,d,m){const b=i[a+1],S=null===o;let R=d?bu(b):Xu(b),N=!1;for(;0!==R&&(!1===N||S);){const Z=i[R+1];bm(i[R],o)&&(N=!0,i[R+1]=d?Bd(Z):Vg(Z)),R=d?bu(Z):Xu(Z)}N&&(i[a+1]=d?Vg(b):Bd(b))}function bm(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&qu(i,o)>=0}function wm(i,o){return function Eu(i,o,a,d){const m=dt(),b=Jt(),S=function So(i){const o=dn.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,a}(2);b.firstUpdatePass&&function Lw(i,o,a,d){const m=i.data;if(null===m[a+1]){const b=m[ii()],S=function Fw(i,o){return o>=i.expandoStartIndex}(i,a);(function f_(i,o){return 0!=(i.flags&(o?16:32))})(b,d)&&null===o&&!S&&(o=!1),o=function ih(i,o,a,d){const m=function ts(i){const o=dn.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let b=d?o.residualClasses:o.residualStyles;if(null===m)0===(d?o.classBindings:o.styleBindings)&&(a=oh(a=Em(null,i,o,a,d),o.attrs,d),b=null);else{const S=o.directiveStylingLast;if(-1===S||i[S]!==m)if(a=Em(m,i,o,a,d),null===b){let N=function ND(i,o,a){const d=a?o.classBindings:o.styleBindings;if(0!==Xu(d))return i[bu(d)]}(i,o,d);void 0!==N&&Array.isArray(N)&&(N=Em(null,i,o,N[1],d),N=oh(N,o.attrs,d),function Bw(i,o,a,d){i[bu(a?o.classBindings:o.styleBindings)]=d}(i,o,d,N))}else b=function Vw(i,o,a){let d;const m=o.directiveEnd;for(let b=1+o.directiveStylingLast;b<m;b++)d=oh(d,i[b].hostAttrs,a);return oh(d,o.attrs,a)}(i,o,d)}return void 0!==b&&(d?o.residualClasses=b:o.residualStyles=b),a}(m,b,o,d),function Ep(i,o,a,d,m,b){let S=b?o.classBindings:o.styleBindings,R=bu(S),N=Xu(S);i[d]=a;let Z,K=!1;if(Array.isArray(a)){const _e=a;Z=_e[1],(null===Z||qu(_e,Z)>0)&&(K=!0)}else Z=a;if(m)if(0!==N){const Be=bu(i[R+1]);i[d+1]=np(Be,R),0!==Be&&(i[Be+1]=Ga(i[Be+1],d)),i[R+1]=function $I(i,o){return 131071&i|o<<17}(i[R+1],d)}else i[d+1]=np(R,0),0!==R&&(i[R+1]=Ga(i[R+1],d)),R=d;else i[d+1]=np(N,0),0===R?R=d:i[N+1]=Ga(i[N+1],d),N=d;K&&(i[d+1]=Vg(i[d+1])),_m(i,Z,d,!0),_m(i,Z,d,!1),function MD(i,o,a,d,m){const b=m?i.residualClasses:i.residualStyles;null!=b&&"string"==typeof o&&qu(b,o)>=0&&(a[d+1]=Bd(a[d+1]))}(o,Z,i,d,b),S=np(R,N),b?o.classBindings=S:o.styleBindings=S}(m,b,o,a,S,d)}}(b,i,S,d),o!==dr&&Ss(m,S,o)&&function jw(i,o,a,d,m,b,S,R){if(!(3&o.type))return;const N=i.data,K=N[R+1];Cm(function uy(i){return 1==(1&i)}(K)?Qc(N,o,a,m,Xu(K),S):void 0)||(Cm(b)||function Bg(i){return 2==(2&i)}(K)&&(b=Qc(N,null,a,m,R,S)),function Ha(i,o,a,d,m){const b=en(i);if(o)m?b?i.addClass(a,d):a.classList.add(d):b?i.removeClass(a,d):a.classList.remove(d);else{let S=-1===d.indexOf("-")?void 0:_a.DashCase;if(null==m)b?i.removeStyle(a,d,S):a.style.removeProperty(d);else{const R="string"==typeof m&&m.endsWith("!important");R&&(m=m.slice(0,-10),S|=_a.Important),b?i.setStyle(a,d,m,S):a.style.setProperty(d,m,R?"important":"")}}}(d,S,gr(ii(),a),m,b))}(b,b.data[ii()],m,m[X],i,m[S+1]=function Jc(i,o){return null==i||("string"==typeof o?i+=o:"object"==typeof i&&(i=he(Ua(i)))),i}(o,a),d,S)}(i,o,null,!0),wm}function Em(i,o,a,d,m){let b=null;const S=a.directiveEnd;let R=a.directiveStylingLast;for(-1===R?R=a.directiveStart:R++;R<S&&(b=o[R],d=oh(d,b.hostAttrs,m),b!==i);)R++;return null!==i&&(a.directiveStylingLast=R),d}function oh(i,o,a){const d=a?1:2;let m=-1;if(null!==o)for(let b=0;b<o.length;b++){const S=o[b];"number"==typeof S?m=S:m===d&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),_s(i,S,!!a||o[++b]))}return void 0===i?null:i}function Qc(i,o,a,d,m,b){const S=null===o;let R;for(;m>0;){const N=i[m],K=Array.isArray(N),Z=K?N[1]:N,_e=null===Z;let Be=a[m+1];Be===dr&&(Be=_e?Et:void 0);let lt=_e?Qs(Be,d):Z===d?Be:void 0;if(K&&!Cm(lt)&&(lt=Qs(N,d)),Cm(lt)&&(R=lt,S))return R;const Ot=i[m+1];m=S?bu(Ot):Xu(Ot)}if(null!==o){let N=b?o.residualClasses:o.residualStyles;null!=N&&(R=Qs(N,d))}return R}function Cm(i){return void 0!==i}function Im(i,o=""){const a=dt(),d=Jt(),m=i+20,b=d.firstCreatePass?$d(d,m,1,o,null):d.data[m],S=a[m]=function Uc(i,o){return en(i)?i.createText(o):i.createTextNode(o)}(a[X],o);be(d,a,S,b),bi(b,!1)}function sh(i,o,a){const d=dt(),m=Vf(d,i,o,a);return m!==dr&&qc(d,ii(),m),sh}const Wf=void 0;var zD=["en",[["a","p"],["AM","PM"],Wf],[["AM","PM"],Wf,Wf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wf,"{1} 'at' {0}",Wf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function qD(i){const a=Math.floor(Math.abs(i)),d=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===d?1:5}];let Hl={};function Mm(i){const o=function WD(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=eE(o);if(a)return a;const d=o.split("-")[0];if(a=eE(d),a)return a;if("en"===d)return zD;throw new Error(`Missing locale data for the locale "${i}".`)}function b_(i){return Mm(i)[Jn.PluralCase]}function eE(i){return i in Hl||(Hl[i]=ce.ng&&ce.ng.common&&ce.ng.common.locales&&ce.ng.common.locales[i]),Hl[i]}var Jn=(()=>((Jn=Jn||{})[Jn.LocaleId=0]="LocaleId",Jn[Jn.DayPeriodsFormat=1]="DayPeriodsFormat",Jn[Jn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Jn[Jn.DaysFormat=3]="DaysFormat",Jn[Jn.DaysStandalone=4]="DaysStandalone",Jn[Jn.MonthsFormat=5]="MonthsFormat",Jn[Jn.MonthsStandalone=6]="MonthsStandalone",Jn[Jn.Eras=7]="Eras",Jn[Jn.FirstDayOfWeek=8]="FirstDayOfWeek",Jn[Jn.WeekendRange=9]="WeekendRange",Jn[Jn.DateFormat=10]="DateFormat",Jn[Jn.TimeFormat=11]="TimeFormat",Jn[Jn.DateTimeFormat=12]="DateTimeFormat",Jn[Jn.NumberSymbols=13]="NumberSymbols",Jn[Jn.NumberFormats=14]="NumberFormats",Jn[Jn.CurrencyCode=15]="CurrencyCode",Jn[Jn.CurrencySymbol=16]="CurrencySymbol",Jn[Jn.CurrencyName=17]="CurrencyName",Jn[Jn.Currencies=18]="Currencies",Jn[Jn.Directionality=19]="Directionality",Jn[Jn.PluralCase=20]="PluralCase",Jn[Jn.ExtraData=21]="ExtraData",Jn))();const Rm="en-US";let Om=Rm;function x_(i,o,a,d,m){if(i=et(i),Array.isArray(i))for(let b=0;b<i.length;b++)x_(i[b],o,a,d,m);else{const b=Jt(),S=dt();let R=Yd(i)?i:et(i.provide),N=Zg(i);const K=cr(),Z=1048575&K.providerIndexes,_e=K.directiveStart,Be=K.providerIndexes>>20;if(Yd(i)||!i.multi){const lt=new mc(N,m,za),Ot=Um(R,o,m?Z:Z+Be,_e);-1===Ot?(rs(va(K,S),b,R),k_(b,i,o.length),o.push(R),K.directiveStart++,K.directiveEnd++,m&&(K.providerIndexes+=1048576),a.push(lt),S.push(lt)):(a[Ot]=lt,S[Ot]=lt)}else{const lt=Um(R,o,Z+Be,_e),Ot=Um(R,o,Z,Z+Be),nn=lt>=0&&a[lt],fn=Ot>=0&&a[Ot];if(m&&!fn||!m&&!nn){rs(va(K,S),b,R);const Tn=function SE(i,o,a,d,m){const b=new mc(i,a,za);return b.multi=[],b.index=o,b.componentProviders=0,TE(b,m,d&&!a),b}(m?IT:CT,a.length,m,d,N);!m&&fn&&(a[Ot].providerFactory=Tn),k_(b,i,o.length,0),o.push(R),K.directiveStart++,K.directiveEnd++,m&&(K.providerIndexes+=1048576),a.push(Tn),S.push(Tn)}else k_(b,i,lt>-1?lt:Ot,TE(a[m?Ot:lt],N,!m&&d));!m&&d&&fn&&a[Ot].componentProviders++}}}function k_(i,o,a,d){const m=Yd(o),b=function pD(i){return!!i.useClass}(o);if(m||b){const N=(b?et(o.useClass):o).prototype.ngOnDestroy;if(N){const K=i.destroyHooks||(i.destroyHooks=[]);if(!m&&o.multi){const Z=K.indexOf(a);-1===Z?K.push(a,[d,N]):K[Z+1].push(d,N)}else K.push(a,N)}}}function TE(i,o,a){return a&&i.componentProviders++,i.multi.push(o)-1}function Um(i,o,a,d){for(let m=a;m<d;m++)if(o[m]===i)return m;return-1}function CT(i,o,a,d){return O_(this.multi,[])}function IT(i,o,a,d){const m=this.multi;let b;if(this.providerFactory){const S=this.providerFactory.componentProviders,R=ju(a,a[1],this.providerFactory.index,d);b=R.slice(0,S),O_(m,b);for(let N=S;N<R.length;N++)b.push(R[N])}else b=[],O_(m,b);return b}function O_(i,o){for(let a=0;a<i.length;a++)o.push((0,i[a])());return o}function AE(i,o=[]){return a=>{a.providersResolver=(d,m)=>function ET(i,o,a){const d=Jt();if(d.firstCreatePass){const m=qr(i);x_(a,d.data,d.blueprint,m,!0),x_(o,d.data,d.blueprint,m,!1)}}(d,m?m(i):i,o)}}class Xf{}class $m{resolveComponentFactory(o){throw function ME(i){const o=Error(`No component factory found for ${he(i)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=i,o}(o)}}let Hm=(()=>{class i{}return i.NULL=new $m,i})();function Wa(){return Gl(cr(),dt())}function Gl(i,o){return new fh(Pr(i,o))}let fh=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=Wa,i})();function RE(i){return i instanceof fh?i.nativeElement:i}class P_{}let xE=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function ST(){const i=dt(),a=Fr(cr().index,i);return function TT(i){return i[X]}(Ln(a)?a:i)}(),i})(),AT=(()=>{class i{}return i.\u0275prov=nr({token:i,providedIn:"root",factory:()=>null}),i})();class kE{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Us=new kE("13.2.7"),Mp={};function Iu(i,o,a,d,m=!1){for(;null!==a;){const b=o[a.index];if(null!==b&&d.push(Hn(b)),qn(b))for(let R=10;R<b.length;R++){const N=b[R],K=N[1].firstChild;null!==K&&Iu(N[1],N,K,d)}const S=a.type;if(8&S)Iu(i,o,a.child,d);else if(32&S){const R=na(a,o);let N;for(;N=R();)d.push(N)}else if(16&S){const R=gt(o,a);if(Array.isArray(R))d.push(...R);else{const N=mu(o[16]);Iu(N[1],N,R,d,!0)}}a=m?a.projectionNext:a.next}return d}class Rp{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return Iu(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(qn(o)){const a=o[8],d=a?a.indexOf(this):-1;d>-1&&(Nd(o,d),ff(a,d))}this._attachedToViewContainer=!1}ra(this._lView[1],this._lView)}onDestroy(o){qg(this._lView[1],this._lView,null,o)}markForCheck(){Xg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){My(this._lView[1],this._lView,this.context)}checkNoChanges(){!function aD(i,o,a){Ru(!0);try{My(i,o,a)}finally{Ru(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ke(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Al(i,o){Cn(i,o,o[X],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ke(902,"");this._appRef=o}}class MT extends Rp{constructor(o){super(o),this._view=o}detectChanges(){Ub(this._view)}checkNoChanges(){!function Ry(i){Ru(!0);try{Ub(i)}finally{Ru(!1)}}(this._view)}get context(){return null}}class OE extends Hm{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=qt(o);return new F_(a,this.ngModule)}}function Ea(i){const o=[];for(let a in i)i.hasOwnProperty(a)&&o.push({propName:i[a],templateName:a});return o}class F_ extends Xf{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function Ld(i){return i.map(Fd).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Ea(this.componentDef.inputs)}get outputs(){return Ea(this.componentDef.outputs)}create(o,a,d,m){const b=(m=m||this.ngModule)?function xT(i,o){return{get:(a,d,m)=>{const b=i.get(a,Mp,m);return b!==Mp||d===Mp?b:o.get(a,d,m)}}}(o,m.injector):o,S=b.get(P_,Rr),R=b.get(AT,null),N=S.createRenderer(null,this.componentDef),K=this.componentDef.selectors[0][0]||"div",Z=d?function Cy(i,o,a){if(en(i))return i.selectRootElement(o,a===Yr.ShadowDom);let d="string"==typeof o?i.querySelector(o):o;return d.textContent="",d}(N,d,this.componentDef.encapsulation):Od(S.createRenderer(null,this.componentDef),K,function RT(i){const o=i.toLowerCase();return"svg"===o?"svg":"math"===o?j:null}(K)),_e=this.componentDef.onPush?576:528,Be=function Jb(i,o){return{components:[],scheduler:i||ta,clean:uD,playerHandler:o||null,flags:0}}(),lt=Gg(0,null,null,1,0,null,null,null,null,null),Ot=jd(null,lt,Be,_e,null,null,S,N,R,b);let nn,fn;Uo(Ot);try{const Tn=function Hy(i,o,a,d,m,b){const S=a[1];a[20]=i;const N=$d(S,20,2,"#host",null),K=N.mergedAttrs=o.hostAttrs;null!==K&&(qd(N,K,!0),null!==i&&(vc(m,i,K),null!==N.classes&&ba(m,i,N.classes),null!==N.styles&&yu(m,i,N.styles)));const Z=d.createRenderer(i,o),_e=jd(a,Sb(o),null,o.onPush?64:16,a[20],N,d,Z,b||null,null);return S.firstCreatePass&&(rs(va(N,a),S,o.type),Nb(S,N),Gd(N,a.length,1)),Gc(a,_e),a[20]=_e}(Z,this.componentDef,Ot,S,N);if(Z)if(d)vc(N,Z,["ng-version",Us.full]);else{const{attrs:Ut,classes:zn}=function tp(i){const o=[],a=[];let d=1,m=2;for(;d<i.length;){let b=i[d];if("string"==typeof b)2===m?""!==b&&o.push(b,i[++d]):8===m&&a.push(b);else{if(!_u(m))break;m=b}d++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Ut&&vc(N,Z,Ut),zn&&zn.length>0&&ba(N,Z,zn.join(" "))}if(fn=vo(lt,20),void 0!==a){const Ut=fn.projection=[];for(let zn=0;zn<this.ngContentSelectors.length;zn++){const $r=a[zn];Ut.push(null!=$r?Array.from($r):null)}}nn=function lp(i,o,a,d,m){const b=a[1],S=function tD(i,o,a){const d=cr();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Of(i,d,o,Hd(i,o,1,null),a));const m=ju(o,i,d.directiveStart,d);kr(m,o);const b=Pr(d,o);return b&&kr(b,o),m}(b,a,o);if(d.components.push(S),i[8]=S,m&&m.forEach(N=>N(S,o)),o.contentQueries){const N=cr();o.contentQueries(1,S,N.directiveStart)}const R=cr();return!b.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Oi(R.index),op(a[1],R,0,R.directiveStart,R.directiveEnd,o),Ob(o,S)),S}(Tn,this.componentDef,Ot,Be,[wD]),ip(lt,Ot,null)}finally{vs()}return new OT(this.componentType,nn,Gl(fn,Ot),Ot,fn)}}class OT extends class DT{}{constructor(o,a,d,m,b){super(),this.location=d,this._rootLView=m,this._tNode=b,this.instance=a,this.hostView=this.changeDetectorRef=new MT(m),this.componentType=o}get injector(){return new Ao(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Qf{}class qm{}const ql=new Map;class PE extends Qf{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new OE(this);const d=Mr(o);this._bootstrapComponents=cs(d.bootstrap),this._r3Injector=Ly(o,a,[{provide:Qf,useValue:this},{provide:Hm,useValue:this.componentFactoryResolver}],he(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=wa.THROW_IF_NOT_FOUND,d=gn.Default){return o===wa||o===Qf||o===cp?this:this._r3Injector.get(o,a,d)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class V_ extends qm{constructor(o){super(),this.moduleType=o,null!==Mr(o)&&function NT(i){const o=new Set;!function a(d){const m=Mr(d,!0),b=m.id;null!==b&&(function L_(i,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${i} - ${he(o)} vs ${he(o.name)}`)}(b,ql.get(b),d),ql.set(b,d));const S=cs(m.imports);for(const R of S)o.has(R)||(o.add(R),a(R))}(i)}(o)}create(o){return new PE(this.moduleType,o)}}function FE(i,o,a,d){return function xp(i,o,a,d,m,b){const S=o+a;return Ss(i,S,m)?function Qu(i,o,a){return i[o]=a}(i,S+1,b?d.call(b,m):d(m)):function Oo(i,o){const a=i[o];return a===dr?void 0:a}(i,S+1)}(dt(),function Zi(){const i=dn.lFrame;let o=i.bindingRootIndex;return-1===o&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o}(),i,o,a,d)}function dh(i){return o=>{setTimeout(i,void 0,o)}}const oc=class ic extends it.xQ{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,d){var m,b,S;let R=o,N=a||(()=>null),K=d;if(o&&"object"==typeof o){const _e=o;R=null===(m=_e.next)||void 0===m?void 0:m.bind(_e),N=null===(b=_e.error)||void 0===b?void 0:b.bind(_e),K=null===(S=_e.complete)||void 0===S?void 0:S.bind(_e)}this.__isAsync&&(N=dh(N),R&&(R=dh(R)),K&&(K=dh(K)));const Z=super.subscribe({next:R,error:N,complete:K});return o instanceof Qe.w&&o.add(Z),Z}};function GT(){return this._results[Ff()]()}class zl{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Ff(),d=zl.prototype;d[a]||(d[a]=GT)}get changes(){return this._changes||(this._changes=new oc)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const d=this;d.dirty=!1;const m=os(o);(this._changesDetected=!function pl(i,o,a){if(i.length!==o.length)return!1;for(let d=0;d<i.length;d++){let m=i[d],b=o[d];if(a&&(m=a(m),b=a(b)),b!==m)return!1}return!0}(d._results,m,a))&&(d._results=m,d.length=m.length,d.last=m[this.length-1],d.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Wl=(()=>{class i{}return i.__NG_ELEMENT_ID__=zT,i})();const GE=Wl,qT=class extends GE{constructor(o,a,d){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=d}createEmbeddedView(o){const a=this._declarationTContainer.tViews,d=jd(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[19];return null!==b&&(d[19]=b.createEmbeddedView(a)),ip(a,d,o),new Rp(d)}};function zT(){return zm(cr(),dt())}function zm(i,o){return 4&i.type?new qT(o,i,Gl(i,o)):null}let Wm=(()=>{class i{}return i.__NG_ELEMENT_ID__=WT,i})();function WT(){return WE(cr(),dt())}const qE=Wm,zE=class extends qE{constructor(o,a,d){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=d}get element(){return Gl(this._hostTNode,this._hostLView)}get injector(){return new Ao(this._hostTNode,this._hostLView)}get parentInjector(){const o=Ks(this._hostTNode,this._hostLView);if(_c(o)){const a=Ni(o,this._hostLView),d=Ps(o);return new Ao(a[1].data[d+8],a)}return new Ao(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Op(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,d){const m=o.createEmbeddedView(a||{});return this.insert(m,d),m}createComponent(o,a,d,m,b){const S=o&&!function uu(i){return"function"==typeof i}(o);let R;if(S)R=a;else{const _e=a||{};R=_e.index,d=_e.injector,m=_e.projectableNodes,b=_e.ngModuleRef}const N=S?o:new F_(qt(o)),K=d||this.parentInjector;if(!b&&null==N.ngModule){const Be=(S?K:this.parentInjector).get(Qf,null);Be&&(b=Be)}const Z=N.create(K,m,void 0,b);return this.insert(Z.hostView,R),Z}insert(o,a){const d=o._lView,m=d[1];if(function P(i){return qn(i[3])}(d)){const Z=this.indexOf(o);if(-1!==Z)this.detach(Z);else{const _e=d[3],Be=new zE(_e,_e[6],_e[3]);Be.detach(Be.indexOf(o))}}const b=this._adjustIndex(a),S=this._lContainer;!function Jv(i,o,a,d){const m=10+d,b=a.length;d>0&&(a[m-1][4]=o),d<b-10?(o[4]=a[m],Tc(a,10+d,o)):(a.push(o),o[4]=null),o[3]=a;const S=o[17];null!==S&&a!==S&&function Zv(i,o){const a=i[9];o[16]!==o[3][3][16]&&(i[2]=!0),null===a?i[9]=[o]:a.push(o)}(S,o);const R=o[19];null!==R&&R.insertView(i),o[2]|=128}(m,d,S,b);const R=kt(b,S),N=d[X],K=p(N,S[7]);return null!==K&&function Qv(i,o,a,d,m,b){d[0]=m,d[6]=o,Cn(i,d,a,1,m,b)}(m,S[6],N,d,K,R),o.attachToViewContainerRef(),Tc(Np(S),b,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Op(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),d=Nd(this._lContainer,a);d&&(ff(Np(this._lContainer),a),ra(d[1],d))}detach(o){const a=this._adjustIndex(o,-1),d=Nd(this._lContainer,a);return d&&null!=ff(Np(this._lContainer),a)?new Rp(d):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function Op(i){return i[8]}function Np(i){return i[8]||(i[8]=[])}function WE(i,o){let a;const d=o[i.index];if(qn(d))a=d;else{let m;if(8&i.type)m=Hn(d);else{const b=o[X];m=b.createComment("");const S=Pr(i,o);Ts(b,p(b,S),m,function y(i,o){return en(i)?i.nextSibling(o):o.nextSibling}(b,S),!1)}o[i.index]=a=Hc(d,o,m,i),Gc(o,a)}return new zE(a,i,o)}class H_{constructor(o){this.queryList=o,this.matches=null}clone(){return new H_(this.queryList)}setDirty(){this.queryList.setDirty()}}class Yl{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const d=null!==o.contentQueries?o.contentQueries[0]:a.length,m=[];for(let b=0;b<d;b++){const S=a.getByIndex(b);m.push(this.queries[S.indexInDeclarationView].clone())}return new Yl(m)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Pp(o,a).matches&&this.queries[a].setDirty()}}class G_{constructor(o,a,d=null){this.predicate=o,this.flags=a,this.read=d}}class hh{constructor(o=[]){this.queries=o}elementStart(o,a){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let d=0;d<this.length;d++){const m=null!==a?a.length:0,b=this.getByIndex(d).embeddedTView(o,m);b&&(b.indexInDeclarationView=d,null!==a?a.push(b):a=[b])}return null!==a?new hh(a):null}template(o,a){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class q_{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new q_(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==a;)d=d.parent;return a===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const d=this.metadata.predicate;if(Array.isArray(d))for(let m=0;m<d.length;m++){const b=d[m];this.matchTNodeWithReadOption(o,a,KT(a,b)),this.matchTNodeWithReadOption(o,a,Cc(a,o,b,!1,!1))}else d===Wl?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Cc(a,o,d,!1,!1))}matchTNodeWithReadOption(o,a,d){if(null!==d){const m=this.metadata.read;if(null!==m)if(m===fh||m===Wm||m===Wl&&4&a.type)this.addMatch(a.index,-2);else{const b=Cc(a,o,m,!1,!1);null!==b&&this.addMatch(a.index,b)}else this.addMatch(a.index,d)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function KT(i,o){const a=i.localNames;if(null!==a)for(let d=0;d<a.length;d+=2)if(a[d]===o)return a[d+1];return null}function XE(i,o,a,d){return-1===a?function KE(i,o){return 11&i.type?Gl(i,o):4&i.type?zm(i,o):null}(o,i):-2===a?function XT(i,o,a){return a===fh?Gl(o,i):a===Wl?zm(o,i):a===Wm?WE(o,i):void 0}(i,o,d):ju(i,i[1],a,o)}function QE(i,o,a,d){const m=o[19].queries[d];if(null===m.matches){const b=i.data,S=a.matches,R=[];for(let N=0;N<S.length;N+=2){const K=S[N];R.push(K<0?null:XE(o,b[K],S[N+1],a.metadata.read))}m.matches=R}return m.matches}function z_(i,o,a,d){const m=i.queries.getByIndex(a),b=m.matches;if(null!==b){const S=QE(i,o,m,a);for(let R=0;R<b.length;R+=2){const N=b[R];if(N>0)d.push(S[R/2]);else{const K=b[R+1],Z=o[-N];for(let _e=10;_e<Z.length;_e++){const Be=Z[_e];Be[17]===Be[3]&&z_(Be[1],Be,K,d)}if(null!==Z[9]){const _e=Z[9];for(let Be=0;Be<_e.length;Be++){const lt=_e[Be];z_(lt[1],lt,K,d)}}}}}return d}function JE(i){const o=dt(),a=Jt(),d=Nu();Ra(d+1);const m=Pp(a,d);if(i.dirty&&z(o)===(2==(2&m.metadata.flags))){if(null===m.matches)i.reset([]);else{const b=m.crossesNgTemplate?z_(a,o,d,[]):QE(a,o,m,d);i.reset(b,RE),i.notifyOnChanges()}return!0}return!1}function W_(i,o,a){const d=Jt();d.firstCreatePass&&(Y_(d,new G_(i,o,a),-1),2==(2&o)&&(d.staticViewQueries=!0)),tC(d,dt(),o)}function Ym(i,o,a,d){const m=Jt();if(m.firstCreatePass){const b=cr();Y_(m,new G_(o,a,d),b.index),function QT(i,o){const a=i.contentQueries||(i.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,o)}(m,i),2==(2&a)&&(m.staticContentQueries=!0)}tC(m,dt(),a)}function ZE(){return function eC(i,o){return i[19].queries[o].queryList}(dt(),Nu())}function tC(i,o,a){const d=new zl(4==(4&a));qg(i,o,d,d.destroy),null===o[19]&&(o[19]=new Yl),o[19].queries.push(new H_(d))}function Y_(i,o,a){null===i.queries&&(i.queries=new hh),i.queries.track(new q_(o,a))}function Pp(i,o){return i.queries.getByIndex(o)}function Up(...i){}const pC=new ee("Application Initializer");let s0=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Up,this.reject=Up,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,m)=>{this.resolve=d,this.reject=m})}runInitializers(){if(this.initialized)return;const a=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const b=this.appInits[m]();if(nc(b))a.push(b);else if(r_(b)){const S=new Promise((R,N)=>{b.subscribe({complete:R,error:N})});a.push(S)}}Promise.all(a).then(()=>{d()}).catch(m=>{this.reject(m)}),0===a.length&&d(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Ei(pC,8))},i.\u0275prov=nr({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const gC=new ee("AppId",{providedIn:"root",factory:function mC(){return`${a0()}${a0()}${a0()}`}});function a0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vC=new ee("Platform Initializer"),yC=new ee("Platform ID"),_C=new ee("appBootstrapListener");let u0=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=nr({token:i,factory:i.\u0275fac}),i})();const Qm=new ee("LocaleId",{providedIn:"root",factory:()=>vd(Qm,gn.Optional|gn.SkipSelf)||function uS(){return"undefined"!=typeof $localize&&$localize.locale||Rm}()}),c0=new ee("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class lS{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let fS=(()=>{class i{compileModuleSync(a){return new V_(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const d=this.compileModuleSync(a),b=cs(Mr(a).declarations).reduce((S,R)=>{const N=qt(R);return N&&S.push(new F_(N)),S},[]);return new lS(d,b)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=nr({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const dS=(()=>Promise.resolve(0))();function Jm(i){"undefined"==typeof Zone?dS.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class aa{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new oc(!1),this.onMicrotaskEmpty=new oc(!1),this.onStable=new oc(!1),this.onError=new oc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!d&&a,m.shouldCoalesceRunChangeDetection=d,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function hS(){let i=ce.requestAnimationFrame,o=ce.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&o){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function ev(i){const o=()=>{!function pS(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(ce,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,l0(i),i.isCheckStableRunning=!0,Zm(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),l0(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,d,m,b,S,R)=>{try{return CC(i),a.invokeTask(m,b,S,R)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===b.type||i.shouldCoalesceRunChangeDetection)&&o(),IC(i)}},onInvoke:(a,d,m,b,S,R,N)=>{try{return CC(i),a.invoke(m,b,S,R,N)}finally{i.shouldCoalesceRunChangeDetection&&o(),IC(i)}},onHasTask:(a,d,m,b)=>{a.hasTask(m,b),d===m&&("microTask"==b.change?(i._hasPendingMicrotasks=b.microTask,l0(i),Zm(i)):"macroTask"==b.change&&(i.hasPendingMacrotasks=b.macroTask))},onHandleError:(a,d,m,b)=>(a.handleError(m,b),i.runOutsideAngular(()=>i.onError.emit(b)),!1)})}(m)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!aa.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(aa.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,d){return this._inner.run(o,a,d)}runTask(o,a,d,m){const b=this._inner,S=b.scheduleEventTask("NgZoneEvent: "+m,o,Kl,Up,Up);try{return b.runTask(S,a,d)}finally{b.cancelTask(S)}}runGuarded(o,a,d){return this._inner.runGuarded(o,a,d)}runOutsideAngular(o){return this._outer.run(o)}}const Kl={};function Zm(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function l0(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function CC(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function IC(i){i._nesting--,Zm(i)}class gS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new oc,this.onMicrotaskEmpty=new oc,this.onStable=new oc,this.onError=new oc}run(o,a,d){return o.apply(a,d)}runGuarded(o,a,d){return o.apply(a,d)}runOutsideAngular(o){return o()}runTask(o,a,d,m){return o.apply(a,d)}}let DC=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{aa.assertNotInAngularZone(),Jm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Jm(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(a)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,d,m){let b=-1;d&&d>0&&(b=setTimeout(()=>{this._callbacks=this._callbacks.filter(S=>S.timeoutId!==b),a(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:a,timeoutId:b,updateCb:m})}whenStable(a,d,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,d,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,d,m){return[]}}return i.\u0275fac=function(a){return new(a||i)(Ei(aa))},i.\u0275prov=nr({token:i,factory:i.\u0275fac}),i})(),tv=(()=>{class i{constructor(){this._applications=new Map,jp.addToWindow(this)}registerApplication(a,d){this._applications.set(a,d)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,d=!0){return jp.findTestabilityInTree(this,a,d)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=nr({token:i,factory:i.\u0275fac}),i})();class TC{addToWindow(o){}findTestabilityInTree(o,a,d){return null}}function nv(i){jp=i}let Du,jp=new TC;const f0=new ee("AllowMultipleToken");class yS{constructor(o,a){this.name=o,this.token=a}}function SC(i,o,a=[]){const d=`Platform: ${o}`,m=new ee(d);return(b=[])=>{let S=mh();if(!S||S.injector.get(f0,!1))if(i)i(a.concat(b).concat({provide:m,useValue:!0}));else{const R=a.concat(b).concat({provide:m,useValue:!0},{provide:Ny,useValue:"platform"});!function _S(i){if(Du&&!Du.destroyed&&!Du.injector.get(f0,!1))throw new Ke(400,"");Du=i.get(d0);const o=i.get(vC,null);o&&o.forEach(a=>a())}(wa.create({providers:R,name:d}))}return function bS(i){const o=mh();if(!o)throw new Ke(401,"");return o}()}}function mh(){return Du&&!Du.destroyed?Du:null}let d0=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,d){const R=function wS(i,o){let a;return a="noop"===i?new gS:("zone.js"===i?void 0:i)||new aa({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),N=[{provide:aa,useValue:R}];return R.run(()=>{const K=wa.create({providers:N,parent:this.injector,name:a.moduleType.name}),Z=a.create(K),_e=Z.injector.get(Rd,null);if(!_e)throw new Ke(402,"");return R.runOutsideAngular(()=>{const Be=R.onError.subscribe({next:lt=>{_e.handleError(lt)}});Z.onDestroy(()=>{p0(this._modules,Z),Be.unsubscribe()})}),function AC(i,o,a){try{const d=a();return nc(d)?d.catch(m=>{throw o.runOutsideAngular(()=>i.handleError(m)),m}):d}catch(d){throw o.runOutsideAngular(()=>i.handleError(d)),d}}(_e,R,()=>{const Be=Z.injector.get(s0);return Be.runInitializers(),Be.donePromise.then(()=>(function QD(i){mn(i,"Expected localeId to be defined"),"string"==typeof i&&(Om=i.toLowerCase().replace(/_/g,"-"))}(Z.injector.get(Qm,Rm)||Rm),this._moduleDoBootstrap(Z),Z))})})}bootstrapModule(a,d=[]){const m=MC({},d);return function mS(i,o,a){const d=new V_(a);return Promise.resolve(d)}(0,0,a).then(b=>this.bootstrapModuleFactory(b,m))}_moduleDoBootstrap(a){const d=a.injector.get(h0);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(m=>d.bootstrap(m));else{if(!a.instance.ngDoBootstrap)throw new Ke(403,"");a.instance.ngDoBootstrap(d)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ke(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Ei(wa))},i.\u0275prov=nr({token:i,factory:i.\u0275fac}),i})();function MC(i,o){return Array.isArray(o)?o.reduce(MC,i):Object.assign(Object.assign({},i),o)}let h0=(()=>{class i{constructor(a,d,m,b,S){this._zone=a,this._injector=d,this._exceptionHandler=m,this._componentFactoryResolver=b,this._initStatus=S,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const R=new g.y(K=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{K.next(this._stable),K.complete()})}),N=new g.y(K=>{let Z;this._zone.runOutsideAngular(()=>{Z=this._zone.onStable.subscribe(()=>{aa.assertNotInAngularZone(),Jm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,K.next(!0))})})});const _e=this._zone.onUnstable.subscribe(()=>{aa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{K.next(!1)}))});return()=>{Z.unsubscribe(),_e.unsubscribe()}});this.isStable=function nt(...i){let o=Number.POSITIVE_INFINITY,a=null,d=i[i.length-1];return(0,Ae.K)(d)?(a=i.pop(),i.length>1&&"number"==typeof i[i.length-1]&&(o=i.pop())):"number"==typeof d&&(o=i.pop()),null===a&&1===i.length&&i[0]instanceof g.y?i[0]:(0,$.J)(o)((0,je.n)(i,a))}(R,N.pipe(function ae(){return i=>(0,Ee.x)()(function ke(i,o){return function(d){let m;if(m="function"==typeof i?i:function(){return i},"function"==typeof o)return d.lift(new fe(m,o));const b=Object.create(d,yt.N);return b.source=d,b.subjectFactory=m,b}}(ve)(i))}()))}bootstrap(a,d){if(!this._initStatus.done)throw new Ke(405,"");let m;m=a instanceof Xf?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(m.componentType);const b=function vS(i){return i.isBoundToModule}(m)?void 0:this._injector.get(Qf),R=m.create(wa.NULL,[],d||m.selector,b),N=R.location.nativeElement,K=R.injector.get(DC,null),Z=K&&R.injector.get(tv);return K&&Z&&Z.registerApplication(N,K),R.onDestroy(()=>{this.detachView(R.hostView),p0(this.components,R),Z&&Z.unregisterApplication(N)}),this._loadComponent(R),R}tick(){if(this._runningTick)throw new Ke(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const d=a;this._views.push(d),d.attachToAppRef(this)}detachView(a){const d=a;p0(this._views,d),d.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(_C,[]).concat(this._bootstrapListeners).forEach(m=>m(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(Ei(aa),Ei(wa),Ei(Rd),Ei(Hm),Ei(s0))},i.\u0275prov=nr({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function p0(i,o){const a=i.indexOf(o);a>-1&&i.splice(a,1)}let RC=!0;function CS(){RC=!1}let fs=(()=>{class i{}return i.__NG_ELEMENT_ID__=rv,i})();function rv(i){return function IS(i,o,a){if(Jr(i)&&!a){const d=Fr(i.index,o);return new Rp(d,d)}return 47&i.type?new Rp(o[16],o):null}(cr(),dt(),16==(16&i))}class b0{constructor(){}supports(o){return Ll(o)}create(o){return new RS(o)}}const MS=(i,o)=>o;class RS{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||MS}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,d=this._removalsHead,m=0,b=null;for(;a||d;){const S=!d||a&&a.currentIndex<Ka(d,m,b)?a:d,R=Ka(S,m,b),N=S.currentIndex;if(S===d)m--,d=d._nextRemoved;else if(a=a._next,null==S.previousIndex)m++;else{b||(b=[]);const K=R-m,Z=N-m;if(K!=Z){for(let Be=0;Be<K;Be++){const lt=Be<b.length?b[Be]:b[Be]=0,Ot=lt+Be;Z<=Ot&&Ot<K&&(b[Be]=lt+1)}b[S.previousIndex]=Z-K}}R!==N&&o(S,R,N)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Ll(o))throw new Ke(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let m,b,S,a=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let R=0;R<this.length;R++)b=o[R],S=this._trackByFn(R,b),null!==a&&Object.is(a.trackById,S)?(d&&(a=this._verifyReinsertion(a,b,S,R)),Object.is(a.item,b)||this._addIdentityChange(a,b)):(a=this._mismatch(a,b,S,R),d=!0),a=a._next}else m=0,function iw(i,o){if(Array.isArray(i))for(let a=0;a<i.length;a++)o(i[a]);else{const a=i[Ff()]();let d;for(;!(d=a.next()).done;)o(d.value)}}(o,R=>{S=this._trackByFn(m,R),null!==a&&Object.is(a.trackById,S)?(d&&(a=this._verifyReinsertion(a,R,S,m)),Object.is(a.item,R)||this._addIdentityChange(a,R)):(a=this._mismatch(a,R,S,m),d=!0),a=a._next,m++}),this.length=m;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,d,m){let b;return null===o?b=this._itTail:(b=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,b,m)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,m))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,b,m)):o=this._addAfter(new xS(a,d),b,m),o}_verifyReinsertion(o,a,d,m){let b=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==b?o=this._reinsertAfter(b,o._prev,m):o.currentIndex!=m&&(o.currentIndex=m,this._addToMoves(o,m)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const m=o._prevRemoved,b=o._nextRemoved;return null===m?this._removalsHead=b:m._nextRemoved=b,null===b?this._removalsTail=m:b._prevRemoved=m,this._insertAfter(o,a,d),this._addToMoves(o,d),o}_moveAfter(o,a,d){return this._unlink(o),this._insertAfter(o,a,d),this._addToMoves(o,d),o}_addAfter(o,a,d){return this._insertAfter(o,a,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,d){const m=null===a?this._itHead:a._next;return o._next=m,o._prev=a,null===m?this._itTail=o:m._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new NC),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,d=o._next;return null===a?this._itHead=d:a._next=d,null===d?this._itTail=a:d._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new NC),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class xS{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class kS{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===a||a<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const a=o._prevDup,d=o._nextDup;return null===a?this._head=d:a._nextDup=d,null===d?this._tail=a:d._prevDup=a,null===this._head}}class NC{constructor(){this.map=new Map}put(o){const a=o.trackById;let d=this.map.get(a);d||(d=new kS,this.map.set(a,d)),d.add(o)}get(o,a){const m=this.map.get(o);return m?m.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ka(i,o,a){const d=i.previousIndex;if(null===d)return d;let m=0;return a&&d<a.length&&(m=a[d]),d+o+m}class $p{constructor(){}supports(o){return o instanceof Map||om(o)}create(){return new PC}}class PC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||om(o)))throw new Ke(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,m)=>{if(a&&a.key===m)this._maybeAddToChanges(a,d),this._appendAfter=a,a=a._next;else{const b=this._getOrCreateRecordForKey(m,d);a=this._insertBeforeOrAppend(a,b)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let d=a;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const d=o._prev;return a._next=o,a._prev=d,o._prev=a,d&&(d._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const m=this._records.get(o);this._maybeAddToChanges(m,a);const b=m._prev,S=m._next;return b&&(b._next=S),S&&(S._prev=b),m._next=null,m._prev=null,m}const d=new Hp(o);return this._records.set(o,d),d.currentValue=a,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(d=>a(o[d],d))}}class Hp{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sv(){return new av([new b0])}let av=(()=>{class i{constructor(a){this.factories=a}static create(a,d){if(null!=d){const m=d.factories.slice();a=a.concat(m)}return new i(a)}static extend(a){return{provide:i,useFactory:d=>i.create(a,d||sv()),deps:[[i,new Ba,new ws]]}}find(a){const d=this.factories.find(m=>m.supports(a));if(null!=d)return d;throw new Ke(901,"")}}return i.\u0275prov=nr({token:i,providedIn:"root",factory:sv}),i})();function Gp(){return new FC([new $p])}let FC=(()=>{class i{constructor(a){this.factories=a}static create(a,d){if(d){const m=d.factories.slice();a=a.concat(m)}return new i(a)}static extend(a){return{provide:i,useFactory:d=>i.create(a,d||Gp()),deps:[[i,new Ba,new ws]]}}find(a){const d=this.factories.find(b=>b.supports(a));if(d)return d;throw new Ke(901,"")}}return i.\u0275prov=nr({token:i,providedIn:"root",factory:Gp}),i})();const NS=SC(null,"core",[{provide:yC,useValue:"unknown"},{provide:d0,deps:[wa]},{provide:tv,deps:[]},{provide:u0,deps:[]}]);let LC=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Ei(h0))},i.\u0275mod=hr({type:i}),i.\u0275inj=_n({}),i})()},4182:(Sn,Lt,de)=>{"use strict";de.d(Lt,{u5:()=>Pr,JU:()=>ve,a5:()=>rr});var g=de(2096),$=(de(9808),de(2916)),je=de(6688),nt=de(4850),it=de(7830),Qe=de(5254);function ke(z,L){return new $.y(P=>{const ne=z.length;if(0===ne)return void P.complete();const Rt=new Array(ne);let En=0,dn=0;for(let C=0;C<ne;C++){const G=(0,Qe.D)(z[C]);let E=!1;P.add(G.subscribe({next:U=>{E||(E=!0,dn++),Rt[C]=U},error:U=>P.error(U),complete:()=>{En++,(En===ne||!E)&&(dn===ne&&P.next(L?L.reduce((U,oe,Ct)=>(U[oe]=Rt[Ct],U),{}):Rt),P.complete())}}))}})}const ve=new g.OlP("NgValueAccessor");function Yt(z){return null!=z}function pt(z){const L=(0,g.QGY)(z)?(0,Qe.D)(z):z;return(0,g.CqO)(L),L}function ot(z){let L={};return z.forEach(P=>{L=null!=P?Object.assign(Object.assign({},L),P):L}),0===Object.keys(L).length?null:L}function ht(z,L){return L.map(P=>P(z))}function Je(z){return z.map(L=>function st(z){return!z.validate}(L)?L:P=>L.validate(P))}function vt(z){return null!=z?function ft(z){if(!z)return null;const L=z.filter(Yt);return 0==L.length?null:function(P){return ot(ht(P,L))}}(Je(z)):null}function Xe(z){return null!=z?function Vt(z){if(!z)return null;const L=z.filter(Yt);return 0==L.length?null:function(P){return function yt(...z){if(1===z.length){const L=z[0];if((0,je.k)(L))return ke(L,null);if((0,it.K)(L)&&Object.getPrototypeOf(L)===Object.prototype){const P=Object.keys(L);return ke(P.map(ne=>L[ne]),P)}}if("function"==typeof z[z.length-1]){const L=z.pop();return ke(z=1===z.length&&(0,je.k)(z[0])?z[0]:z,null).pipe((0,nt.U)(P=>L(...P)))}return ke(z,null)}(ht(P,L).map(pt)).pipe((0,nt.U)(ot))}}(Je(z)):null}class rr extends class _n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(L){this._rawValidators=L||[],this._composedValidatorFn=vt(this._rawValidators)}_setAsyncValidators(L){this._rawAsyncValidators=L||[],this._composedAsyncValidatorFn=Xe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(L){this._onDestroyCallbacks.push(L)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(L=>L()),this._onDestroyCallbacks=[]}reset(L){this.control&&this.control.reset(L)}hasError(L,P){return!!this.control&&this.control.hasError(L,P)}getError(L,P){return this.control?this.control.getError(L,P):null}}{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let qr=(()=>{class z{}return z.\u0275fac=function(P){return new(P||z)},z.\u0275mod=g.oAB({type:z}),z.\u0275inj=g.cJS({}),z})(),gr=(()=>{class z{}return z.\u0275fac=function(P){return new(P||z)},z.\u0275mod=g.oAB({type:z}),z.\u0275inj=g.cJS({imports:[[qr]]}),z})(),Pr=(()=>{class z{}return z.\u0275fac=function(P){return new(P||z)},z.\u0275mod=g.oAB({type:z}),z.\u0275inj=g.cJS({imports:[gr]}),z})()},501:(Sn,Lt,de)=>{"use strict";de.d(Lt,{gz:()=>Bi,y6:()=>P,OD:()=>tt,eC:()=>V,wm:()=>Uu,wN:()=>ul,F0:()=>Ni,rH:()=>af,Bz:()=>Ah,Hx:()=>ie});var g=de(2096),Ae=de(2866),$=de(3009),je=de(6454);function nt(...x){let M=x[x.length-1];return(0,Ae.K)(M)?(x.pop(),(0,je.r)(x,M)):(0,$.n)(x)}var it=de(6688),Qe=de(3489);class yt extends Qe.L{notifyNext(M,T,F,W,ee){this.destination.next(T)}notifyError(M,T){this.destination.error(M)}notifyComplete(M){this.destination.complete()}}class ke extends Qe.L{constructor(M,T,F){super(),this.parent=M,this.outerValue=T,this.outerIndex=F,this.index=0}_next(M){this.parent.notifyNext(this.outerValue,M,this.outerIndex,this.index++,this)}_error(M){this.parent.notifyError(M,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var fe=de(9249),Ee=de(2916);function ve(x,M,T,F,W=new ke(x,T,F)){if(!W.closed)return M instanceof Ee.y?M.subscribe(W):(0,fe.s)(M)(W)}const ae={};class qe{constructor(M){this.resultSelector=M}call(M,T){return T.subscribe(new he(M,this.resultSelector))}}class he extends yt{constructor(M,T){super(M),this.resultSelector=T,this.active=0,this.values=[],this.observables=[]}_next(M){this.values.push(ae),this.observables.push(M)}_complete(){const M=this.observables,T=M.length;if(0===T)this.destination.complete();else{this.active=T,this.toRespond=T;for(let F=0;F<T;F++)this.add(ve(this,M[F],void 0,F))}}notifyComplete(M){0==(this.active-=1)&&this.destination.complete()}notifyNext(M,T,F){const W=this.values,Ce=this.toRespond?W[F]===ae?--this.toRespond:this.toRespond:0;W[F]=T,0===Ce&&(this.resultSelector?this._tryResultSelector(W):this.destination.next(W.slice()))}_tryResultSelector(M){let T;try{T=this.resultSelector.apply(this,M)}catch(F){return void this.destination.error(F)}this.destination.next(T)}}function Me(x,M){return new Ee.y(M?T=>M.schedule(Ve,0,{error:x,subscriber:T}):T=>T.error(x))}function Ve({error:x,subscriber:M}){M.error(x)}const et=(()=>{function x(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return x.prototype=Object.create(Error.prototype),x})();var bt=de(9146);function Ke(...x){return function Pe(){return(0,bt.J)(1)}()(nt(...x))}var Pt=de(5254);const at=new Ee.y(x=>x.complete());function Ft(x){return x?function We(x){return new Ee.y(M=>x.schedule(()=>M.complete()))}(x):at}function Ge(x){return new Ee.y(M=>{let T;try{T=x()}catch(W){return void M.error(W)}return(T?(0,Pt.D)(T):Ft()).subscribe(M)})}var Re=de(591),Ie=de(1762),Ue=de(5529);const Gt=(()=>{function x(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return x.prototype=Object.create(Error.prototype),x})();function Yt(x){return M=>0===x?Ft():M.lift(new pt(x))}class pt{constructor(M){if(this.total=M,this.total<0)throw new Gt}call(M,T){return T.subscribe(new ot(M,this.total))}}class ot extends Qe.L{constructor(M,T){super(M),this.total=T,this.count=0}_next(M){const T=this.total,F=++this.count;F<=T&&(this.destination.next(M),F===T&&(this.destination.complete(),this.unsubscribe()))}}function st(x,M){let T=!1;return arguments.length>=2&&(T=!0),function(W){return W.lift(new Je(x,M,T))}}class Je{constructor(M,T,F=!1){this.accumulator=M,this.seed=T,this.hasSeed=F}call(M,T){return T.subscribe(new ft(M,this.accumulator,this.seed,this.hasSeed))}}class ft extends Qe.L{constructor(M,T,F,W){super(M),this.accumulator=T,this._seed=F,this.hasSeed=W,this.index=0}get seed(){return this._seed}set seed(M){this.hasSeed=!0,this._seed=M}_next(M){if(this.hasSeed)return this._tryNext(M);this.seed=M,this.destination.next(M)}_tryNext(M){const T=this.index++;let F;try{F=this.accumulator(this.seed,M,T)}catch(W){this.destination.error(W)}this.seed=F,this.destination.next(F)}}var vt=de(1177);function Vt(x){return function(T){const F=new Xe(x),W=T.lift(F);return F.caught=W}}class Xe{constructor(M){this.selector=M}call(M,T){return T.subscribe(new mn(M,this.selector,this.caught))}}class mn extends vt.Ds{constructor(M,T,F){super(M),this.selector=T,this.caught=F}error(M){if(!this.isStopped){let T;try{T=this.selector(M,this.caught)}catch(ee){return void super.error(ee)}this._unsubscribeAndRecycle();const F=new vt.IY(this);this.add(F);const W=(0,vt.ft)(T,F);W!==F&&this.add(W)}}}var Zt=de(1709);function Vn(x,M){return(0,Zt.zg)(x,M,1)}var In=de(2198);function Un(x){return function(T){return 0===x?Ft():T.lift(new nr(x))}}class nr{constructor(M){if(this.total=M,this.total<0)throw new Gt}call(M,T){return T.subscribe(new Pn(M,this.total))}}class Pn extends Qe.L{constructor(M,T){super(M),this.total=T,this.ring=new Array,this.count=0}_next(M){const T=this.ring,F=this.total,W=this.count++;T.length<F?T.push(M):T[W%F]=M}_complete(){const M=this.destination;let T=this.count;if(T>0){const F=this.count>=this.total?this.total:this.count,W=this.ring;for(let ee=0;ee<F;ee++){const Ce=T++%F;M.next(W[Ce])}}M.complete()}}function _n(x=lr){return M=>M.lift(new rr(x))}class rr{constructor(M){this.errorFactory=M}call(M,T){return T.subscribe(new Kn(M,this.errorFactory))}}class Kn extends Qe.L{constructor(M,T){super(M),this.errorFactory=T,this.hasValue=!1}_next(M){this.hasValue=!0,this.destination.next(M)}_complete(){if(this.hasValue)return this.destination.complete();{let M;try{M=this.errorFactory()}catch(T){M=T}this.destination.error(M)}}}function lr(){return new et}function Dr(x=null){return M=>M.lift(new or(x))}class or{constructor(M){this.defaultValue=M}call(M,T){return T.subscribe(new Hr(M,this.defaultValue))}}class Hr extends Qe.L{constructor(M,T){super(M),this.defaultValue=T,this.isEmpty=!0}_next(M){this.isEmpty=!1,this.destination.next(M)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var gi=de(5379);function mi(x,M){const T=arguments.length>=2;return F=>F.pipe(x?(0,In.h)((W,ee)=>x(W,ee,F)):gi.y,Yt(1),T?Dr(M):_n(()=>new et))}function gn(){}var An=de(7043);function Wn(x,M,T){return function(W){return W.lift(new wt(x,M,T))}}class wt{constructor(M,T,F){this.nextOrObserver=M,this.error=T,this.complete=F}call(M,T){return T.subscribe(new Mn(M,this.nextOrObserver,this.error,this.complete))}}class Mn extends Qe.L{constructor(M,T,F,W){super(M),this._tapNext=gn,this._tapError=gn,this._tapComplete=gn,this._tapError=F||gn,this._tapComplete=W||gn,(0,An.m)(T)?(this._context=this,this._tapNext=T):T&&(this._context=T,this._tapNext=T.next||gn,this._tapError=T.error||gn,this._tapComplete=T.complete||gn)}_next(M){try{this._tapNext.call(this._context,M)}catch(T){return void this.destination.error(T)}this.destination.next(M)}_error(M){try{this._tapError.call(this._context,M)}catch(T){return void this.destination.error(T)}this.destination.error(M)}_complete(){try{this._tapComplete.call(this._context)}catch(M){return void this.destination.error(M)}return this.destination.complete()}}var Gi=de(2654);class ur{constructor(M){this.callback=M}call(M,T){return T.subscribe(new Wi(M,this.callback))}}class Wi extends Qe.L{constructor(M,T){super(M),this.add(new Gi.w(T))}}var er=de(4850),Yr=de(7545),Sr=de(4327),xe=de(9808);class De{constructor(M,T){this.id=M,this.url=T}}class tt extends De{constructor(M,T,F="imperative",W=null){super(M,T),this.navigationTrigger=F,this.restoredState=W}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ce extends De{constructor(M,T,F){super(M,T),this.urlAfterRedirects=F}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ge extends De{constructor(M,T,F){super(M,T),this.reason=F}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $e extends De{constructor(M,T,F){super(M,T),this.error=F}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ct extends De{constructor(M,T,F,W){super(M,T),this.urlAfterRedirects=F,this.state=W}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Et extends De{constructor(M,T,F,W){super(M,T),this.urlAfterRedirects=F,this.state=W}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bt extends De{constructor(M,T,F,W,ee){super(M,T),this.urlAfterRedirects=F,this.state=W,this.shouldActivate=ee}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class sn extends De{constructor(M,T,F,W){super(M,T),this.urlAfterRedirects=F,this.state=W}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kn extends De{constructor(M,T,F,W){super(M,T),this.urlAfterRedirects=F,this.state=W}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xn{constructor(M){this.route=M}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jn{constructor(M){this.route=M}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ar{constructor(M){this.snapshot=M}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ai{constructor(M){this.snapshot=M}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vi{constructor(M){this.snapshot=M}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rn{constructor(M){this.snapshot=M}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ii{constructor(M,T,F){this.routerEvent=M,this.position=T,this.anchor=F}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const V="primary";class un{constructor(M){this.params=M||{}}has(M){return Object.prototype.hasOwnProperty.call(this.params,M)}get(M){if(this.has(M)){const T=this.params[M];return Array.isArray(T)?T[0]:T}return null}getAll(M){if(this.has(M)){const T=this.params[M];return Array.isArray(T)?T:[T]}return[]}get keys(){return Object.keys(this.params)}}function hr(x){return new un(x)}const yi="ngNavigationCancelingError";function oo(x){const M=Error("NavigationCancelingError: "+x);return M[yi]=!0,M}function Wo(x,M,T){const F=T.path.split("/");if(F.length>x.length||"full"===T.pathMatch&&(M.hasChildren()||F.length<x.length))return null;const W={};for(let ee=0;ee<F.length;ee++){const Ce=F[ee],He=x[ee];if(Ce.startsWith(":"))W[Ce.substring(1)]=He;else if(Ce!==He.path)return null}return{consumed:x.slice(0,F.length),posParams:W}}function Nr(x,M){const T=x?Object.keys(x):void 0,F=M?Object.keys(M):void 0;if(!T||!F||T.length!=F.length)return!1;let W;for(let ee=0;ee<T.length;ee++)if(W=T[ee],!vn(x[W],M[W]))return!1;return!0}function vn(x,M){if(Array.isArray(x)&&Array.isArray(M)){if(x.length!==M.length)return!1;const T=[...x].sort(),F=[...M].sort();return T.every((W,ee)=>F[ee]===W)}return x===M}function Mr(x){return Array.prototype.concat.apply([],x)}function Br(x){return x.length>0?x[x.length-1]:null}function Tr(x,M){for(const T in x)x.hasOwnProperty(T)&&M(x[T],T)}function yr(x){return(0,g.CqO)(x)?x:(0,g.QGY)(x)?(0,Pt.D)(Promise.resolve(x)):nt(x)}const Qr={exact:function yn(x,M,T){if(!X(x.segments,M.segments)||!Er(x.segments,M.segments,T)||x.numberOfChildren!==M.numberOfChildren)return!1;for(const F in M.children)if(!x.children[F]||!yn(x.children[F],M.children[F],T))return!1;return!0},subset:ni},Ki={exact:function Qt(x,M){return Nr(x,M)},subset:function sr(x,M){return Object.keys(M).length<=Object.keys(x).length&&Object.keys(M).every(T=>vn(x[T],M[T]))},ignored:()=>!0};function ir(x,M,T){return Qr[T.paths](x.root,M.root,T.matrixParams)&&Ki[T.queryParams](x.queryParams,M.queryParams)&&!("exact"===T.fragment&&x.fragment!==M.fragment)}function ni(x,M,T){return xi(x,M,M.segments,T)}function xi(x,M,T,F){if(x.segments.length>T.length){const W=x.segments.slice(0,T.length);return!(!X(W,T)||M.hasChildren()||!Er(W,T,F))}if(x.segments.length===T.length){if(!X(x.segments,T)||!Er(x.segments,T,F))return!1;for(const W in M.children)if(!x.children[W]||!ni(x.children[W],M.children[W],F))return!1;return!0}{const W=T.slice(0,x.segments.length),ee=T.slice(x.segments.length);return!!(X(x.segments,W)&&Er(x.segments,W,F)&&x.children[V])&&xi(x.children[V],M,ee,F)}}function Er(x,M,T){return M.every((F,W)=>Ki[T](x[W].parameters,F.parameters))}class Fn{constructor(M,T,F){this.root=M,this.queryParams=T,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hr(this.queryParams)),this._queryParamMap}toString(){return Ne.serialize(this)}}class $t{constructor(M,T){this.segments=M,this.children=T,this.parent=null,Tr(T,(F,W)=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Oe(this)}}class Rn{constructor(M,T){this.path=M,this.parameters=T}get parameterMap(){return this._parameterMap||(this._parameterMap=hr(this.parameters)),this._parameterMap}toString(){return qn(this)}}function X(x,M){return x.length===M.length&&x.every((T,F)=>T.path===M[F].path)}class ie{}class we{parse(M){const T=new la(M);return new Fn(T.parseRootSegment(),T.parseQueryParams(),T.parseFragment())}serialize(M){const T=`/${Ze(M.root,!0)}`,F=function Jr(x){const M=Object.keys(x).map(T=>{const F=x[T];return Array.isArray(F)?F.map(W=>`${St(T)}=${St(W)}`).join("&"):`${St(T)}=${St(F)}`}).filter(T=>!!T);return M.length?`?${M.join("&")}`:""}(M.queryParams);return`${T}${F}${"string"==typeof M.fragment?`#${function At(x){return encodeURI(x)}(M.fragment)}`:""}`}}const Ne=new we;function Oe(x){return x.segments.map(M=>qn(M)).join("/")}function Ze(x,M){if(!x.hasChildren())return Oe(x);if(M){const T=x.children[V]?Ze(x.children[V],!1):"",F=[];return Tr(x.children,(W,ee)=>{ee!==V&&F.push(`${ee}:${Ze(W,!1)}`)}),F.length>0?`${T}(${F.join("//")})`:T}{const T=function me(x,M){let T=[];return Tr(x.children,(F,W)=>{W===V&&(T=T.concat(M(F,W)))}),Tr(x.children,(F,W)=>{W!==V&&(T=T.concat(M(F,W)))}),T}(x,(F,W)=>W===V?[Ze(x.children[V],!1)]:[`${W}:${Ze(F,!1)}`]);return 1===Object.keys(x.children).length&&null!=x.children[V]?`${Oe(x)}/${T[0]}`:`${Oe(x)}/(${T.join("//")})`}}function It(x){return encodeURIComponent(x).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function St(x){return It(x).replace(/%3B/gi,";")}function tn(x){return It(x).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wn(x){return decodeURIComponent(x)}function Ln(x){return wn(x.replace(/\+/g,"%20"))}function qn(x){return`${tn(x.path)}${function ri(x){return Object.keys(x).map(M=>`;${tn(M)}=${tn(x[M])}`).join("")}(x.parameters)}`}const ki=/^[^\/()?;=#]+/;function qr(x){const M=x.match(ki);return M?M[0]:""}const ca=/^[^=?&#]+/,ps=/^[^&#]+/;class la{constructor(M){this.url=M,this.remaining=M}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $t([],{}):new $t([],this.parseChildren())}parseQueryParams(){const M={};if(this.consumeOptional("?"))do{this.parseQueryParam(M)}while(this.consumeOptional("&"));return M}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const M=[];for(this.peekStartsWith("(")||M.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),M.push(this.parseSegment());let T={};this.peekStartsWith("/(")&&(this.capture("/"),T=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(M.length>0||Object.keys(T).length>0)&&(F[V]=new $t(M,T)),F}parseSegment(){const M=qr(this.remaining);if(""===M&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(M),new Rn(wn(M),this.parseMatrixParams())}parseMatrixParams(){const M={};for(;this.consumeOptional(";");)this.parseParam(M);return M}parseParam(M){const T=qr(this.remaining);if(!T)return;this.capture(T);let F="";if(this.consumeOptional("=")){const W=qr(this.remaining);W&&(F=W,this.capture(F))}M[wn(T)]=wn(F)}parseQueryParam(M){const T=function Yo(x){const M=x.match(ca);return M?M[0]:""}(this.remaining);if(!T)return;this.capture(T);let F="";if(this.consumeOptional("=")){const Ce=function Ko(x){const M=x.match(ps);return M?M[0]:""}(this.remaining);Ce&&(F=Ce,this.capture(F))}const W=Ln(T),ee=Ln(F);if(M.hasOwnProperty(W)){let Ce=M[W];Array.isArray(Ce)||(Ce=[Ce],M[W]=Ce),Ce.push(ee)}else M[W]=ee}parseParens(M){const T={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=qr(this.remaining),W=this.remaining[F.length];if("/"!==W&&")"!==W&&";"!==W)throw new Error(`Cannot parse url '${this.url}'`);let ee;F.indexOf(":")>-1?(ee=F.substr(0,F.indexOf(":")),this.capture(ee),this.capture(":")):M&&(ee=V);const Ce=this.parseChildren();T[ee]=1===Object.keys(Ce).length?Ce[V]:new $t([],Ce),this.consumeOptional("//")}return T}peekStartsWith(M){return this.remaining.startsWith(M)}consumeOptional(M){return!!this.peekStartsWith(M)&&(this.remaining=this.remaining.substring(M.length),!0)}capture(M){if(!this.consumeOptional(M))throw new Error(`Expected "${M}".`)}}class fa{constructor(M){this._root=M}get root(){return this._root.value}parent(M){const T=this.pathFromRoot(M);return T.length>1?T[T.length-2]:null}children(M){const T=Hs(M,this._root);return T?T.children.map(F=>F.value):[]}firstChild(M){const T=Hs(M,this._root);return T&&T.children.length>0?T.children[0].value:null}siblings(M){const T=Co(M,this._root);return T.length<2?[]:T[T.length-2].children.map(W=>W.value).filter(W=>W!==M)}pathFromRoot(M){return Co(M,this._root).map(T=>T.value)}}function Hs(x,M){if(x===M.value)return M;for(const T of M.children){const F=Hs(x,T);if(F)return F}return null}function Co(x,M){if(x===M.value)return[M];for(const T of M.children){const F=Co(x,T);if(F.length)return F.unshift(M),F}return[]}class $n{constructor(M,T){this.value=M,this.children=T}toString(){return`TreeNode(${this.value})`}}function Io(x){const M={};return x&&x.children.forEach(T=>M[T.value.outlet]=T),M}class gs extends fa{constructor(M,T){super(M),this.snapshot=T,Xi(this,M)}toString(){return this.snapshot.toString()}}function Sa(x,M){const T=function Vr(x,M){const Ce=new ao([],{},{},"",{},V,M,null,x.root,-1,{});return new Gs("",new $n(Ce,[]))}(x,M),F=new Re.X([new Rn("",{})]),W=new Re.X({}),ee=new Re.X({}),Ce=new Re.X({}),He=new Re.X(""),xt=new Bi(F,W,Ce,He,ee,V,M,T.root);return xt.snapshot=T.root,new gs(new $n(xt,[]),T)}class Bi{constructor(M,T,F,W,ee,Ce,He,xt){this.url=M,this.params=T,this.queryParams=F,this.fragment=W,this.data=ee,this.outlet=Ce,this.component=He,this._futureSnapshot=xt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,er.U)(M=>hr(M)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,er.U)(M=>hr(M)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function so(x,M="emptyOnly"){const T=x.pathFromRoot;let F=0;if("always"!==M)for(F=T.length-1;F>=1;){const W=T[F],ee=T[F-1];if(W.routeConfig&&""===W.routeConfig.path)F--;else{if(ee.component)break;F--}}return function Xo(x){return x.reduce((M,T)=>({params:Object.assign(Object.assign({},M.params),T.params),data:Object.assign(Object.assign({},M.data),T.data),resolve:Object.assign(Object.assign({},M.resolve),T._resolvedData)}),{params:{},data:{},resolve:{}})}(T.slice(F))}class ao{constructor(M,T,F,W,ee,Ce,He,xt,pn,_r,On){this.url=M,this.params=T,this.queryParams=F,this.fragment=W,this.data=ee,this.outlet=Ce,this.component=He,this.routeConfig=xt,this._urlSegment=pn,this._lastPathIndex=_r,this._resolve=On}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=hr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Gs extends fa{constructor(M,T){super(T),this.url=M,Xi(this,T)}toString(){return Qi(this._root)}}function Xi(x,M){M.value._routerState=x,M.children.forEach(T=>Xi(x,T))}function Qi(x){const M=x.children.length>0?` { ${x.children.map(Qi).join(", ")} } `:"";return`${x.value}${M}`}function da(x){if(x.snapshot){const M=x.snapshot,T=x._futureSnapshot;x.snapshot=T,Nr(M.queryParams,T.queryParams)||x.queryParams.next(T.queryParams),M.fragment!==T.fragment&&x.fragment.next(T.fragment),Nr(M.params,T.params)||x.params.next(T.params),function qt(x,M){if(x.length!==M.length)return!1;for(let T=0;T<x.length;++T)if(!Nr(x[T],M[T]))return!1;return!0}(M.url,T.url)||x.url.next(T.url),Nr(M.data,T.data)||x.data.next(T.data)}else x.snapshot=x._futureSnapshot,x.data.next(x._futureSnapshot.data)}function ks(x,M){const T=Nr(x.params,M.params)&&function _i(x,M){return X(x,M)&&x.every((T,F)=>Nr(T.parameters,M[F].parameters))}(x.url,M.url);return T&&!(!x.parent!=!M.parent)&&(!x.parent||ks(x.parent,M.parent))}function Vi(x,M,T){if(T&&x.shouldReuseRoute(M.value,T.value.snapshot)){const F=T.value;F._futureSnapshot=M.value;const W=function Qo(x,M,T){return M.children.map(F=>{for(const W of T.children)if(x.shouldReuseRoute(F.value,W.value.snapshot))return Vi(x,F,W);return Vi(x,F)})}(x,M,T);return new $n(F,W)}{if(x.shouldAttach(M.value)){const ee=x.retrieve(M.value);if(null!==ee){const Ce=ee.route;return Ce.value._futureSnapshot=M.value,Ce.children=M.children.map(He=>Vi(x,He)),Ce}}const F=function Do(x){return new Bi(new Re.X(x.url),new Re.X(x.params),new Re.X(x.queryParams),new Re.X(x.fragment),new Re.X(x.data),x.outlet,x.component,x)}(M.value),W=M.children.map(ee=>Vi(x,ee));return new $n(F,W)}}function Os(x){return"object"==typeof x&&null!=x&&!x.outlets&&!x.segmentPath}function mo(x){return"object"==typeof x&&null!=x&&x.outlets}function To(x,M,T,F,W){let ee={};if(F&&Tr(F,(He,xt)=>{ee[xt]=Array.isArray(He)?He.map(pn=>`${pn}`):`${He}`}),x===M)return new Fn(T,ee,W);const Ce=pr(x,M,T);return new Fn(Ce,ee,W)}function pr(x,M,T){const F={};return Tr(x.children,(W,ee)=>{F[ee]=W===M?T:pr(W,M,T)}),new $t(x.segments,F)}class pa{constructor(M,T,F){if(this.isAbsolute=M,this.numberOfDoubleDots=T,this.commands=F,M&&F.length>0&&Os(F[0]))throw new Error("Root segment cannot have matrix parameters");const W=F.find(mo);if(W&&W!==Br(F))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qi{constructor(M,T,F){this.segmentGroup=M,this.processChildren=T,this.index=F}}function j(x,M,T){if(x||(x=new $t([],{})),0===x.segments.length&&x.hasChildren())return J(x,M,T);const F=function q(x,M,T){let F=0,W=M;const ee={match:!1,pathIndex:0,commandIndex:0};for(;W<x.segments.length;){if(F>=T.length)return ee;const Ce=x.segments[W],He=T[F];if(mo(He))break;const xt=`${He}`,pn=F<T.length-1?T[F+1]:null;if(W>0&&void 0===xt)break;if(xt&&pn&&"object"==typeof pn&&void 0===pn.outlets){if(!jt(xt,pn,Ce))return ee;F+=2}else{if(!jt(xt,{},Ce))return ee;F++}W++}return{match:!0,pathIndex:W,commandIndex:F}}(x,M,T),W=T.slice(F.commandIndex);if(F.match&&F.pathIndex<x.segments.length){const ee=new $t(x.segments.slice(0,F.pathIndex),{});return ee.children[V]=new $t(x.segments.slice(F.pathIndex),x.children),J(ee,0,W)}return F.match&&0===W.length?new $t(x.segments,{}):F.match&&!x.hasChildren()?se(x,M,T):F.match?J(x,0,W):se(x,M,T)}function J(x,M,T){if(0===T.length)return new $t(x.segments,{});{const F=function ci(x){return mo(x[0])?x[0].outlets:{[V]:x}}(T),W={};return Tr(F,(ee,Ce)=>{"string"==typeof ee&&(ee=[ee]),null!==ee&&(W[Ce]=j(x.children[Ce],M,ee))}),Tr(x.children,(ee,Ce)=>{void 0===F[Ce]&&(W[Ce]=ee)}),new $t(x.segments,W)}}function se(x,M,T){const F=x.segments.slice(0,M);let W=0;for(;W<T.length;){const ee=T[W];if(mo(ee)){const xt=Fe(ee.outlets);return new $t(F,xt)}if(0===W&&Os(T[0])){F.push(new Rn(x.segments[M].path,_t(T[0]))),W++;continue}const Ce=mo(ee)?ee.outlets[V]:`${ee}`,He=W<T.length-1?T[W+1]:null;Ce&&He&&Os(He)?(F.push(new Rn(Ce,_t(He))),W+=2):(F.push(new Rn(Ce,{})),W++)}return new $t(F,{})}function Fe(x){const M={};return Tr(x,(T,F)=>{"string"==typeof T&&(T=[T]),null!==T&&(M[F]=se(new $t([],{}),0,T))}),M}function _t(x){const M={};return Tr(x,(T,F)=>M[F]=`${T}`),M}function jt(x,M,T){return x==T.path&&Nr(M,T.parameters)}class Rr{constructor(M,T,F,W){this.routeReuseStrategy=M,this.futureState=T,this.currState=F,this.forwardEvent=W}activate(M){const T=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(T,F,M),da(this.futureState.root),this.activateChildRoutes(T,F,M)}deactivateChildRoutes(M,T,F){const W=Io(T);M.children.forEach(ee=>{const Ce=ee.value.outlet;this.deactivateRoutes(ee,W[Ce],F),delete W[Ce]}),Tr(W,(ee,Ce)=>{this.deactivateRouteAndItsChildren(ee,F)})}deactivateRoutes(M,T,F){const W=M.value,ee=T?T.value:null;if(W===ee)if(W.component){const Ce=F.getContext(W.outlet);Ce&&this.deactivateChildRoutes(M,T,Ce.children)}else this.deactivateChildRoutes(M,T,F);else ee&&this.deactivateRouteAndItsChildren(T,F)}deactivateRouteAndItsChildren(M,T){M.value.component&&this.routeReuseStrategy.shouldDetach(M.value.snapshot)?this.detachAndStoreRouteSubtree(M,T):this.deactivateRouteAndOutlet(M,T)}detachAndStoreRouteSubtree(M,T){const F=T.getContext(M.value.outlet),W=F&&M.value.component?F.children:T,ee=Io(M);for(const Ce of Object.keys(ee))this.deactivateRouteAndItsChildren(ee[Ce],W);if(F&&F.outlet){const Ce=F.outlet.detach(),He=F.children.onOutletDeactivated();this.routeReuseStrategy.store(M.value.snapshot,{componentRef:Ce,route:M,contexts:He})}}deactivateRouteAndOutlet(M,T){const F=T.getContext(M.value.outlet),W=F&&M.value.component?F.children:T,ee=Io(M);for(const Ce of Object.keys(ee))this.deactivateRouteAndItsChildren(ee[Ce],W);F&&F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated(),F.attachRef=null,F.resolver=null,F.route=null)}activateChildRoutes(M,T,F){const W=Io(T);M.children.forEach(ee=>{this.activateRoutes(ee,W[ee.value.outlet],F),this.forwardEvent(new rn(ee.value.snapshot))}),M.children.length&&this.forwardEvent(new ai(M.value.snapshot))}activateRoutes(M,T,F){const W=M.value,ee=T?T.value:null;if(da(W),W===ee)if(W.component){const Ce=F.getOrCreateContext(W.outlet);this.activateChildRoutes(M,T,Ce.children)}else this.activateChildRoutes(M,T,F);else if(W.component){const Ce=F.getOrCreateContext(W.outlet);if(this.routeReuseStrategy.shouldAttach(W.snapshot)){const He=this.routeReuseStrategy.retrieve(W.snapshot);this.routeReuseStrategy.store(W.snapshot,null),Ce.children.onOutletReAttached(He.contexts),Ce.attachRef=He.componentRef,Ce.route=He.route.value,Ce.outlet&&Ce.outlet.attach(He.componentRef,He.route.value),da(He.route.value),this.activateChildRoutes(M,null,Ce.children)}else{const He=function Cr(x){for(let M=x.parent;M;M=M.parent){const T=M.routeConfig;if(T&&T._loadedConfig)return T._loadedConfig;if(T&&T.component)return null}return null}(W.snapshot),xt=He?He.module.componentFactoryResolver:null;Ce.attachRef=null,Ce.route=W,Ce.resolver=xt,Ce.outlet&&Ce.outlet.activateWith(W,xt),this.activateChildRoutes(M,null,Ce.children)}}else this.activateChildRoutes(M,null,F)}}class Hn{constructor(M,T){this.routes=M,this.module=T}}function ar(x){return"function"==typeof x}function gr(x){return x instanceof Fn}const Fr=Symbol("INITIAL_VALUE");function z(){return(0,Yr.w)(x=>function ye(...x){let M,T;return(0,Ae.K)(x[x.length-1])&&(T=x.pop()),"function"==typeof x[x.length-1]&&(M=x.pop()),1===x.length&&(0,it.k)(x[0])&&(x=x[0]),(0,$.n)(x,T).lift(new qe(M))}(x.map(M=>M.pipe(Yt(1),function ht(...x){const M=x[x.length-1];return(0,Ae.K)(M)?(x.pop(),T=>Ke(x,T,M)):T=>Ke(x,T)}(Fr)))).pipe(st((M,T)=>{let F=!1;return T.reduce((W,ee,Ce)=>W!==Fr?W:(ee===Fr&&(F=!0),F||!1!==ee&&Ce!==T.length-1&&!gr(ee)?W:ee),M)},Fr),(0,In.h)(M=>M!==Fr),(0,er.U)(M=>gr(M)?M:!0===M),Yt(1)))}class L{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new P,this.attachRef=null}}class P{constructor(){this.contexts=new Map}onChildOutletCreated(M,T){const F=this.getOrCreateContext(M);F.outlet=T,this.contexts.set(M,F)}onChildOutletDestroyed(M){const T=this.getContext(M);T&&(T.outlet=null,T.attachRef=null)}onOutletDeactivated(){const M=this.contexts;return this.contexts=new Map,M}onOutletReAttached(M){this.contexts=M}getOrCreateContext(M){let T=this.getContext(M);return T||(T=new L,this.contexts.set(M,T)),T}getContext(M){return this.contexts.get(M)||null}}let ne=(()=>{class x{constructor(T,F,W,ee,Ce){this.parentContexts=T,this.location=F,this.resolver=W,this.changeDetector=Ce,this.activated=null,this._activatedRoute=null,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.name=ee||V,T.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const T=this.parentContexts.getContext(this.name);T&&T.route&&(T.attachRef?this.attach(T.attachRef,T.route):this.activateWith(T.route,T.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const T=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(T.instance),T}attach(T,F){this.activated=T,this._activatedRoute=F,this.location.insert(T.hostView),this.attachEvents.emit(T.instance)}deactivate(){if(this.activated){const T=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,F){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=T;const Ce=(F=F||this.resolver).resolveComponentFactory(T._futureSnapshot.routeConfig.component),He=this.parentContexts.getOrCreateContext(this.name).children,xt=new Rt(T,He,this.location.injector);this.activated=this.location.createComponent(Ce,this.location.length,xt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return x.\u0275fac=function(T){return new(T||x)(g.Y36(P),g.Y36(g.s_b),g.Y36(g._Vd),g.$8M("name"),g.Y36(g.sBO))},x.\u0275dir=g.lG2({type:x,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),x})();class Rt{constructor(M,T,F){this.route=M,this.childContexts=T,this.parent=F}get(M,T){return M===Bi?this.route:M===P?this.childContexts:this.parent.get(M,T)}}let En=(()=>{class x{}return x.\u0275fac=function(T){return new(T||x)},x.\u0275cmp=g.Xpm({type:x,selectors:[["ng-component"]],decls:1,vars:0,template:function(T,F){1&T&&g._UZ(0,"router-outlet")},directives:[ne],encapsulation:2}),x})();function dn(x,M=""){for(let T=0;T<x.length;T++){const F=x[T];C(F,G(M,F))}}function C(x,M){x.children&&dn(x.children,M)}function G(x,M){return M?x||M.path?x&&!M.path?`${x}/`:!x&&M.path?M.path:`${x}/${M.path}`:"":x}function E(x){const M=x.children&&x.children.map(E),T=M?Object.assign(Object.assign({},x),{children:M}):Object.assign({},x);return!T.component&&(M||T.loadChildren)&&T.outlet&&T.outlet!==V&&(T.component=En),T}function U(x){return x.outlet||V}function oe(x,M){const T=x.filter(F=>U(F)===M);return T.push(...x.filter(F=>U(F)!==M)),T}const Ct={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Xt(x,M,T){var F;if(""===M.path)return"full"===M.pathMatch&&(x.hasChildren()||T.length>0)?Object.assign({},Ct):{matched:!0,consumedSegments:[],remainingSegments:T,parameters:{},positionalParamSegments:{}};const ee=(M.matcher||Wo)(T,x,M);if(!ee)return Object.assign({},Ct);const Ce={};Tr(ee.posParams,(xt,pn)=>{Ce[pn]=xt.path});const He=ee.consumed.length>0?Object.assign(Object.assign({},Ce),ee.consumed[ee.consumed.length-1].parameters):Ce;return{matched:!0,consumedSegments:ee.consumed,remainingSegments:T.slice(ee.consumed.length),parameters:He,positionalParamSegments:null!==(F=ee.posParams)&&void 0!==F?F:{}}}function dt(x,M,T,F,W="corrected"){if(T.length>0&&function cr(x,M,T){return T.some(F=>li(x,M,F)&&U(F)!==V)}(x,T,F)){const Ce=new $t(M,function Gr(x,M,T,F){const W={};W[V]=F,F._sourceSegment=x,F._segmentIndexShift=M.length;for(const ee of T)if(""===ee.path&&U(ee)!==V){const Ce=new $t([],{});Ce._sourceSegment=x,Ce._segmentIndexShift=M.length,W[U(ee)]=Ce}return W}(x,M,F,new $t(T,x.children)));return Ce._sourceSegment=x,Ce._segmentIndexShift=M.length,{segmentGroup:Ce,slicedSegments:[]}}if(0===T.length&&function ei(x,M,T){return T.some(F=>li(x,M,F))}(x,T,F)){const Ce=new $t(x.segments,function Jt(x,M,T,F,W,ee){const Ce={};for(const He of F)if(li(x,T,He)&&!W[U(He)]){const xt=new $t([],{});xt._sourceSegment=x,xt._segmentIndexShift="legacy"===ee?x.segments.length:M.length,Ce[U(He)]=xt}return Object.assign(Object.assign({},W),Ce)}(x,M,T,F,x.children,W));return Ce._sourceSegment=x,Ce._segmentIndexShift=M.length,{segmentGroup:Ce,slicedSegments:T}}const ee=new $t(x.segments,x.children);return ee._sourceSegment=x,ee._segmentIndexShift=M.length,{segmentGroup:ee,slicedSegments:T}}function li(x,M,T){return(!(x.hasChildren()||M.length>0)||"full"!==T.pathMatch)&&""===T.path}function bi(x,M,T,F){return!!(U(x)===F||F!==V&&li(M,T,x))&&("**"===x.path||Xt(M,x,T).matched)}function Bo(x,M,T){return 0===M.length&&!x.children[T]}class uo{constructor(M){this.segmentGroup=M||null}}class Aa{constructor(M){this.urlTree=M}}function qs(x){return Me(new uo(x))}function iu(x){return Me(new Aa(x))}class Vo{constructor(M,T,F,W,ee){this.configLoader=T,this.urlSerializer=F,this.urlTree=W,this.config=ee,this.allowRedirects=!0,this.ngModule=M.get(g.h0i)}apply(){const M=dt(this.urlTree.root,[],[],this.config).segmentGroup,T=new $t(M.segments,M.children);return this.expandSegmentGroup(this.ngModule,this.config,T,V).pipe((0,er.U)(ee=>this.createUrlTree(So(ee),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Vt(ee=>{if(ee instanceof Aa)return this.allowRedirects=!1,this.match(ee.urlTree);throw ee instanceof uo?this.noMatchError(ee):ee}))}match(M){return this.expandSegmentGroup(this.ngModule,this.config,M.root,V).pipe((0,er.U)(W=>this.createUrlTree(So(W),M.queryParams,M.fragment))).pipe(Vt(W=>{throw W instanceof uo?this.noMatchError(W):W}))}noMatchError(M){return new Error(`Cannot match any routes. URL Segment: '${M.segmentGroup}'`)}createUrlTree(M,T,F){const W=M.segments.length>0?new $t([],{[V]:M}):M;return new Fn(W,T,F)}expandSegmentGroup(M,T,F,W){return 0===F.segments.length&&F.hasChildren()?this.expandChildren(M,T,F).pipe((0,er.U)(ee=>new $t([],ee))):this.expandSegment(M,F,T,F.segments,W,!0)}expandChildren(M,T,F){const W=[];for(const ee of Object.keys(F.children))"primary"===ee?W.unshift(ee):W.push(ee);return(0,Pt.D)(W).pipe(Vn(ee=>{const Ce=F.children[ee],He=oe(T,ee);return this.expandSegmentGroup(M,He,Ce,ee).pipe((0,er.U)(xt=>({segment:xt,outlet:ee})))}),st((ee,Ce)=>(ee[Ce.outlet]=Ce.segment,ee),{}),function Ci(x,M){const T=arguments.length>=2;return F=>F.pipe(x?(0,In.h)((W,ee)=>x(W,ee,F)):gi.y,Un(1),T?Dr(M):_n(()=>new et))}())}expandSegment(M,T,F,W,ee,Ce){return(0,Pt.D)(F).pipe(Vn(He=>this.expandSegmentAgainstRoute(M,T,F,He,W,ee,Ce).pipe(Vt(pn=>{if(pn instanceof uo)return nt(null);throw pn}))),mi(He=>!!He),Vt((He,xt)=>{if(He instanceof et||"EmptyError"===He.name)return Bo(T,W,ee)?nt(new $t([],{})):qs(T);throw He}))}expandSegmentAgainstRoute(M,T,F,W,ee,Ce,He){return bi(W,T,ee,Ce)?void 0===W.redirectTo?this.matchSegmentAgainstRoute(M,T,W,ee,Ce):He&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(M,T,F,W,ee,Ce):qs(T):qs(T)}expandSegmentAgainstRouteUsingRedirect(M,T,F,W,ee,Ce){return"**"===W.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(M,F,W,Ce):this.expandRegularSegmentAgainstRouteUsingRedirect(M,T,F,W,ee,Ce)}expandWildCardWithParamsAgainstRouteUsingRedirect(M,T,F,W){const ee=this.applyRedirectCommands([],F.redirectTo,{});return F.redirectTo.startsWith("/")?iu(ee):this.lineralizeSegments(F,ee).pipe((0,Zt.zg)(Ce=>{const He=new $t(Ce,{});return this.expandSegment(M,He,T,Ce,W,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(M,T,F,W,ee,Ce){const{matched:He,consumedSegments:xt,remainingSegments:pn,positionalParamSegments:_r}=Xt(T,W,ee);if(!He)return qs(T);const On=this.applyRedirectCommands(xt,W.redirectTo,_r);return W.redirectTo.startsWith("/")?iu(On):this.lineralizeSegments(W,On).pipe((0,Zt.zg)(br=>this.expandSegment(M,T,F,br.concat(pn),Ce,!1)))}matchSegmentAgainstRoute(M,T,F,W,ee){if("**"===F.path)return F.loadChildren?(F._loadedConfig?nt(F._loadedConfig):this.configLoader.load(M.injector,F)).pipe((0,er.U)(On=>(F._loadedConfig=On,new $t(W,{})))):nt(new $t(W,{}));const{matched:Ce,consumedSegments:He,remainingSegments:xt}=Xt(T,F,W);return Ce?this.getChildConfig(M,F,W).pipe((0,Zt.zg)(_r=>{const On=_r.module,br=_r.routes,{segmentGroup:wr,slicedSegments:is}=dt(T,He,xt,br),zr=new $t(wr.segments,wr.children);if(0===is.length&&zr.hasChildren())return this.expandChildren(On,br,zr).pipe((0,er.U)(pl=>new $t(He,pl)));if(0===br.length&&0===is.length)return nt(new $t(He,{}));const Hu=U(F)===ee;return this.expandSegment(On,zr,br,is,Hu?V:ee,!0).pipe((0,er.U)(Gu=>new $t(He.concat(Gu.segments),Gu.children)))})):qs(T)}getChildConfig(M,T,F){return T.children?nt(new Hn(T.children,M)):T.loadChildren?void 0!==T._loadedConfig?nt(T._loadedConfig):this.runCanLoadGuards(M.injector,T,F).pipe((0,Zt.zg)(W=>W?this.configLoader.load(M.injector,T).pipe((0,er.U)(ee=>(T._loadedConfig=ee,ee))):function Zi(x){return Me(oo(`Cannot load children because the guard of the route "path: '${x.path}'" returned false`))}(T))):nt(new Hn([],M))}runCanLoadGuards(M,T,F){const W=T.canLoad;return W&&0!==W.length?nt(W.map(Ce=>{const He=M.get(Ce);let xt;if(function Pr(x){return x&&ar(x.canLoad)}(He))xt=He.canLoad(T,F);else{if(!ar(He))throw new Error("Invalid CanLoad guard");xt=He(T,F)}return yr(xt)})).pipe(z(),Wn(Ce=>{if(!gr(Ce))return;const He=oo(`Redirecting to "${this.urlSerializer.serialize(Ce)}"`);throw He.url=Ce,He}),(0,er.U)(Ce=>!0===Ce)):nt(!0)}lineralizeSegments(M,T){let F=[],W=T.root;for(;;){if(F=F.concat(W.segments),0===W.numberOfChildren)return nt(F);if(W.numberOfChildren>1||!W.children[V])return Me(new Error(`Only absolute redirects can have named outlets. redirectTo: '${M.redirectTo}'`));W=W.children[V]}}applyRedirectCommands(M,T,F){return this.applyRedirectCreatreUrlTree(T,this.urlSerializer.parse(T),M,F)}applyRedirectCreatreUrlTree(M,T,F,W){const ee=this.createSegmentGroup(M,T.root,F,W);return new Fn(ee,this.createQueryParams(T.queryParams,this.urlTree.queryParams),T.fragment)}createQueryParams(M,T){const F={};return Tr(M,(W,ee)=>{if("string"==typeof W&&W.startsWith(":")){const He=W.substring(1);F[ee]=T[He]}else F[ee]=W}),F}createSegmentGroup(M,T,F,W){const ee=this.createSegments(M,T.segments,F,W);let Ce={};return Tr(T.children,(He,xt)=>{Ce[xt]=this.createSegmentGroup(M,He,F,W)}),new $t(ee,Ce)}createSegments(M,T,F,W){return T.map(ee=>ee.path.startsWith(":")?this.findPosParam(M,ee,W):this.findOrReturn(ee,F))}findPosParam(M,T,F){const W=F[T.path.substring(1)];if(!W)throw new Error(`Cannot redirect to '${M}'. Cannot find '${T.path}'.`);return W}findOrReturn(M,T){let F=0;for(const W of T){if(W.path===M.path)return T.splice(F),W;F++}return M}}function So(x){const M={};for(const F of Object.keys(x.children)){const ee=So(x.children[F]);(ee.segments.length>0||ee.hasChildren())&&(M[F]=ee)}return function Ma(x){if(1===x.numberOfChildren&&x.children[V]){const M=x.children[V];return new $t(x.segments.concat(M.segments),M.children)}return x}(new $t(x.segments,M))}class fc{constructor(M){this.path=M,this.route=this.path[this.path.length-1]}}class ku{constructor(M,T){this.component=M,this.route=T}}function dc(x,M,T){const F=x._root;return Ra(F,M?M._root:null,T,[F.value])}function ts(x,M,T){const F=function Nu(x){if(!x)return null;for(let M=x.parent;M;M=M.parent){const T=M.routeConfig;if(T&&T._loadedConfig)return T._loadedConfig}return null}(M);return(F?F.module.injector:T).get(x)}function Ra(x,M,T,F,W={canDeactivateChecks:[],canActivateChecks:[]}){const ee=Io(M);return x.children.forEach(Ce=>{(function xa(x,M,T,F,W={canDeactivateChecks:[],canActivateChecks:[]}){const ee=x.value,Ce=M?M.value:null,He=T?T.getContext(x.value.outlet):null;if(Ce&&ee.routeConfig===Ce.routeConfig){const xt=function Pu(x,M,T){if("function"==typeof T)return T(x,M);switch(T){case"pathParamsChange":return!X(x.url,M.url);case"pathParamsOrQueryParamsChange":return!X(x.url,M.url)||!Nr(x.queryParams,M.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ks(x,M)||!Nr(x.queryParams,M.queryParams);default:return!ks(x,M)}}(Ce,ee,ee.routeConfig.runGuardsAndResolvers);xt?W.canActivateChecks.push(new fc(F)):(ee.data=Ce.data,ee._resolvedData=Ce._resolvedData),Ra(x,M,ee.component?He?He.children:null:T,F,W),xt&&He&&He.outlet&&He.outlet.isActivated&&W.canDeactivateChecks.push(new ku(He.outlet.component,Ce))}else Ce&&Uo(M,He,W),W.canActivateChecks.push(new fc(F)),Ra(x,null,ee.component?He?He.children:null:T,F,W)})(Ce,ee[Ce.value.outlet],T,F.concat([Ce.value]),W),delete ee[Ce.value.outlet]}),Tr(ee,(Ce,He)=>Uo(Ce,T.getContext(He),W)),W}function Uo(x,M,T){const F=Io(x),W=x.value;Tr(F,(ee,Ce)=>{Uo(ee,W.component?M?M.children.getContext(Ce):null:M,T)}),T.canDeactivateChecks.push(new ku(W.component&&M&&M.outlet&&M.outlet.isActivated?M.outlet.component:null,W))}class Oi{}function xr(x){return new Ee.y(M=>M.error(x))}class pc{constructor(M,T,F,W,ee,Ce){this.rootComponentType=M,this.config=T,this.urlTree=F,this.url=W,this.paramsInheritanceStrategy=ee,this.relativeLinkResolution=Ce}recognize(){const M=dt(this.urlTree.root,[],[],this.config.filter(Ce=>void 0===Ce.redirectTo),this.relativeLinkResolution).segmentGroup,T=this.processSegmentGroup(this.config,M,V);if(null===T)return null;const F=new ao([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},V,this.rootComponentType,null,this.urlTree.root,-1,{}),W=new $n(F,T),ee=new Gs(this.url,W);return this.inheritParamsAndData(ee._root),ee}inheritParamsAndData(M){const T=M.value,F=so(T,this.paramsInheritanceStrategy);T.params=Object.freeze(F.params),T.data=Object.freeze(F.data),M.children.forEach(W=>this.inheritParamsAndData(W))}processSegmentGroup(M,T,F){return 0===T.segments.length&&T.hasChildren()?this.processChildren(M,T):this.processSegment(M,T,T.segments,F)}processChildren(M,T){const F=[];for(const ee of Object.keys(T.children)){const Ce=T.children[ee],He=oe(M,ee),xt=this.processSegmentGroup(He,Ce,ee);if(null===xt)return null;F.push(...xt)}const W=ys(F);return function Bu(x){x.sort((M,T)=>M.value.outlet===V?-1:T.value.outlet===V?1:M.value.outlet.localeCompare(T.value.outlet))}(W),W}processSegment(M,T,F,W){for(const ee of M){const Ce=this.processSegmentAgainstRoute(ee,T,F,W);if(null!==Ce)return Ce}return Bo(T,F,W)?[]:null}processSegmentAgainstRoute(M,T,F,W){if(M.redirectTo||!bi(M,T,F,W))return null;let ee,Ce=[],He=[];if("**"===M.path){const wr=F.length>0?Br(F).parameters:{};ee=new ao(F,wr,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ns(M),U(M),M.component,M,Ws(T),Ys(T)+F.length,of(M))}else{const wr=Xt(T,M,F);if(!wr.matched)return null;Ce=wr.consumedSegments,He=wr.remainingSegments,ee=new ao(Ce,wr.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ns(M),U(M),M.component,M,Ws(T),Ys(T)+Ce.length,of(M))}const xt=function ka(x){return x.children?x.children:x.loadChildren?x._loadedConfig.routes:[]}(M),{segmentGroup:pn,slicedSegments:_r}=dt(T,Ce,He,xt.filter(wr=>void 0===wr.redirectTo),this.relativeLinkResolution);if(0===_r.length&&pn.hasChildren()){const wr=this.processChildren(xt,pn);return null===wr?null:[new $n(ee,wr)]}if(0===xt.length&&0===_r.length)return[new $n(ee,[])];const On=U(M)===W,br=this.processSegment(xt,pn,_r,On?V:W);return null===br?null:[new $n(ee,br)]}}function wi(x){const M=x.value.routeConfig;return M&&""===M.path&&void 0===M.redirectTo}function ys(x){const M=[],T=new Set;for(const F of x){if(!wi(F)){M.push(F);continue}const W=M.find(ee=>F.value.routeConfig===ee.value.routeConfig);void 0!==W?(W.children.push(...F.children),T.add(W)):M.push(F)}for(const F of T){const W=ys(F.children);M.push(new $n(F.value,W))}return M.filter(F=>!T.has(F))}function Ws(x){let M=x;for(;M._sourceSegment;)M=M._sourceSegment;return M}function Ys(x){let M=x,T=M._segmentIndexShift?M._segmentIndexShift:0;for(;M._sourceSegment;)M=M._sourceSegment,T+=M._segmentIndexShift?M._segmentIndexShift:0;return T-1}function Ns(x){return x.data||{}}function of(x){return x.resolve||{}}function ld(x){return[...Object.keys(x),...Object.getOwnPropertySymbols(x)]}function ns(x){return(0,Yr.w)(M=>{const T=x(M);return T?(0,Pt.D)(T).pipe((0,er.U)(()=>M)):nt(M)})}class ul{}class Sh extends class fd{shouldDetach(M){return!1}store(M,T){}shouldAttach(M){return!1}retrieve(M){return null}shouldReuseRoute(M,T){return M.routeConfig===T.routeConfig}}{}const su=new g.OlP("ROUTES");class vc{constructor(M,T,F,W){this.injector=M,this.compiler=T,this.onLoadStartListener=F,this.onLoadEndListener=W}load(M,T){if(T._loader$)return T._loader$;this.onLoadStartListener&&this.onLoadStartListener(T);const W=this.loadModuleFactory(T.loadChildren).pipe((0,er.U)(ee=>{this.onLoadEndListener&&this.onLoadEndListener(T);const Ce=ee.create(M);return new Hn(Mr(Ce.injector.get(su,void 0,g.XFs.Self|g.XFs.Optional)).map(E),Ce)}),Vt(ee=>{throw T._loader$=void 0,ee}));return T._loader$=new Ie.c(W,()=>new Ue.xQ).pipe((0,Sr.x)()),T._loader$}loadModuleFactory(M){return yr(M()).pipe((0,Zt.zg)(T=>T instanceof g.YKP?nt(T):(0,Pt.D)(this.compiler.compileModuleAsync(T))))}}class cl{shouldProcessUrl(M){return!0}extract(M){return M}merge(M,T){return M}}function au(x){throw x}function yc(x,M,T){return M.parse("/")}function _c(x,M){return nt(null)}const Ps={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sf={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ni=(()=>{class x{constructor(T,F,W,ee,Ce,He,xt){this.rootComponentType=T,this.urlSerializer=F,this.rootContexts=W,this.location=ee,this.config=xt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ue.xQ,this.errorHandler=au,this.malformedUriErrorHandler=yc,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:_c,afterPreactivation:_c},this.urlHandlingStrategy=new cl,this.routeReuseStrategy=new Sh,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Ce.get(g.h0i),this.console=Ce.get(g.c2e);const On=Ce.get(g.R0b);this.isNgZoneEnabled=On instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(xt),this.currentUrlTree=function ui(){return new Fn(new $t([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new vc(Ce,He,br=>this.triggerEvent(new Xn(br)),br=>this.triggerEvent(new jn(br))),this.routerState=Sa(this.currentUrlTree,this.rootComponentType),this.transitions=new Re.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var T;return null===(T=this.location.getState())||void 0===T?void 0:T.\u0275routerPageId}setupNavigations(T){const F=this.events;return T.pipe((0,In.h)(W=>0!==W.id),(0,er.U)(W=>Object.assign(Object.assign({},W),{extractedUrl:this.urlHandlingStrategy.extract(W.rawUrl)})),(0,Yr.w)(W=>{let ee=!1,Ce=!1;return nt(W).pipe(Wn(He=>{this.currentNavigation={id:He.id,initialUrl:He.currentRawUrl,extractedUrl:He.extractedUrl,trigger:He.source,extras:He.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Yr.w)(He=>{const xt=this.browserUrlTree.toString(),pn=!this.navigated||He.extractedUrl.toString()!==xt||xt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||pn)&&this.urlHandlingStrategy.shouldProcessUrl(He.rawUrl))return Na(He.source)&&(this.browserUrlTree=He.extractedUrl),nt(He).pipe((0,Yr.w)(On=>{const br=this.transitions.getValue();return F.next(new tt(On.id,this.serializeUrl(On.extractedUrl),On.source,On.restoredState)),br!==this.transitions.getValue()?at:Promise.resolve(On)}),function xu(x,M,T,F){return(0,Yr.w)(W=>function es(x,M,T,F,W){return new Vo(x,M,T,F,W).apply()}(x,M,T,W.extractedUrl,F).pipe((0,er.U)(ee=>Object.assign(Object.assign({},W),{urlAfterRedirects:ee}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Wn(On=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:On.urlAfterRedirects})}),function cd(x,M,T,F,W){return(0,Zt.zg)(ee=>function Lu(x,M,T,F,W="emptyOnly",ee="legacy"){try{const Ce=new pc(x,M,T,F,W,ee).recognize();return null===Ce?xr(new Oi):nt(Ce)}catch(Ce){return xr(Ce)}}(x,M,ee.urlAfterRedirects,T(ee.urlAfterRedirects),F,W).pipe((0,er.U)(Ce=>Object.assign(Object.assign({},ee),{targetSnapshot:Ce}))))}(this.rootComponentType,this.config,On=>this.serializeUrl(On),this.paramsInheritanceStrategy,this.relativeLinkResolution),Wn(On=>{if("eager"===this.urlUpdateStrategy){if(!On.extras.skipLocationChange){const wr=this.urlHandlingStrategy.merge(On.urlAfterRedirects,On.rawUrl);this.setBrowserUrl(wr,On)}this.browserUrlTree=On.urlAfterRedirects}const br=new ct(On.id,this.serializeUrl(On.extractedUrl),this.serializeUrl(On.urlAfterRedirects),On.targetSnapshot);F.next(br)}));if(pn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:br,extractedUrl:wr,source:is,restoredState:zr,extras:Hu}=He,uu=new tt(br,this.serializeUrl(wr),is,zr);F.next(uu);const Gu=Sa(wr,this.rootComponentType).snapshot;return nt(Object.assign(Object.assign({},He),{targetSnapshot:Gu,urlAfterRedirects:wr,extras:Object.assign(Object.assign({},Hu),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=He.rawUrl,He.resolve(null),at}),ns(He=>{const{targetSnapshot:xt,id:pn,extractedUrl:_r,rawUrl:On,extras:{skipLocationChange:br,replaceUrl:wr}}=He;return this.hooks.beforePreactivation(xt,{navigationId:pn,appliedUrlTree:_r,rawUrlTree:On,skipLocationChange:!!br,replaceUrl:!!wr})}),Wn(He=>{const xt=new Et(He.id,this.serializeUrl(He.extractedUrl),this.serializeUrl(He.urlAfterRedirects),He.targetSnapshot);this.triggerEvent(xt)}),(0,er.U)(He=>Object.assign(Object.assign({},He),{guards:dc(He.targetSnapshot,He.currentSnapshot,this.rootContexts)})),function ou(x,M){return(0,Zt.zg)(T=>{const{targetSnapshot:F,currentSnapshot:W,guards:{canActivateChecks:ee,canDeactivateChecks:Ce}}=T;return 0===Ce.length&&0===ee.length?nt(Object.assign(Object.assign({},T),{guardsResult:!0})):function Fu(x,M,T,F){return(0,Pt.D)(x).pipe((0,Zt.zg)(W=>function ii(x,M,T,F,W){const ee=M&&M.routeConfig?M.routeConfig.canDeactivate:null;return ee&&0!==ee.length?nt(ee.map(He=>{const xt=ts(He,M,W);let pn;if(function Ji(x){return x&&ar(x.canDeactivate)}(xt))pn=yr(xt.canDeactivate(x,M,T,F));else{if(!ar(xt))throw new Error("Invalid CanDeactivate guard");pn=yr(xt(x,M,T,F))}return pn.pipe(mi())})).pipe(z()):nt(!0)}(W.component,W.route,T,M,F)),mi(W=>!0!==W,!0))}(Ce,F,W,x).pipe((0,Zt.zg)(He=>He&&function ji(x){return"boolean"==typeof x}(He)?function hc(x,M,T,F){return(0,Pt.D)(M).pipe(Vn(W=>Ke(function vs(x,M){return null!==x&&M&&M(new Ar(x)),nt(!0)}(W.route.parent,F),function zs(x,M){return null!==x&&M&&M(new vi(x)),nt(!0)}(W.route,F),function ud(x,M,T){const F=M[M.length-1],ee=M.slice(0,M.length-1).reverse().map(Ce=>function Ou(x){const M=x.routeConfig?x.routeConfig.canActivateChild:null;return M&&0!==M.length?{node:x,guards:M}:null}(Ce)).filter(Ce=>null!==Ce).map(Ce=>Ge(()=>nt(Ce.guards.map(xt=>{const pn=ts(xt,Ce.node,T);let _r;if(function vo(x){return x&&ar(x.canActivateChild)}(pn))_r=yr(pn.canActivateChild(F,x));else{if(!ar(pn))throw new Error("Invalid CanActivateChild guard");_r=yr(pn(F,x))}return _r.pipe(mi())})).pipe(z())));return nt(ee).pipe(z())}(x,W.path,T),function ga(x,M,T){const F=M.routeConfig?M.routeConfig.canActivate:null;if(!F||0===F.length)return nt(!0);const W=F.map(ee=>Ge(()=>{const Ce=ts(ee,M,T);let He;if(function Zo(x){return x&&ar(x.canActivate)}(Ce))He=yr(Ce.canActivate(M,x));else{if(!ar(Ce))throw new Error("Invalid CanActivate guard");He=yr(Ce(M,x))}return He.pipe(mi())}));return nt(W).pipe(z())}(x,W.route,T))),mi(W=>!0!==W,!0))}(F,ee,x,M):nt(He)),(0,er.U)(He=>Object.assign(Object.assign({},T),{guardsResult:He})))})}(this.ngModule.injector,He=>this.triggerEvent(He)),Wn(He=>{if(gr(He.guardsResult)){const pn=oo(`Redirecting to "${this.serializeUrl(He.guardsResult)}"`);throw pn.url=He.guardsResult,pn}const xt=new Bt(He.id,this.serializeUrl(He.extractedUrl),this.serializeUrl(He.urlAfterRedirects),He.targetSnapshot,!!He.guardsResult);this.triggerEvent(xt)}),(0,In.h)(He=>!!He.guardsResult||(this.restoreHistory(He),this.cancelNavigationTransition(He,""),!1)),ns(He=>{if(He.guards.canActivateChecks.length)return nt(He).pipe(Wn(xt=>{const pn=new sn(xt.id,this.serializeUrl(xt.extractedUrl),this.serializeUrl(xt.urlAfterRedirects),xt.targetSnapshot);this.triggerEvent(pn)}),(0,Yr.w)(xt=>{let pn=!1;return nt(xt).pipe(function Oa(x,M){return(0,Zt.zg)(T=>{const{targetSnapshot:F,guards:{canActivateChecks:W}}=T;if(!W.length)return nt(T);let ee=0;return(0,Pt.D)(W).pipe(Vn(Ce=>function mc(x,M,T,F){return function Th(x,M,T,F){const W=ld(x);if(0===W.length)return nt({});const ee={};return(0,Pt.D)(W).pipe((0,Zt.zg)(Ce=>function ma(x,M,T,F){const W=ts(x,M,F);return yr(W.resolve?W.resolve(M,T):W(M,T))}(x[Ce],M,T,F).pipe(Wn(He=>{ee[Ce]=He}))),Un(1),(0,Zt.zg)(()=>ld(ee).length===W.length?nt(ee):at))}(x._resolve,x,M,F).pipe((0,er.U)(ee=>(x._resolvedData=ee,x.data=Object.assign(Object.assign({},x.data),so(x,T).resolve),null)))}(Ce.route,F,x,M)),Wn(()=>ee++),Un(1),(0,Zt.zg)(Ce=>ee===W.length?nt(T):at))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Wn({next:()=>pn=!0,complete:()=>{pn||(this.restoreHistory(xt),this.cancelNavigationTransition(xt,"At least one route resolver didn't emit any value."))}}))}),Wn(xt=>{const pn=new kn(xt.id,this.serializeUrl(xt.extractedUrl),this.serializeUrl(xt.urlAfterRedirects),xt.targetSnapshot);this.triggerEvent(pn)}))}),ns(He=>{const{targetSnapshot:xt,id:pn,extractedUrl:_r,rawUrl:On,extras:{skipLocationChange:br,replaceUrl:wr}}=He;return this.hooks.afterPreactivation(xt,{navigationId:pn,appliedUrlTree:_r,rawUrlTree:On,skipLocationChange:!!br,replaceUrl:!!wr})}),(0,er.U)(He=>{const xt=function ms(x,M,T){const F=Vi(x,M._root,T?T._root:void 0);return new gs(F,M)}(this.routeReuseStrategy,He.targetSnapshot,He.currentRouterState);return Object.assign(Object.assign({},He),{targetRouterState:xt})}),Wn(He=>{this.currentUrlTree=He.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(He.urlAfterRedirects,He.rawUrl),this.routerState=He.targetRouterState,"deferred"===this.urlUpdateStrategy&&(He.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,He),this.browserUrlTree=He.urlAfterRedirects)}),((x,M,T)=>(0,er.U)(F=>(new Rr(M,F.targetRouterState,F.currentRouterState,T).activate(x),F)))(this.rootContexts,this.routeReuseStrategy,He=>this.triggerEvent(He)),Wn({next(){ee=!0},complete(){ee=!0}}),function Zr(x){return M=>M.lift(new ur(x))}(()=>{var He;ee||Ce||this.cancelNavigationTransition(W,`Navigation ID ${W.id} is not equal to the current navigation id ${this.navigationId}`),(null===(He=this.currentNavigation)||void 0===He?void 0:He.id)===W.id&&(this.currentNavigation=null)}),Vt(He=>{if(Ce=!0,function Eo(x){return x&&x[yi]}(He)){const xt=gr(He.url);xt||(this.navigated=!0,this.restoreHistory(W,!0));const pn=new ge(W.id,this.serializeUrl(W.extractedUrl),He.message);F.next(pn),xt?setTimeout(()=>{const _r=this.urlHandlingStrategy.merge(He.url,this.rawUrlTree),On={skipLocationChange:W.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Na(W.source)};this.scheduleNavigation(_r,"imperative",null,On,{resolve:W.resolve,reject:W.reject,promise:W.promise})},0):W.resolve(!1)}else{this.restoreHistory(W,!0);const xt=new $e(W.id,this.serializeUrl(W.extractedUrl),He);F.next(xt);try{W.resolve(this.errorHandler(He))}catch(pn){W.reject(pn)}}return at}))}))}resetRootComponentType(T){this.rootComponentType=T,this.routerState.root.component=this.rootComponentType}setTransition(T){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),T))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(T=>{const F="popstate"===T.type?"popstate":"hashchange";"popstate"===F&&setTimeout(()=>{var W;const ee={replaceUrl:!0},Ce=(null===(W=T.state)||void 0===W?void 0:W.navigationId)?T.state:null;if(Ce){const xt=Object.assign({},Ce);delete xt.navigationId,delete xt.\u0275routerPageId,0!==Object.keys(xt).length&&(ee.state=xt)}const He=this.parseUrl(T.url);this.scheduleNavigation(He,F,Ce,ee)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(T){this.events.next(T)}resetConfig(T){dn(T),this.config=T.map(E),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(T,F={}){const{relativeTo:W,queryParams:ee,fragment:Ce,queryParamsHandling:He,preserveFragment:xt}=F,pn=W||this.routerState.root,_r=xt?this.currentUrlTree.fragment:Ce;let On=null;switch(He){case"merge":On=Object.assign(Object.assign({},this.currentUrlTree.queryParams),ee);break;case"preserve":On=this.currentUrlTree.queryParams;break;default:On=ee||null}return null!==On&&(On=this.removeEmptyProps(On)),function ha(x,M,T,F,W){if(0===T.length)return To(M.root,M.root,M.root,F,W);const ee=function Jo(x){if("string"==typeof x[0]&&1===x.length&&"/"===x[0])return new pa(!0,0,x);let M=0,T=!1;const F=x.reduce((W,ee,Ce)=>{if("object"==typeof ee&&null!=ee){if(ee.outlets){const He={};return Tr(ee.outlets,(xt,pn)=>{He[pn]="string"==typeof xt?xt.split("/"):xt}),[...W,{outlets:He}]}if(ee.segmentPath)return[...W,ee.segmentPath]}return"string"!=typeof ee?[...W,ee]:0===Ce?(ee.split("/").forEach((He,xt)=>{0==xt&&"."===He||(0==xt&&""===He?T=!0:".."===He?M++:""!=He&&W.push(He))}),W):[...W,ee]},[]);return new pa(T,M,F)}(T);if(ee.toRoot())return To(M.root,M.root,new $t([],{}),F,W);const Ce=function Mi(x,M,T){if(x.isAbsolute)return new qi(M.root,!0,0);if(-1===T.snapshot._lastPathIndex){const ee=T.snapshot._urlSegment;return new qi(ee,ee===M.root,0)}const F=Os(x.commands[0])?0:1;return function Kr(x,M,T){let F=x,W=M,ee=T;for(;ee>W;){if(ee-=W,F=F.parent,!F)throw new Error("Invalid number of '../'");W=F.segments.length}return new qi(F,!1,W-ee)}(T.snapshot._urlSegment,T.snapshot._lastPathIndex+F,x.numberOfDoubleDots)}(ee,M,x),He=Ce.processChildren?J(Ce.segmentGroup,Ce.index,ee.commands):j(Ce.segmentGroup,Ce.index,ee.commands);return To(M.root,Ce.segmentGroup,He,F,W)}(pn,this.currentUrlTree,T,On,null!=_r?_r:null)}navigateByUrl(T,F={skipLocationChange:!1}){const W=gr(T)?T:this.parseUrl(T),ee=this.urlHandlingStrategy.merge(W,this.rawUrlTree);return this.scheduleNavigation(ee,"imperative",null,F)}navigate(T,F={skipLocationChange:!1}){return function bc(x){for(let M=0;M<x.length;M++){const T=x[M];if(null==T)throw new Error(`The requested path contains ${T} segment at index ${M}`)}}(T),this.navigateByUrl(this.createUrlTree(T,F),F)}serializeUrl(T){return this.urlSerializer.serialize(T)}parseUrl(T){let F;try{F=this.urlSerializer.parse(T)}catch(W){F=this.malformedUriErrorHandler(W,this.urlSerializer,T)}return F}isActive(T,F){let W;if(W=!0===F?Object.assign({},Ps):!1===F?Object.assign({},sf):F,gr(T))return ir(this.currentUrlTree,T,W);const ee=this.parseUrl(T);return ir(this.currentUrlTree,ee,W)}removeEmptyProps(T){return Object.keys(T).reduce((F,W)=>{const ee=T[W];return null!=ee&&(F[W]=ee),F},{})}processNavigations(){this.navigations.subscribe(T=>{this.navigated=!0,this.lastSuccessfulId=T.id,this.currentPageId=T.targetPageId,this.events.next(new ce(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,T.resolve(!0)},T=>{this.console.warn(`Unhandled Navigation Error: ${T}`)})}scheduleNavigation(T,F,W,ee,Ce){var He,xt;if(this.disposed)return Promise.resolve(!1);let pn,_r,On;Ce?(pn=Ce.resolve,_r=Ce.reject,On=Ce.promise):On=new Promise((is,zr)=>{pn=is,_r=zr});const br=++this.navigationId;let wr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(W=this.location.getState()),wr=W&&W.\u0275routerPageId?W.\u0275routerPageId:ee.replaceUrl||ee.skipLocationChange?null!==(He=this.browserPageId)&&void 0!==He?He:0:(null!==(xt=this.browserPageId)&&void 0!==xt?xt:0)+1):wr=0,this.setTransition({id:br,targetPageId:wr,source:F,restoredState:W,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:T,extras:ee,resolve:pn,reject:_r,promise:On,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),On.catch(is=>Promise.reject(is))}setBrowserUrl(T,F){const W=this.urlSerializer.serialize(T),ee=Object.assign(Object.assign({},F.extras.state),this.generateNgRouterState(F.id,F.targetPageId));this.location.isCurrentPathEqualTo(W)||F.extras.replaceUrl?this.location.replaceState(W,"",ee):this.location.go(W,"",ee)}restoreHistory(T,F=!1){var W,ee;if("computed"===this.canceledNavigationResolution){const Ce=this.currentPageId-T.targetPageId;"popstate"!==T.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(W=this.currentNavigation)||void 0===W?void 0:W.finalUrl)||0===Ce?this.currentUrlTree===(null===(ee=this.currentNavigation)||void 0===ee?void 0:ee.finalUrl)&&0===Ce&&(this.resetState(T),this.browserUrlTree=T.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Ce)}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(T),this.resetUrlToCurrentUrlTree())}resetState(T){this.routerState=T.currentRouterState,this.currentUrlTree=T.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,T.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(T,F){const W=new ge(T.id,this.serializeUrl(T.extractedUrl),F);this.triggerEvent(W),T.resolve(!1)}generateNgRouterState(T,F){return"computed"===this.canceledNavigationResolution?{navigationId:T,\u0275routerPageId:F}:{navigationId:T}}}return x.\u0275fac=function(T){g.$Z()},x.\u0275prov=g.Yz7({token:x,factory:x.\u0275fac}),x})();function Na(x){return"imperative"!==x}let af=(()=>{class x{constructor(T,F,W,ee,Ce){this.router=T,this.route=F,this.tabIndexAttribute=W,this.renderer=ee,this.el=Ce,this.commands=null,this.onChanges=new Ue.xQ,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(T){if(null!=this.tabIndexAttribute)return;const F=this.renderer,W=this.el.nativeElement;null!==T?F.setAttribute(W,"tabindex",T):F.removeAttribute(W,"tabindex")}ngOnChanges(T){this.onChanges.next(this)}set routerLink(T){null!=T?(this.commands=Array.isArray(T)?T:[T],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const T={skipLocationChange:Pa(this.skipLocationChange),replaceUrl:Pa(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,T),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Pa(this.preserveFragment)})}}return x.\u0275fac=function(T){return new(T||x)(g.Y36(Ni),g.Y36(Bi),g.$8M("tabindex"),g.Y36(g.Qsj),g.Y36(g.SBq))},x.\u0275dir=g.lG2({type:x,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(T,F){1&T&&g.NdJ("click",function(){return F.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[g.TTD]}),x})();function Pa(x){return""===x||!!x}class va{}class Uu{preload(M,T){return T().pipe(Vt(()=>nt(null)))}}class Ec{preload(M,T){return nt(null)}}let Ks=(()=>{class x{constructor(T,F,W,ee){this.router=T,this.injector=W,this.preloadingStrategy=ee,this.loader=new vc(W,F,xt=>T.triggerEvent(new Xn(xt)),xt=>T.triggerEvent(new jn(xt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,In.h)(T=>T instanceof ce),Vn(()=>this.preload())).subscribe(()=>{})}preload(){const T=this.injector.get(g.h0i);return this.processRoutes(T,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(T,F){const W=[];for(const ee of F)if(ee.loadChildren&&!ee.canLoad&&ee._loadedConfig){const Ce=ee._loadedConfig;W.push(this.processRoutes(Ce.module,Ce.routes))}else ee.loadChildren&&!ee.canLoad?W.push(this.preloadConfig(T,ee)):ee.children&&W.push(this.processRoutes(T,ee.children));return(0,Pt.D)(W).pipe((0,bt.J)(),(0,er.U)(ee=>{}))}preloadConfig(T,F){return this.preloadingStrategy.preload(F,()=>(F._loadedConfig?nt(F._loadedConfig):this.loader.load(T.injector,F)).pipe((0,Zt.zg)(ee=>(F._loadedConfig=ee,this.processRoutes(ee.module,ee.routes)))))}}return x.\u0275fac=function(T){return new(T||x)(g.LFG(Ni),g.LFG(g.Sil),g.LFG(g.zs3),g.LFG(va))},x.\u0275prov=g.Yz7({token:x,factory:x.\u0275fac}),x})(),rs=(()=>{class x{constructor(T,F,W={}){this.router=T,this.viewportScroller=F,this.options=W,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},W.scrollPositionRestoration=W.scrollPositionRestoration||"disabled",W.anchorScrolling=W.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(T=>{T instanceof tt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=T.navigationTrigger,this.restoredId=T.restoredState?T.restoredState.navigationId:0):T instanceof ce&&(this.lastId=T.id,this.scheduleScrollEvent(T,this.router.parseUrl(T.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(T=>{T instanceof Ii&&(T.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(T.position):T.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(T.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(T,F){this.router.triggerEvent(new Ii(T,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return x.\u0275fac=function(T){g.$Z()},x.\u0275prov=g.Yz7({token:x,factory:x.\u0275fac}),x})();const ti=new g.OlP("ROUTER_CONFIGURATION"),fl=new g.OlP("ROUTER_FORROOT_GUARD"),uf=[xe.Ye,{provide:ie,useClass:we},{provide:Ni,useFactory:function Ic(x,M,T,F,W,ee,Ce={},He,xt){const pn=new Ni(null,x,M,T,F,W,Mr(ee));return He&&(pn.urlHandlingStrategy=He),xt&&(pn.routeReuseStrategy=xt),function lf(x,M){x.errorHandler&&(M.errorHandler=x.errorHandler),x.malformedUriErrorHandler&&(M.malformedUriErrorHandler=x.malformedUriErrorHandler),x.onSameUrlNavigation&&(M.onSameUrlNavigation=x.onSameUrlNavigation),x.paramsInheritanceStrategy&&(M.paramsInheritanceStrategy=x.paramsInheritanceStrategy),x.relativeLinkResolution&&(M.relativeLinkResolution=x.relativeLinkResolution),x.urlUpdateStrategy&&(M.urlUpdateStrategy=x.urlUpdateStrategy),x.canceledNavigationResolution&&(M.canceledNavigationResolution=x.canceledNavigationResolution)}(Ce,pn),Ce.enableTracing&&pn.events.subscribe(_r=>{var On,br;null===(On=console.group)||void 0===On||On.call(console,`Router Event: ${_r.constructor.name}`),console.log(_r.toString()),console.log(_r),null===(br=console.groupEnd)||void 0===br||br.call(console)}),pn},deps:[ie,P,xe.Ye,g.zs3,g.Sil,su,ti,[class dd{},new g.FiY],[ul,new g.FiY]]},P,{provide:Bi,useFactory:function Ao(x){return x.routerState.root},deps:[Ni]},Ks,Ec,Uu,{provide:ti,useValue:{enableTracing:!1}}];function dl(){return new g.PXZ("Router",Ni)}let Ah=(()=>{class x{constructor(T,F){}static forRoot(T,F){return{ngModule:x,providers:[uf,cf(T),{provide:fl,useFactory:ju,deps:[[Ni,new g.FiY,new g.tp0]]},{provide:ti,useValue:F||{}},{provide:xe.S$,useFactory:Cc,deps:[xe.lw,[new g.tBr(xe.mr),new g.FiY],ti]},{provide:rs,useFactory:Mh,deps:[Ni,xe.EM,ti]},{provide:va,useExisting:F&&F.preloadingStrategy?F.preloadingStrategy:Ec},{provide:g.PXZ,multi:!0,useFactory:dl},[Dc,{provide:g.ip1,multi:!0,useFactory:hl,deps:[Dc]},{provide:Fs,useFactory:$u,deps:[Dc]},{provide:g.tb,multi:!0,useExisting:Fs}]]}}static forChild(T){return{ngModule:x,providers:[cf(T)]}}}return x.\u0275fac=function(T){return new(T||x)(g.LFG(fl,8),g.LFG(Ni,8))},x.\u0275mod=g.oAB({type:x}),x.\u0275inj=g.cJS({}),x})();function Mh(x,M,T){return T.scrollOffset&&M.setOffset(T.scrollOffset),new rs(x,M,T)}function Cc(x,M,T={}){return T.useHash?new xe.Do(x,M):new xe.b0(x,M)}function ju(x){return"guarded"}function cf(x){return[{provide:g.deG,multi:!0,useValue:x},{provide:su,multi:!0,useValue:x}]}let Dc=(()=>{class x{constructor(T){this.injector=T,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ue.xQ}appInitializer(){return this.injector.get(xe.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let F=null;const W=new Promise(He=>F=He),ee=this.injector.get(Ni),Ce=this.injector.get(ti);return"disabled"===Ce.initialNavigation?(ee.setUpLocationChangeListener(),F(!0)):"enabled"===Ce.initialNavigation||"enabledBlocking"===Ce.initialNavigation?(ee.hooks.afterPreactivation=()=>this.initNavigation?nt(null):(this.initNavigation=!0,F(!0),this.resultOfPreactivationDone),ee.initialNavigation()):F(!0),W})}bootstrapListener(T){const F=this.injector.get(ti),W=this.injector.get(Ks),ee=this.injector.get(rs),Ce=this.injector.get(Ni),He=this.injector.get(g.z2F);T===He.components[0]&&(("enabledNonBlocking"===F.initialNavigation||void 0===F.initialNavigation)&&Ce.initialNavigation(),W.setUpPreloading(),ee.init(),Ce.resetRootComponentType(He.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return x.\u0275fac=function(T){return new(T||x)(g.LFG(g.zs3))},x.\u0275prov=g.Yz7({token:x,factory:x.\u0275fac}),x})();function hl(x){return x.appInitializer.bind(x)}function $u(x){return x.bootstrapListener.bind(x)}const Fs=new g.OlP("Router Initializer")},5861:(Sn,Lt,de)=>{"use strict";function g($,je,nt,it,Qe,yt,ke){try{var fe=$[yt](ke),Ee=fe.value}catch(ve){return void nt(ve)}fe.done?je(Ee):Promise.resolve(Ee).then(it,Qe)}function Ae($){return function(){var je=this,nt=arguments;return new Promise(function(it,Qe){var yt=$.apply(je,nt);function ke(Ee){g(yt,it,Qe,ke,fe,"next",Ee)}function fe(Ee){g(yt,it,Qe,ke,fe,"throw",Ee)}ke(void 0)})}}de.d(Lt,{Z:()=>Ae})}},Sn=>{Sn(Sn.s=1936)}]);